define("application/config",[],function(){return function(UMI){UMI.config={iScroll:{scrollX:!0,probeType:3,mouseWheel:!0,scrollbars:!0,bounce:!1,click:!1,freeScroll:!1,keyBindings:!0,interactiveScrollbars:!0,fadeScrollbars:!0,disableMouse:!1},elFinder:{url:"/admin/api/files/manager/action/connector",lang:"ru",closeOnGetFileCallback:!0,uiOptions:{toolbar:[["back","forward"],["reload"],["getfile"],["mkdir","mkfile","upload"],["download"],["copy","cut","paste"],["rm"],["duplicate","rename","edit"],["view"],["help"]]}}},UMI.config.CkEditor=function(){var a={};a.toolbarGroups=[{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection"]},{name:"links"},{name:"insert"},{name:"forms"},{name:"tools"},{name:"document",groups:["mode","document","doctools"]},{name:"others"},"/",{name:"styles"},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"colors"},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]}],a.removeButtons="Underline,Subscript,Superscript",a.format_tags="p;h1;h2;h3;pre",a.removeDialogTabs="image:advanced;link:advanced";var b=Ember.get(window,"UmiSettings.locale")||"";b=b.split("-")[0];var c=["en","ru","de","es","it","uk"];return a.language=c.contains(b)?b:"en",a.height="450px",a.baseFloatZIndex=200,a.image_previewText=" ",a.baseHref=Ember.get(window,"UmiSettings.projectAssetsUrl"),a}}}),define("application/utils",["Modernizr"],function(a){return function(UMI){UMI.Utils={},UMI.Utils.htmlEncode=function(a){return a+="",a.replace(/[&<>"']/g,function(a){return"&"+{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#39"}[a]+";"})},UMI.Utils.replacePlaceholder=function(a,b){var c;return c=b.replace(/{\w+}/g,function(b){return b&&(b=b.slice(1,-1)),Ember.get(a,b)||b})},UMI.Utils.objectsMerge=function(a,b){Ember.warn('Incorrect type of arguments. ObjectsMerge method expects arguments of type "object"',"object"===Ember.typeOf(a)&&"object"===Ember.typeOf(b));for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},UMI.Utils.getStringValue=function(a){var b,c,d;switch(Ember.typeOf(a)){case"string":d=a;break;case"array":d=a.join(",");break;case"object":c=[];for(b in a)a.hasOwnProperty(b)&&c.push(UMI.Utils.getStringValue(a[b]));d=c}return d},UMI.Utils.LS={store:localStorage,init:function(){a.localstorage?localStorage.getItem("UMI")||localStorage.setItem("UMI",JSON.stringify({})):this.store={UMI:JSON.stringify({})}},get:function(a){var b=JSON.parse(this.store.UMI);return Ember.get(b,a)},set:function(b,c){var d=JSON.parse(this.store.UMI),e=b.split("."),f=0,g=function h(a,b,c){a.hasOwnProperty(b)||(a[b]={}),f<e.length-1?(f++,h(a[b],e[f],c)):a[b]=c};g(d,e[0],c),a.localstorage?this.store.setItem("UMI",JSON.stringify(d)):this.store.UMI=JSON.stringify(d)}},Ember.Handlebars.registerHelper("filterClassName",function(a,b){return a=Ember.Handlebars.helpers.unbound.apply(this,[a,b]),a=a.replace(/\./g,"__")}),UMI.Utils.LS.init(),window.mobileDetection={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}},mobileDetection.any(),a.addTest("csscalc",function(){var b="width:",c="calc(10px);",d=document.createElement("div");return d.style.cssText=b+a._prefixes.join(c+b),!!d.style.length}),a.addTest("cssfilters",function(){var b=document.createElement("div");return b.style.cssText=a._prefixes.join("filter:blur(2px); "),!!b.style.length&&(void 0===document.documentMode||document.documentMode>9)})}}),define("application/i18n",[],function(){return function(UMI){Ember.Handlebars.registerHelper("i18n",function(a,b){"string"!==Ember.typeOf(b)&&(b=void 0);var c=UMI.i18n.getTranslate(a,b);return c?c:a}),UMI.i18n=Ember.Object.extend({dictionary:{},setDictionary:function(a,b){var c,d=this.get("dictionary");b&&b&&(c="object"===Ember.typeOf(d[b])?d[b]:{},Ember.set(d,b,c));for(var e in a)a.hasOwnProperty(e)&&(b?Ember.set(Ember.get(d,b),e,a[e]):Ember.set(d,e,a[e]))},getTranslate:function(a,b){var c="dictionary."+(b?b+".":"")+a,d=this.get(c);return d?d:a}}).create({}),UMI.i18nInterface=Ember.Mixin.create({dictionaryNamespace:null,localDictionary:null,setDictionary:function(){UMI.i18n.setDictionary(this.get("localDictionary"),this.get("dictionaryNamespace"))},init:function(){this._super(),this.setDictionary()}})}}),define("application/templates.compile",["Ember"],function(a){a.TEMPLATES["UMI/application"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i,j="",k=this.escapeExpression,l=d.helperMissing;return f.buffer.push('<div class="s-full-height-before umi-header"> '),f.buffer.push(k(d.view.call(c,"topBar",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(" "),f.buffer.push(k((h=d.render||c&&c.render,i={hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f},h?h.call(c,"dock",i):l.call(c,"render","dock",i)))),f.buffer.push(" </div> "),g=d._triageMustache.call(c,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(g||0===g)&&f.buffer.push(g),f.buffer.push(" "),f.buffer.push(k((h=d.outlet||c&&c.outlet,i={hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f},h?h.call(c,"popup",i):l.call(c,"outlet","popup",i)))),j}),a.TEMPLATES["UMI/component"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"sideBarControl",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" <div "),b.buffer.push(l(d["bind-attr"].call(a,{hash:{"class":":umi-divider-right sideBarControl::wide"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push('> <div class="umi-component columns small-12 s-padding-clear s-full-height"> '),c=d._triageMustache.call(a,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> </div> "),e}function h(a,b){var c,e,f="";return b.buffer.push(' <div class="umi-divider-left"> <div class="umi-divider-left-content"> '),b.buffer.push(l((c=d.outlet||a&&a.outlet,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b},c?c.call(a,"sideBar",e):k.call(a,"outlet","sideBar",e)))),b.buffer.push(' </div> <div class="umi-divider"></div> </div> <div class="umi-left-bottom-panel s-unselectable"> <a href="javascript:void(0)" class="button white square umi-divider-left-toggle"> <i class="icon icon-left"></i> </a> </div> '),f}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j="",k=d.helperMissing,l=this.escapeExpression,m=this;return f.buffer.push('<div class="s-full-height"> '),i=d.view.call(c,"divider",{hash:{modelBinding:"model"},hashTypes:{modelBinding:"STRING"},hashContexts:{modelBinding:c},inverse:m.noop,fn:m.program(1,g,f),contexts:[c],types:["STRING"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(" </div>"),j}),a.TEMPLATES["UMI/editForm"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"formCollection","model",h):i.call(c,"render","formCollection","model",h))))}),a.TEMPLATES["UMI/empty"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h="";return f.buffer.push('<div class="s-full-height panel"> <h3 class="text-center">'),g=d._triageMustache.call(c,"model.control.params.content",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(g||0===g)&&f.buffer.push(g),f.buffer.push("</h3> </div> "),h}),a.TEMPLATES["UMI/files"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"fileManager",{hash:{content:"model"},hashTypes:{content:"ID"},hashContexts:{content:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/filter"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"tableControl","model",h):i.call(c,"render","tableControl","model",h))))}),a.TEMPLATES["UMI/getBacklinks"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"backlinksTable",{hash:{contentBinding:"model"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/host"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"yaHostTable",{hash:{contentBinding:"model"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/indexed"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"yaIndexesTable",{hash:{contentBinding:"model"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/simpleForm"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"formSimple","model",h):i.call(c,"render","formSimple","model",h))))}),a.TEMPLATES["UMI/simpleTable"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"tableCounters",{hash:{contentBinding:"model"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/siteAnalyze"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"siteAnalyzeTable",{hash:{contentBinding:"model"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/tops"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"yaTopsTable",{hash:{contentBinding:"model"},hashTypes:{contentBinding:"STRING"},hashContexts:{contentBinding:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/update"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"updateLayout",{hash:{data:"model"},hashTypes:{data:"ID"},hashContexts:{data:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/errors"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" <p>"),c=d._triageMustache.call(a,"model.content",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</p> "),e}function h(a,b){var c,e="";return b.buffer.push(' <div class="text-left"> <code>'),c=d._triageMustache.call(a,"stack",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</code> </div> "),e}function i(a,b){var c,e="";return b.buffer.push(' <div class="alert-box error"> <ul> '),c=d.each.call(a,"lists",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(6,j,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </ul> </div> "),e}function j(a,b){var c,e="";return b.buffer.push(" <li>"),c=d._triageMustache.call(a,"error",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</li> "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var k,l="",m=this;return f.buffer.push('<div class="umi-component s-full-height"> <div class="row"> <div class="small-10 columns small-centered text-center"> <p></p> <div>  <h2> '),k=d._triageMustache.call(c,"title",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(k||0===k)&&f.buffer.push(k),f.buffer.push(". </h2>  "),k=d["if"].call(c,"model.content",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,g,f),contexts:[c],types:["ID"],data:f}),(k||0===k)&&f.buffer.push(k),f.buffer.push(" "),k=d["if"].call(c,"stack",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(3,h,f),contexts:[c],types:["ID"],data:f}),(k||0===k)&&f.buffer.push(k),f.buffer.push(" "),k=d["if"].call(c,"lists",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(5,i,f),contexts:[c],types:["ID"],data:f}),(k||0===k)&&f.buffer.push(k),f.buffer.push(" </div> </div> </div> </div>"),l}),a.TEMPLATES["UMI/menu"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"sideMenu","model",h):i.call(c,"render","sideMenu","model",h))))}),a.TEMPLATES["UMI/tree"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"treeControl","model",h):i.call(c,"render","treeControl","model",h))))}),a.TEMPLATES["UMI/partials/dialog-layout"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <div class="umi-overlay"></div> <div '),b.buffer.push(j(d["bind-attr"].call(a,{hash:{"class":":umi-dialog model.type"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("> "),c=d["if"].call(a,"model.close",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d._triageMustache.call(a,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> "),e}function h(a,b){var c="";return b.buffer.push(' <a href="" '),b.buffer.push(j(d.action.call(a,"close","model",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push(' class="close"><i class="icon white icon-close"></i></a> '),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j=this.escapeExpression,k=this;i=d["if"].call(c,"model",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["ID"],data:f}),f.buffer.push(i||0===i?i:"")}),a.TEMPLATES["UMI/partials/dialog-template"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <div class="umi-dialog-header">'),c=d._triageMustache.call(a,"model.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</div> "),e}function h(a,b){var c="";return b.buffer.push(' <div class="umi-dialog-content"> '),b.buffer.push(n(d._triageMustache.call(a,"model.content",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:a},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" </div> "),c}function i(a,b){var c,e="";return b.buffer.push(' <div class="umi-dialog-buttons"> '),c=d["if"].call(a,"model.confirm",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(6,j,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d["if"].call(a,"model.reject",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(8,k,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> "),e}function j(a,b){var c,e="";return b.buffer.push(' <button class="button primary left" '),b.buffer.push(n(d.action.call(a,"confirm",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(">"),c=d._triageMustache.call(a,"model.confirm",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</button> "),e}function k(a,b){var c,e="";return b.buffer.push(' <button class="button secondary right" '),b.buffer.push(n(d.action.call(a,"close",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(">"),c=d._triageMustache.call(a,"model.reject",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</button> "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var l,m="",n=this.escapeExpression,o=this;return l=d["if"].call(c,"model.title",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(1,g,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),f.buffer.push(' <div class="umi-dialog-section"> '),l=d["if"].call(c,"model.content",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(3,h,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),f.buffer.push(" "),l=d["if"].call(c,"view.hasButtons",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(5,i,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),f.buffer.push(" </div>"),m}),a.TEMPLATES["UMI/partials/dock"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"dockModuleButton",{hash:{module:"module"},hashTypes:{module:"ID"},hashContexts:{module:a},inverse:t.noop,fn:t.program(2,h,b),contexts:[a],types:["STRING"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function h(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.parentView.isTouchDevice",{hash:{},hashTypes:{},hashContexts:{},inverse:t.program(5,j,b),fn:t.program(3,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" <ul "),b.buffer.push(s(d["bind-attr"].call(a,{hash:{"class":":f-dropdown view.parentView.isTouchDevice:is-touch-mode"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push(" data-dropdown-content> "),c=d.each.call(a,"component","in","module.components",{hash:{},hashTypes:{},hashContexts:{},inverse:t.noop,fn:t.program(8,l,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </ul> "),e}function i(a,b){var c,e="";return b.buffer.push(' <a href="javascript: void(0)" class="dock-module dropdown" data-dropdown="" data-options="selectorById: false; isHover: true; buttonSelector: .dropdown;"> <div class="umi-dock-module-icon umi-dock-module-'),b.buffer.push(s(d.unbound.call(a,"view.module.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push('"></div> <span>'),c=d._triageMustache.call(a,"module.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</span> </a> "),e}function j(a,b){var c,e,f,g="";return b.buffer.push(" "),e=d["link-to"]||a&&a["link-to"],f={hash:{"class":"dock-module dropdown","data-dropdown":"","data-options":"selectorById: false; isHover: true; buttonSelector: .dropdown;"},hashTypes:{"class":"STRING","data-dropdown":"STRING","data-options":"STRING"},hashContexts:{"class":a,"data-dropdown":a,"data-options":a},inverse:t.noop,fn:t.program(6,k,b),contexts:[a,a],types:["STRING","ID"],data:b},c=e?e.call(a,"module","module.name",f):u.call(a,"link-to","module","module.name",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),g}function k(a,b){var c,e="";return b.buffer.push(' <div class="umi-dock-module-icon umi-dock-module-'),b.buffer.push(s(d.unbound.call(a,"view.module.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push('"></div> <span>'),c=d._triageMustache.call(a,"module.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</span> "),e}function l(a,b){var c,e,f,g="";return b.buffer.push(' <li class="'),b.buffer.push(s(d.unbound.call(a,"component.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push('"> '),e=d["link-to"]||a&&a["link-to"],f={hash:{},hashTypes:{},hashContexts:{},inverse:t.noop,fn:t.program(9,m,b),contexts:[a,a,a],types:["STRING","ID","ID"],data:b},c=e?e.call(a,"component","module.name","component.name",f):u.call(a,"link-to","component","module.name","component.name",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </li> "),g}function m(a,b){var c,e="";return b.buffer.push(" "),c=d._triageMustache.call(a,"component.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function n(a,b){var c,e="";return b.buffer.push(" "),c=d["with"].call(a,"activeModule","as","module",{hash:{},hashTypes:{},hashContexts:{},inverse:t.noop,fn:t.program(12,o,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function o(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"component","in","module.components",{hash:{},hashTypes:{},hashContexts:{},inverse:t.noop,fn:t.program(13,p,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function p(a,b){var c,e,f,g="";return b.buffer.push(" "),e=d["link-to"]||a&&a["link-to"],f={hash:{"class":"component.name"},hashTypes:{"class":"ID"},hashContexts:{"class":a},inverse:t.noop,fn:t.program(9,m,b),contexts:[a,a,a],types:["STRING","ID","ID"],data:b},c=e?e.call(a,"component","module.name","component.name",f):u.call(a,"link-to","component","module.name","component.name",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),g}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var q,r="",s=this.escapeExpression,t=this,u=d.helperMissing;return f.buffer.push('<div class="dock-wrapper"> <div class="dock-wrapper-bg"> <ul class="dock navigation"> '),q=d.each.call(c,"module","in","sortedModules",{hash:{},hashTypes:{},hashContexts:{},inverse:t.noop,fn:t.program(1,g,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(q||0===q)&&f.buffer.push(q),f.buffer.push(' </ul> </div> </div> <div class="dock-components"> <nav class="components-nav"> '),q=d["if"].call(c,"activeModule",{hash:{},hashTypes:{},hashContexts:{},inverse:t.noop,fn:t.program(11,n,f),contexts:[c],types:["ID"],data:f}),(q||0===q)&&f.buffer.push(q),f.buffer.push(" </nav> </div>"),r}),a.TEMPLATES["UMI/partials/checkboxGroup/CollectionElement"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(" "),b.buffer.push(i(d.view.call(a,"view.checkboxElementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i=this.escapeExpression,j=this;h=d.each.call(c,"meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:j.noop,fn:j.program(1,g,f),contexts:[c],types:["ID"],data:f}),f.buffer.push(h||0===h?h:"")}),a.TEMPLATES["UMI/partials/checkboxGroup"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(" "),b.buffer.push(i(d.view.call(a,"checkboxElement",{hash:{meta:"element"},hashTypes:{meta:"ID"},hashContexts:{meta:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i=this.escapeExpression,j=this;h=d.each.call(c,"element","in","meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:j.noop,fn:j.program(1,g,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),f.buffer.push(h||0===h?h:"")}),a.TEMPLATES["UMI/partials/dateElement"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g="",h=this.escapeExpression;return f.buffer.push('<div class="small-11 columns"> '),f.buffer.push(h(d.view.call(c,"textElement",{hash:{object:"view.object",meta:"view.meta"},hashTypes:{object:"ID",meta:"ID"},hashContexts:{object:c,meta:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(' </div> <div class="small-1 columns"> <span class="postfix" '),f.buffer.push(h(d.action.call(c,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push('> <i class="icon icon-delete"></i> </span> </div>'),g}),a.TEMPLATES["UMI/partials/dateTimeElement"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i="",j=d.helperMissing,k=this.escapeExpression;return f.buffer.push('<div class="small-11 columns"> '),f.buffer.push(k((g=d.input||c&&c.input,h={hash:{type:"text","class":"umi-date",value:"view.value"},hashTypes:{type:"STRING","class":"STRING",value:"ID"},hashContexts:{type:c,"class":c,value:c},contexts:[],types:[],data:f},g?g.call(c,h):j.call(c,"input",h)))),f.buffer.push(' </div> <div class="small-1 columns"> <span class="postfix" '),f.buffer.push(k(d.action.call(c,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push('> <i class="icon icon-delete"></i> </span> </div>'),i}),a.TEMPLATES["UMI/partials/fileElement"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(' <li> <span class="button flat white square" '),b.buffer.push(j(d.action.call(a,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push('> <i class="icon icon-delete"></i> </span> </li> '),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return f.buffer.push("<div "),f.buffer.push(j(d["bind-attr"].call(c,{hash:{"class":":small-2 :columns :umi-columns-fixed view.value:small-2-right:small-1-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":c},contexts:[],types:[],data:f}))),f.buffer.push('> <span class="postfix"> <span class="button-group"> <li> <span class="button flat white square" '),f.buffer.push(j(d.action.call(c,"showPopup","view.popupParams",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c,c],types:["STRING","ID"],data:f}))),f.buffer.push('> <i class="icon icon-open-folder"></i> </span> </li> '),h=d["if"].call(c,"view.value",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(' </span> </span> </div> <div class="small-10 columns"> '),f.buffer.push(j(d.view.call(c,"textElement",{hash:{object:"view.object",meta:"view.meta"},hashTypes:{object:"ID",meta:"ID"},hashContexts:{object:c,meta:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(" </div>"),i}),a.TEMPLATES["UMI/partials/multi-select-lazy-choices"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <ul class="umi-multi-select-list"> '),c=d.each.call(a,"view.notSelectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:p.program(4,i,b),fn:p.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </ul> "),e}function h(a,b){var c,e="";return b.buffer.push(" <li "),b.buffer.push(n(d.action.call(a,"select","id",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push(" "),b.buffer.push(n(d["bind-attr"].call(a,{hash:{"class":"hover"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("> "),c=d._triageMustache.call(a,"displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </li> "),e}function i(a,b){var c,e,f="";return b.buffer.push(' <li class="placeholder"> '),b.buffer.push(n((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b},c?c.call(a,"Nothing found",e):o.call(a,"i18n","Nothing found",e)))),b.buffer.push(" </li> "),f}function j(a,b){var c,e="";return b.buffer.push(' <div class="selected-list"> '),c=d.each.call(a,"view.selectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(7,k,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> "),e}function k(a,b){var c,e="";return b.buffer.push(' <div class="item" '),b.buffer.push(n(d.action.call(a,"unSelect","id",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push(">"),c=d._triageMustache.call(a,"displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' <i class="close">&times;</i></div> '),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var l,m="",n=this.escapeExpression,o=d.helperMissing,p=this;return f.buffer.push('<div class="small-12 columns"> '),f.buffer.push(n(d.view.call(c,"view.inputView",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}))),f.buffer.push(' <span class="postfix radius" '),f.buffer.push(n(d.action.call(c,"toggleList",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push('> <i class="triangle"></i> </span> '),l=d["if"].call(c,"view.isOpen",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(1,g,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),f.buffer.push(" </div> "),l=d["if"].call(c,"view.selectedObjects.length",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(6,j,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),m}),a.TEMPLATES["UMI/partials/multi-select"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <ul class="umi-multi-select-list"> '),c=d.each.call(a,"view.notSelectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:p.program(4,i,b),fn:p.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </ul> "),e}function h(a,b){var c,e="";return b.buffer.push(" <li "),b.buffer.push(n(d.action.call(a,"select","value",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push(" "),b.buffer.push(n(d["bind-attr"].call(a,{hash:{"class":"hover"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("> "),c=d._triageMustache.call(a,"label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </li> "),e
}function i(a,b){var c,e,f="";return b.buffer.push(' <li class="placeholder"> '),b.buffer.push(n((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b},c?c.call(a,"Nothing found",e):o.call(a,"i18n","Nothing found",e)))),b.buffer.push(" </li> "),f}function j(a,b){var c,e="";return b.buffer.push(' <div class="selected-list"> '),c=d.each.call(a,"view.selectedObjects",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(7,k,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> "),e}function k(a,b){var c,e="";return b.buffer.push(' <div class="item" '),b.buffer.push(n(d.action.call(a,"unSelect","value",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push(">"),c=d._triageMustache.call(a,"label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' <i class="close">&times;</i></div> '),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var l,m="",n=this.escapeExpression,o=d.helperMissing,p=this;return f.buffer.push('<div class="small-12 columns"> '),f.buffer.push(n(d.view.call(c,"view.inputView",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}))),f.buffer.push(' <span class="postfix radius" '),f.buffer.push(n(d.action.call(c,"toggleList",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push('> <i class="triangle"></i> </span> '),l=d["if"].call(c,"view.isOpen",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(1,g,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),f.buffer.push(" </div> "),l=d["if"].call(c,"view.selectedObjects.length",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(6,j,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),m}),a.TEMPLATES["UMI/partials/objectRelationElement"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(' <li> <span class="button flat white square" '),b.buffer.push(j(d.action.call(a,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push('> <i class="icon icon-delete"></i> </span> </li> '),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return f.buffer.push("<div "),f.buffer.push(j(d["bind-attr"].call(c,{hash:{"class":":small-2 :columns :umi-columns-fixed view.value:small-2-right:small-1-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":c},contexts:[],types:[],data:f}))),f.buffer.push('> <span class="postfix"> <span class="button-group"> <li> <span class="button flat white square" '),f.buffer.push(j(d.action.call(c,"showPopup","view.popupParams",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c,c],types:["STRING","ID"],data:f}))),f.buffer.push('> <i class="icon icon-open-folder"></i> </span> </li> '),h=d["if"].call(c,"view.value",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(' </span> </span> </div> <div class="small-10 columns"> '),f.buffer.push(j(d.view.call(c,"view.inputView",{hash:{object:"view.object",meta:"view.meta"},hashTypes:{object:"ID",meta:"ID"},hashContexts:{object:c,meta:c},contexts:[c],types:["ID"],data:f}))),f.buffer.push(" </div>"),i}),a.TEMPLATES["UMI/partials/objectRelationLayout"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e,f,g="";return b.buffer.push(" "),c=d["if"].call(a,"sideBarControl",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" <div "),b.buffer.push(j(d["bind-attr"].call(a,{hash:{"class":":umi-divider-right sideBarControl::wide"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push('> <div class="columns small-12 s-padding-clear s-full-height"> '),b.buffer.push(j((e=d.render||a&&a.render,f={hash:{},hashTypes:{},hashContexts:{},contexts:[a,a],types:["STRING","ID"],data:b},e?e.call(a,"tableControlShared","tableControlSettings",f):l.call(a,"render","tableControlShared","tableControlSettings",f)))),b.buffer.push(" </div> </div> "),g}function h(a,b){var c="";return b.buffer.push(' <div class="umi-divider-left"> <div class="umi-divider-left-content"> '),b.buffer.push(j(d.view.call(a,"view.parentView.sideMenu",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(' </div> <div class="umi-divider"></div> </div> <div class="umi-left-bottom-panel s-unselectable"> <a href="javascript:void(0)" class="button white square umi-divider-left-toggle"> <i class="icon icon-left"></i> </a> </div> '),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j=this.escapeExpression,k=this,l=d.helperMissing;i=d.view.call(c,"divider",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["STRING"],data:f}),f.buffer.push(i||0===i?i:"")}),a.TEMPLATES["UMI/partials/objectRelationLayout/sideMenu"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"view.itemView",{hash:{item:"item"},hashTypes:{item:"ID"},hashContexts:{item:a},inverse:j.noop,fn:j.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function h(a,b){var c,e="";return b.buffer.push(' <a href="javascript:void(0)">'),c=d._triageMustache.call(a,"item.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</a> "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j=this;i=d.each.call(c,"item","in","collections",{hash:{},hashTypes:{},hashContexts:{},inverse:j.noop,fn:j.program(1,g,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),f.buffer.push(i||0===i?i:"")}),a.TEMPLATES["UMI/partials/permissions"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <dl class="accordion"> <dd class="accordion-navigation"> <a class="accordion-navigation-button" href="javascript:void(0)"><i class="icon icon-right"></i> '),c=d._triageMustache.call(a,"component.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push('</a> <div class="content"> '),b.buffer.push(j(d.view.call(a,"permissionsPartial",{hash:{component:"component"},hashTypes:{component:"ID"},hashContexts:{component:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </div> </dd> </dl> "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return f.buffer.push('<div class="umi-permissions"> '),h=d.each.call(c,"component","in","view.meta.resources",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(" </div>"),i}),a.TEMPLATES["UMI/partials/permissions/partial"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <li class="umi-permissions-role-list-item"> <div class="umi-permissions-role"> '),c=d["if"].call(a,"role.component",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' <span class="umi-permissions-role-label" '),b.buffer.push(k(d["bind-attr"].call(a,{hash:{"data-permissions-component-path":"view.component.path"},hashTypes:{"data-permissions-component-path":"STRING"},hashContexts:{"data-permissions-component-path":a},contexts:[],types:[],data:b}))),b.buffer.push("> "),b.buffer.push(k(d.view.call(a,"checkboxElement",{hash:{meta:"role",name:"role.value",attributeValue:"role.value",value:"",className:"umi-permissions-role-checkbox"},hashTypes:{meta:"ID",name:"ID",attributeValue:"ID",value:"STRING",className:"STRING"},hashContexts:{meta:a,name:a,attributeValue:a,value:a,className:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </span> </div> "),c=d["if"].call(a,"role.component",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(4,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </li> "),e}function h(a,b){b.buffer.push(' <span class="button tiny square white left s-margin-clear umi-permissions-role-button-expand"> <i class="icon icon-right"></i> </span> ')}function i(a,b){var c="";return b.buffer.push(' <div class="umi-permissions-component"> '),b.buffer.push(k(d.view.call(a,"permissionsPartial",{hash:{component:"role.component"},hashTypes:{component:"ID"},hashContexts:{component:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </div> "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var j,k=this.escapeExpression,l=this;j=d.each.call(c,"role","in","view.component.roles",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(1,g,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),f.buffer.push(j||0===j?j:"")}),a.TEMPLATES["UMI/partials/radioElement"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(" "),b.buffer.push(i(d.view.call(a,"view.radioElementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i=this.escapeExpression,j=this;h=d.each.call(c,"view.meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:j.noop,fn:j.program(1,g,f),contexts:[c],types:["ID"],data:f}),f.buffer.push(h||0===h?h:"")}),a.TEMPLATES["UMI/partials/singleCollectionObjectRelationElement"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(' <li> <span class="button flat white square" '),b.buffer.push(j(d.action.call(a,"clearValue",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push('> <i class="icon icon-delete"></i> </span> </li> '),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return f.buffer.push("<div "),f.buffer.push(j(d["bind-attr"].call(c,{hash:{"class":":small-2 :columns :umi-columns-fixed view.value:small-2-right:small-1-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":c},contexts:[],types:[],data:f}))),f.buffer.push('> <span class="postfix"> <span class="button-group"> <li> <span class="button flat white square" '),f.buffer.push(j(d.action.call(c,"showPopup","view.popupParams",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c,c],types:["STRING","ID"],data:f}))),f.buffer.push('> <i class="icon icon-open-folder"></i> </span> </li> '),h=d["if"].call(c,"view.value",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(' </span> </span> </div> <div class="small-10 columns"> '),f.buffer.push(j(d.view.call(c,"textElement",{hash:{object:"view.object",meta:"view.meta"},hashTypes:{object:"ID",meta:"ID"},hashContexts:{object:c,meta:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(" </div> "),i}),a.TEMPLATES["UMI/partials/textareaElement"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g="",h=this.escapeExpression;return f.buffer.push(h(d.view.call(c,"view.textareaView",{hash:{meta:"view.meta",object:"view.object"},hashTypes:{meta:"ID",object:"ID"},hashContexts:{meta:c,object:c},contexts:[c],types:["ID"],data:f}))),f.buffer.push(' <div class="umi-element-textarea-resizer"></div>'),g}),a.TEMPLATES["UMI/partials/timeElement"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g="",h=this.escapeExpression;return f.buffer.push('<div class="small-11 columns"> '),f.buffer.push(h(d.view.call(c,"view.inputView",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}))),f.buffer.push(' </div> <div class="small-1 columns"> <span class="postfix"> <i class="icon icon-delete"></i> </span> </div> <style> .umi-time-picker{ position: absolute; float: left; width: 200px; height: 200px; background: #FFFFFF; } </style>'),g}),a.TEMPLATES["UMI/partials/formCollection"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(' <div class="s-full-height-before"> '),b.buffer.push(p(d.view.call(a,"toolbar",{hash:{toolbar:"control.toolbar"},hashTypes:{toolbar:"ID"},hashContexts:{toolbar:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </div> "),c}function h(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"magellan",{hash:{elements:"view.fieldsetElements"},hashTypes:{elements:"ID"},hashContexts:{elements:a},inverse:q.noop,fn:q.program(4,i,b),contexts:[a],types:["STRING"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function i(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"formElement","in","view.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:q.noop,fn:q.program(5,j,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function j(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"view.buttonView",{hash:{model:"formElement"},hashTypes:{model:"ID"},hashContexts:{model:a},inverse:q.noop,fn:q.program(6,k,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function k(a,b){var c,e="";return b.buffer.push(" "),c=d._triageMustache.call(a,"formElement.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function l(a,b){var c="";return b.buffer.push(" "),b.buffer.push(p(d.view.call(a,"view.elementView",{hash:{metaBinding:"formElement",objectBinding:"controller.object"},hashTypes:{metaBinding:"STRING",objectBinding:"STRING"},hashContexts:{metaBinding:a,objectBinding:a},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}function m(a,b){var c="";return b.buffer.push(" "),b.buffer.push(p(d.view.call(a,"submitToolbar",{hash:{elements:"control.submitToolbar"},hashTypes:{elements:"ID"},hashContexts:{elements:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var n,o="",p=this.escapeExpression,q=this;return n=d["if"].call(c,"control.toolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:q.noop,fn:q.program(1,g,f),contexts:[c],types:["ID"],data:f}),(n||0===n)&&f.buffer.push(n),f.buffer.push(' <div class="s-full-height"> '),n=d["if"].call(c,"view.hasFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:q.noop,fn:q.program(3,h,f),contexts:[c],types:["ID"],data:f}),(n||0===n)&&f.buffer.push(n),f.buffer.push(' <div class="row s-full-height collapse"> <div class="columns small-12 magellan-content"> '),n=d.each.call(c,"formElement","in","formElements",{hash:{},hashTypes:{},hashContexts:{},inverse:q.noop,fn:q.program(8,l,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(n||0===n)&&f.buffer.push(n),f.buffer.push(" </div> </div> </div> "),n=d["if"].call(c,"control.submitToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:q.noop,fn:q.program(10,m,f),contexts:[c],types:["ID"],data:f}),(n||0===n)&&f.buffer.push(n),o}),a.TEMPLATES["UMI/partials/formSimple"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(' <div class="s-full-height-before"> '),b.buffer.push(q(d.view.call(a,"toolbar",{hash:{toolbar:"control.toolbar"},hashTypes:{toolbar:"ID"},hashContexts:{toolbar:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </div> "),c}function h(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"magellan",{hash:{elements:"view.fieldsetElements"},hashTypes:{elements:"ID"},hashContexts:{elements:a},inverse:r.noop,fn:r.program(4,i,b),contexts:[a],types:["STRING"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function i(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"formElement","in","view.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:r.noop,fn:r.program(5,j,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function j(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"view.buttonView",{hash:{model:"formElement"},hashTypes:{model:"ID"},hashContexts:{model:a},inverse:r.noop,fn:r.program(6,k,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function k(a,b){var c,e="";return b.buffer.push(" "),c=d._triageMustache.call(a,"formElement.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function l(a,b){b.buffer.push(" <br /> ")}function m(a,b){var c="";return b.buffer.push(" "),b.buffer.push(q(d.view.call(a,"view.elementView",{hash:{metaBinding:"formElement",objectBinding:"formElement"},hashTypes:{metaBinding:"STRING",objectBinding:"STRING"},hashContexts:{metaBinding:a,objectBinding:a},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}function n(a,b){var c="";return b.buffer.push(" "),b.buffer.push(q(d.view.call(a,"view.submitToolbarView",{hash:{elements:"model.control.submitToolbar"},hashTypes:{elements:"ID"},hashContexts:{elements:a},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var o,p="",q=this.escapeExpression,r=this;return o=d["if"].call(c,"control.toolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:r.noop,fn:r.program(1,g,f),contexts:[c],types:["ID"],data:f}),(o||0===o)&&f.buffer.push(o),f.buffer.push(' <div class="s-full-height"> '),o=d["if"].call(c,"view.hasFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:r.noop,fn:r.program(3,h,f),contexts:[c],types:["ID"],data:f}),(o||0===o)&&f.buffer.push(o),f.buffer.push(' <div class="row s-full-height collapse"> <div class="columns small-12 magellan-content"> '),o=d.unless.call(c,"view.hasFieldset",{hash:{},hashTypes:{},hashContexts:{},inverse:r.noop,fn:r.program(8,l,f),contexts:[c],types:["ID"],data:f}),(o||0===o)&&f.buffer.push(o),f.buffer.push(" "),o=d.each.call(c,"formElement","in","formElements",{hash:{},hashTypes:{},hashContexts:{},inverse:r.noop,fn:r.program(10,m,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(o||0===o)&&f.buffer.push(o),f.buffer.push(" </div> </div> </div> "),o=d["if"].call(c,"model.control.submitToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:r.noop,fn:r.program(12,n,f),contexts:[c],types:["ID"],data:f}),(o||0===o)&&f.buffer.push(o),p}),a.TEMPLATES["UMI/partials/form/submitToolbar"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(" "),b.buffer.push(i(d.view.call(a,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i=this.escapeExpression,j=this;h=d.each.call(c,"view.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:j.noop,fn:j.program(1,g,f),contexts:[c],types:["ID"],data:f}),f.buffer.push(h||0===h?h:"")}),a.TEMPLATES["UMI/partials/alert-box/close-all"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d._triageMustache.call(c,"view.content.content",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:c},contexts:[c],types:["ID"],data:f})))}),a.TEMPLATES["UMI/partials/alert-box"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <h5 class="subheader">'),c=d._triageMustache.call(a,"view.content.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</h5> "),e}function h(a,b){var c="";return b.buffer.push(" <span "),b.buffer.push(k(d.action.call(a,"close","view.content",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push(' class="close"><i class="icon icon-close white"></i></span> '),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j="",k=this.escapeExpression,l=this;return i=d["if"].call(c,"view.content.title",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(1,g,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(" "),f.buffer.push(k(d._triageMustache.call(c,"view.content.content",{hash:{unescaped:"true"},hashTypes:{unescaped:"STRING"},hashContexts:{unescaped:c},contexts:[c],types:["ID"],data:f}))),f.buffer.push(" "),i=d["if"].call(c,"view.content.close",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(3,h,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),j}),a.TEMPLATES["UMI/partials/popup/fileManager"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g=this.escapeExpression;f.buffer.push(g(d.view.call(c,"fileManager",{hash:{templateParams:"templateParams"},hashTypes:{templateParams:"ID"},hashContexts:{templateParams:c},contexts:[c],types:["STRING"],data:f})))}),a.TEMPLATES["UMI/partials/popup"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <div class="s-scroll-wrap"> <div> '),c=d._triageMustache.call(a,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> </div> "),e}function h(a,b){var c,e="";return b.buffer.push(" "),c=d._triageMustache.call(a,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j="",k=this.escapeExpression,l=this;return f.buffer.push('<div class="umi-popup-header"> <span class="umi-popup-title">'),i=d._triageMustache.call(c,"view.title",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push('</span> <a href="#" class="umi-popup-close-button" '),f.buffer.push(k(d.action.call(c,"closePopup",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push('> <i class="icon white icon-close"></i> </a> </div> <div class="umi-popup-content"> '),i=d["if"].call(c,"view.hasScroll",{hash:{},hashTypes:{},hashContexts:{},inverse:l.program(3,h,f),fn:l.program(1,g,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(' </div> <div class="umi-popup-resizer"></div>'),j}),a.TEMPLATES["UMI/partials/popup/objectRelation"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"objectRelationLayout","templateParams",h):i.call(c,"render","objectRelationLayout","templateParams",h))))}),a.TEMPLATES["UMI/partials/popup/singleCollectionObjectRelation"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"singleCollectionObjectRelationLayout","templateParams",h):i.call(c,"render","singleCollectionObjectRelationLayout","templateParams",h))))}),a.TEMPLATES["UMI/partials/sideMenu"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e,f,g="";return b.buffer.push(" "),e=d["link-to"]||a&&a["link-to"],f={hash:{tagName:"li"},hashTypes:{tagName:"STRING"},hashContexts:{tagName:a},inverse:k.noop,fn:k.program(2,h,b),contexts:[a,a],types:["STRING","ID"],data:b},c=e?e.call(a,"context","object.id",f):l.call(a,"link-to","context","object.id",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),g}function h(a,b){var c,e="";return b.buffer.push('<a href="javascript:void(0)">'),c=d._triageMustache.call(a,"object.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</a>"),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j="",k=this,l=d.helperMissing;return f.buffer.push('<ul class="side-nav"> '),i=d.each.call(c,"object","in","objects",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(" </ul> "),j}),a.TEMPLATES["UMI/partials/table"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(' <p></p> <h3 class="text-center">'),c=d._triageMustache.call(a,"view.error",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</h3> "),e}function h(a,b){var c,e="";return b.buffer.push(" "),b.buffer.push(q(d.view.call(a,"view.paginationView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(' <div class="umi-table-header-wrap"> <table class="umi-table-header"> <tbody> <tr class="umi-table-tr"> '),c=d.each.call(a,"view.headers",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(4,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' <td class="umi-table-empty-column"></td> </tr> </tbody> </table> </div> <div class="umi-table-header-shadow"></div> <div class="s-scroll-wrap"> <table class="umi-table-content"> <tbody> <tr class="umi-table-content-sizer"> '),c=d.each.call(a,"view.headers",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(6,j,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </tr> "),c=d.each.call(a,"row","in","view.visibleRows",{hash:{},hashTypes:{},hashContexts:{},inverse:o.program(11,m,b),fn:o.program(8,k,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </tbody> </table> </div> "),e}function i(a,b){var c,e="";return b.buffer.push(' <td class="umi-table-td" style="width: 200px;"> <div class="umi-table-td-relative-wrap"> <div class="umi-table-cell">'),c=d._triageMustache.call(a,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push('</div> <div class="umi-table-header-column-resizer"></div> </div> </td> '),e}function j(a,b){b.buffer.push(' <td class="umi-table-td" style="width: 200px;"></td> ')}function k(a,b){var c,e="";return b.buffer.push(' <tr class="umi-table-content-tr"> '),c=d.each.call(a,"property","in","row",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(9,l,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' <td class="umi-table-empty-column"></td> </tr> '),e}function l(a,b){var c,e="";return b.buffer.push(' <td class="umi-table-td"> <div class="umi-table-cell">'),c=d._triageMustache.call(a,"property",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</div> </td> "),e}function m(a,b){var c,e,f="";return b.buffer.push(' <tr class="umi-table-content-tr"> <td> '),b.buffer.push(q((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a,a],types:["STRING","STRING"],data:b},c?c.call(a,"No data","table",e):p.call(a,"i18n","No data","table",e)))),b.buffer.push(" </td> </tr> "),f}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var n,o=this,p=d.helperMissing,q=this.escapeExpression;n=d["if"].call(c,"view.error",{hash:{},hashTypes:{},hashContexts:{},inverse:o.program(3,h,f),fn:o.program(1,g,f),contexts:[c],types:["ID"],data:f}),f.buffer.push(n||0===n?n:"")}),a.TEMPLATES["UMI/partials/table/toolbar"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){b.buffer.push(' <i class="icon black icon-left-thin"></i> ')}function h(a,b){b.buffer.push(' <i class="icon black icon-right-thin"></i> ')}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j,k,l="",m=this,n=d.helperMissing,o=this.escapeExpression;return f.buffer.push('<div class="right umi-table-control-pagination"> <div class="right pagination-controls"> <span class="pagination-counter"> '),i=d._triageMustache.call(c,"view.counter",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(" </span> "),i=d.view.call(c,"view.prevButtonView",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,g,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(" "),i=d.view.call(c,"view.nextButtonView",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(3,h,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(' </div> <div class="right pagination-limit"> <span class="pagination-label">'),f.buffer.push(o((j=d.i18n||c&&c.i18n,k={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","STRING"],data:f},j?j.call(c,"Rows on page","table",k):n.call(c,"i18n","Rows on page","table",k)))),f.buffer.push(":</span> "),f.buffer.push(o(d.view.call(c,"view.limitView",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}))),f.buffer.push(" </div> </div> "),l}),a.TEMPLATES["UMI/partials/popup/tableControl"]=a.Handlebars.template(function(b,c,d,e,f){this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var g,h,i=d.helperMissing,j=this.escapeExpression;f.buffer.push(j((g=d.render||c&&c.render,h={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","ID"],data:f},g?g.call(c,"tableControlPopup","templateParams",h):i.call(c,"render","tableControlPopup","templateParams",h))))}),a.TEMPLATES["UMI/partials/tableControl/configuration"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(' <li class="umi-list-item"> '),b.buffer.push(l(d.view.call(a,"checkboxElement",{hash:{object:"",meta:"",objectNeedChange:!0},hashTypes:{object:"ID",meta:"ID",objectNeedChange:"BOOLEAN"},hashContexts:{object:a,meta:a,objectNeedChange:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </li> "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i,j,k="",l=this.escapeExpression,m=this,n=d.helperMissing;return f.buffer.push('<div class="umi-popup-content-with-bottom"> <div class="s-scroll-wrap"> <ul class="no-bullet umi-list striped"> '),h=d.each.call(c,"fieldsList",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,g,f),contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(' </ul> </div> </div> <div class="umi-popup-bottom"> <div class="right"> <span class="button secondary" '),f.buffer.push(l(d.action.call(c,"setDefault",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(">"),f.buffer.push(l((i=d.i18n||c&&c.i18n,j={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","STRING"],data:f},i?i.call(c,"Default","tableControl",j):n.call(c,"i18n","Default","tableControl",j)))),f.buffer.push("</span> <span "),f.buffer.push(l(d["bind-attr"].call(c,{hash:{"class":":button isDirty::disabled"},hashTypes:{"class":"STRING"},hashContexts:{"class":c},contexts:[],types:[],data:f}))),f.buffer.push(" "),f.buffer.push(l(d.action.call(c,"apply",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(">"),f.buffer.push(l((i=d.i18n||c&&c.i18n,j={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","STRING"],data:f},i?i.call(c,"Apply","tableControl",j):n.call(c,"i18n","Apply","tableControl",j)))),f.buffer.push("</span> </div> </div>"),k
}),a.TEMPLATES["UMI/partials/tableControl"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"view.parentView.paginationView",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function h(a,b){var c,e,f,g="";return b.buffer.push(' <div class="right pagination-controls"> <span class="pagination-counter"> '),c=d._triageMustache.call(a,"view.counter",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </span> "),c=d.view.call(a,"view.prevButtonView",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(3,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d.view.call(a,"view.nextButtonView",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(5,j,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' </div> <div class="right pagination-limit"> <span class="pagination-label">'),b.buffer.push(B((e=d.i18n||a&&a.i18n,f={hash:{},hashTypes:{},hashContexts:{},contexts:[a,a],types:["STRING","STRING"],data:b},e?e.call(a,"Rows on page","tableControl",f):A.call(a,"i18n","Rows on page","tableControl",f)))),b.buffer.push(":</span> "),b.buffer.push(B(d.view.call(a,"view.limitView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" </div> "),g}function i(a,b){b.buffer.push(' <i class="icon black icon-left-thin"></i> ')}function j(a,b){b.buffer.push(' <i class="icon black icon-right-thin"></i> ')}function k(a,b){var c,e,f,g="";return b.buffer.push(' <td class="umi-table-control-header-column column-id-'),b.buffer.push(B((e=d.filterClassName||a&&a.filterClassName,f={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b},e?e.call(a,"column.attributes.name",f):A.call(a,"filterClassName","column.attributes.name",f)))),b.buffer.push('" style="width: 200px"> <div class="umi-table-control-cell-firefox-fix"> <div class="umi-table-control-header-cell"> '),c=d._triageMustache.call(a,"column.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' </div> <div class="umi-table-control-column-resizer"></div> </div> </td> '),g}function l(a,b){var c,e,f,g="";return b.buffer.push(' <td class="umi-table-control-header-column"> <div class="umi-table-control-header-cell filter column-id-'),b.buffer.push(B((e=d.filterClassName||a&&a.filterClassName,f={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b},e?e.call(a,"column.attributes.name",f):A.call(a,"filterClassName","column.attributes.name",f)))),b.buffer.push('"> '),b.buffer.push(B(d.view.call(a,"view.filterRowView",{hash:{column:"column"},hashTypes:{column:"ID"},hashContexts:{column:a},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c=d.view.call(a,"view.sortHandlerView",{hash:{propertyName:"column.attributes.name"},hashTypes:{propertyName:"ID"},hashContexts:{propertyName:a},inverse:z.noop,fn:z.program(10,m,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> </td> "),g}function m(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(B(d["bind-attr"].call(a,{hash:{"class":":icon :black view.sortAscending:icon-bottom-thin:icon-top-thin"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function n(a,b){var c="";return b.buffer.push(' <span class="button flat tiny" '),b.buffer.push(B(d.action.call(a,"openColumnConfiguration",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b}))),b.buffer.push('> <i class="icon icon-settings"></i> </span> '),c}function o(a,b){var c,e,f="";return b.buffer.push(' <td class="umi-table-control-content-cell column-id-'),b.buffer.push(B((c=d.filterClassName||a&&a.filterClassName,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b},c?c.call(a,"column.attributes.name",e):A.call(a,"filterClassName","column.attributes.name",e)))),b.buffer.push('" style="width: 200px"></td> '),f}function p(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"object","in","objects",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(17,q,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function q(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"view.rowView",{hash:{object:"object"},hashTypes:{object:"ID"},hashContexts:{object:a},inverse:z.noop,fn:z.program(18,r,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function r(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"column","in","visibleFields",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(19,s,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' <td class="umi-table-control-empty-column"></td> '),e}function s(a,b){var c="";return b.buffer.push(' <td class="umi-table-control-content-cell"> '),b.buffer.push(B(d.view.call(a,"tableCellContent",{hash:{objectBinding:"object",column:"column"},hashTypes:{objectBinding:"STRING",column:"ID"},hashContexts:{objectBinding:a,column:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </td> "),c}function t(a,b){var c,e="";return b.buffer.push(" <div "),b.buffer.push(B(d["bind-attr"].call(a,{hash:{"class":":umi-table-control-column-fixed-cell object.active::umi-inactive isSelected:selected"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push(' data-objectId="'),b.buffer.push(B(d.unbound.call(a,"object.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push('"> '),c=d["if"].call(a,"controller.parentController.contextToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(22,u,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </div> "),e}function u(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"tableControlContextToolbar",{hash:{elements:"controller.parentController.contextToolbar"},hashTypes:{elements:"ID"},hashContexts:{elements:a},inverse:z.noop,fn:z.program(23,v,b),contexts:[a],types:["STRING"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function v(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"view.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(24,w,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function w(a,b){var c="";return b.buffer.push(" "),b.buffer.push(B(d.view.call(a,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var x,y="",z=this,A=d.helperMissing,B=this.escapeExpression;return x=d.view.call(c,"toolbar",{hash:{toolbar:"toolbar"},hashTypes:{toolbar:"ID"},hashContexts:{toolbar:c},inverse:z.noop,fn:z.program(1,g,f),contexts:[c],types:["STRING"],data:f}),(x||0===x)&&f.buffer.push(x),f.buffer.push(' <div class="umi-table-control-header s-unselectable"> <div class="umi-table-control-header-center"> <table class="umi-table-control-header"> <tbody> <tr class="umi-table-control-row"> '),x=d.each.call(c,"column","in","visibleFields",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(7,k,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(x||0===x)&&f.buffer.push(x),f.buffer.push(' <td class="umi-table-control-empty-column"></td> </tr> <tr class="umi-table-control-row filters"> '),x=d.each.call(c,"column","in","visibleFields",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(9,l,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(x||0===x)&&f.buffer.push(x),f.buffer.push(' <td class="umi-table-control-empty-column"></td> </tr> </tbody> </table> </div> <div class="umi-table-control-header-fixed-right"> <div class="umi-table-control-header-title"> '),x=d["if"].call(c,"hasPopup",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(12,n,f),contexts:[c],types:["ID"],data:f}),(x||0===x)&&f.buffer.push(x),f.buffer.push(' </div> <div class="umi-table-control-header-filter"> </div> </div> </div> <div class="umi-table-control-content-wrapper"> <div class="s-scroll-wrap"> <table class="umi-table-control-content"> <tbody> <tr class="umi-table-control-content-row-size"> '),x=d.each.call(c,"column","in","visibleFields",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(14,o,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(x||0===x)&&f.buffer.push(x),f.buffer.push(' <td class="umi-table-control-empty-column"></td> </tr> '),x=d["if"].call(c,"objects.content.isFulfilled",{hash:{},hashTypes:{},hashContexts:{},inverse:z.noop,fn:z.program(16,p,f),contexts:[c],types:["ID"],data:f}),(x||0===x)&&f.buffer.push(x),f.buffer.push(' </tbody> </table> </div> <!-- Колонка справа от контента --> <div class="umi-table-control-content-fixed-right"> '),x=d.each.call(c,"object","in","objects",{hash:{itemController:"tableControlContextToolbarItem"},hashTypes:{itemController:"STRING"},hashContexts:{itemController:c},inverse:z.noop,fn:z.program(21,t,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(x||0===x)&&f.buffer.push(x),f.buffer.push(" </div> </div>"),y}),a.TEMPLATES["UMI/partials/button"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(k(d["bind-attr"].call(a,{hash:{"class":":icon view.iconClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function h(a,b){var c,e="";return b.buffer.push(' <b class="umi-button-label">'),c=d._triageMustache.call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</b> "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j="",k=this.escapeExpression,l=this;return i=d["if"].call(c,"view.meta.attributes.hasIcon",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(1,g,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(" "),i=d["if"].call(c,"view.label",{hash:{},hashTypes:{},hashContexts:{},inverse:l.noop,fn:l.program(3,h,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),j}),a.TEMPLATES["UMI/partials/dropdownButton/backupList"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.meta.attributes.hasIcon",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d["if"].call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(4,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function h(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(u(d["bind-attr"].call(a,{hash:{"class":":icon view.iconClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function i(a,b){var c,e="";return b.buffer.push(' <b class="umi-button-label">'),c=d._triageMustache.call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</b> "),e}function j(a,b){var c,e="";return b.buffer.push(' <div class="f-dropdown-content-header">'),c=d._triageMustache.call(a,"view.button.displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</div> "),e}function k(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"view.backupList",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(18,q,b),fn:v.program(9,l,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function l(a,b){var c,e="";return b.buffer.push(" <tr "),b.buffer.push(u(d["bind-attr"].call(a,{hash:{"class":"isActive::selectable"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push(" "),b.buffer.push(u(d.action.call(a,"applyBackup","",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push("> <td> "),c=d["if"].call(a,"isActive",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(12,n,b),fn:v.program(10,m,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d._triageMustache.call(a,"created.date",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </td> <td> "),c=d["if"].call(a,"user",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(16,p,b),fn:v.program(14,o,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </td> </tr> "),e}function m(a,b){b.buffer.push(' <button class="button flat tiny square"> <i class="icon icon-accept"></i> </button> ')}function n(a,b){b.buffer.push(' <button class="button flat tiny square"> <i class="icon icon-renew"></i> </button> ')}function o(a,b){var c,e="";return b.buffer.push(" "),c=d._triageMustache.call(a,"user",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function p(a,b){var c,e,f="";return b.buffer.push(" "),b.buffer.push(u((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a,a],types:["STRING","STRING"],data:b},c?c.call(a,"User name","toolbar:dropdownButton",e):w.call(a,"i18n","User name","toolbar:dropdownButton",e)))),b.buffer.push(" "),f}function q(a,b){var c,e="";return b.buffer.push(' <tr> <td colspan="2"> '),c=d._triageMustache.call(a,"view.noBackupsLabel",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </td> </tr> "),e}function r(a,b){var c,e,f="";return b.buffer.push(' <tr> <td colspan="2">'),b.buffer.push(u((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b},c?c.call(a,"Loading",e):w.call(a,"i18n","Loading",e)))),b.buffer.push("..</td> </tr> "),f}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var s,t="",u=this.escapeExpression,v=this,w=d.helperMissing;return s=d.view.call(c,"view.buttonView",{hash:{meta:"view.meta"},hashTypes:{meta:"ID"},hashContexts:{meta:c},inverse:v.noop,fn:v.program(1,g,f),contexts:[c],types:["ID"],data:f}),(s||0===s)&&f.buffer.push(s),f.buffer.push(" <ul "),f.buffer.push(u(d["bind-attr"].call(c,{hash:{id:"view.dropdownId","class":":f-dropdown view.dropdownClassName"},hashTypes:{id:"STRING","class":"STRING"},hashContexts:{id:c,"class":c},contexts:[],types:[],data:f}))),f.buffer.push(" data-dropdown-content> <li> "),s=d["if"].call(c,"view.button.displayName",{hash:{},hashTypes:{},hashContexts:{},inverse:v.noop,fn:v.program(6,j,f),contexts:[c],types:["ID"],data:f}),(s||0===s)&&f.buffer.push(s),f.buffer.push(' <div class="s-scroll-wrap"> <table> <tbody> '),s=d["if"].call(c,"view.backupList.isLoaded",{hash:{},hashTypes:{},hashContexts:{},inverse:v.program(20,r,f),fn:v.program(8,k,f),contexts:[c],types:["ID"],data:f}),(s||0===s)&&f.buffer.push(s),f.buffer.push(" </tbody> </table> </div> </li> </ul>"),t}),a.TEMPLATES["UMI/partials/dropdownButton/form"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.meta.attributes.hasIcon",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d["if"].call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(4,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function h(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(o(d["bind-attr"].call(a,{hash:{"class":":icon view.iconClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function i(a,b){var c,e="";return b.buffer.push(' <b class="umi-button-label">'),c=d._triageMustache.call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</b> "),e}function j(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.form",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(7,k,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function k(a,b){var c="";return b.buffer.push(" "),b.buffer.push(o(d.view.call(a,"view.formView",{hash:{form:"view.form"},hashTypes:{form:"ID"},hashContexts:{form:a},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}function l(a,b){var c,e,f="";return b.buffer.push(' <div class="form-loading">'),b.buffer.push(o((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b},c?c.call(a,"Loading",e):q.call(a,"i18n","Loading",e)))),b.buffer.push("..</div> "),f}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var m,n="",o=this.escapeExpression,p=this,q=d.helperMissing;return m=d.view.call(c,"view.buttonView",{hash:{meta:"view.meta"},hashTypes:{meta:"ID"},hashContexts:{meta:c},inverse:p.noop,fn:p.program(1,g,f),contexts:[c],types:["ID"],data:f}),(m||0===m)&&f.buffer.push(m),f.buffer.push(" <ul "),f.buffer.push(o(d["bind-attr"].call(c,{hash:{id:"view.dropdownId","class":":f-dropdown view.dropdownClassName"},hashTypes:{id:"STRING","class":"STRING"},hashContexts:{id:c,"class":c},contexts:[],types:[],data:f}))),f.buffer.push(" data-dropdown-content> <li> "),m=d["if"].call(c,"view.form.isLoaded",{hash:{},hashTypes:{},hashContexts:{},inverse:p.program(9,l,f),fn:p.program(6,j,f),contexts:[c],types:["ID"],data:f}),(m||0===m)&&f.buffer.push(m),f.buffer.push(" </li> </ul>"),n}),a.TEMPLATES["UMI/partials/dropdownButton/formLayout"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(' <div class="row collapse"> '),b.buffer.push(j(d.view.call(a,"view.elementView",{hash:{metaBinding:"formElement",objectBinding:"view.object"},hashTypes:{metaBinding:"STRING",objectBinding:"STRING"},hashContexts:{metaBinding:a,objectBinding:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" </div> "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return h=d.each.call(c,"formElement","in","view.form.elements",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c,c,c],types:["ID","ID","ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(" "),i}),a.TEMPLATES["UMI/partials/dropdownButton"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.meta.attributes.hasIcon",{hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d["if"].call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(4,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function h(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(m(d["bind-attr"].call(a,{hash:{"class":":icon view.iconClass"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function i(a,b){var c,e="";return b.buffer.push(' <b class="umi-button-label">'),c=d._triageMustache.call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</b> "),e}function j(a,b){var c,e="";return b.buffer.push(' <li> <a href="javascript:void(0);" '),b.buffer.push(m(d.action.call(a,"sendActionForBehaviour","behaviour",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push("> "),c=d._triageMustache.call(a,"attributes.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </a> </li> "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var k,l="",m=this.escapeExpression,n=this;return k=d.view.call(c,"view.buttonView",{hash:{meta:"view.meta"},hashTypes:{meta:"ID"},hashContexts:{meta:c},inverse:n.noop,fn:n.program(1,g,f),contexts:[c],types:["ID"],data:f}),(k||0===k)&&f.buffer.push(k),f.buffer.push(" <ul "),f.buffer.push(m(d["bind-attr"].call(c,{hash:{id:"view.dropdownId","class":":f-dropdown view.dropdownClassName"},hashTypes:{id:"STRING","class":"STRING"},hashContexts:{id:c,"class":c},contexts:[],types:[],data:f}))),f.buffer.push(" data-dropdown-content> "),k=d.each.call(c,"view.meta.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:n.noop,fn:n.program(6,j,f),contexts:[c],types:["ID"],data:f}),(k||0===k)&&f.buffer.push(k),f.buffer.push(" </ul> "),l}),a.TEMPLATES["UMI/partials/splitButton"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.meta.attributes.hasIcon",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d["if"].call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(4,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(' <span class="dropdown-toggler" '),b.buffer.push(n(d.action.call(a,"open",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),b.buffer.push(n(d["bind-attr"].call(a,{hash:{"data-options":"view.dataOptions","data-dropdown":"view.parentView.dropdownId"},hashTypes:{"data-options":"STRING","data-dropdown":"STRING"},hashContexts:{"data-options":a,"data-dropdown":a},contexts:[],types:[],data:b}))),b.buffer.push("></span> "),e}function h(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(n(d["bind-attr"].call(a,{hash:{"class":":icon view.parentView.defaultBehaviourIcon"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function i(a,b){var c,e="";return b.buffer.push(' <b class="umi-button-label">'),c=d._triageMustache.call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</b> "),e}function j(a,b){var c,e="";return b.buffer.push(" "),c=d.view.call(a,"view.itemView",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(7,k,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function k(a,b){var c,e="";return b.buffer.push(" <a "),b.buffer.push(n(d.action.call(a,"sendActionForBehaviour","behaviour",{hash:{target:"view.parentView"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push("> <i "),b.buffer.push(n(d["bind-attr"].call(a,{hash:{"class":":icon view.icon"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> <div>"),c=d._triageMustache.call(a,"view.label",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</div> <i "),b.buffer.push(n(d["bind-attr"].call(a,{hash:{"class":":icon :icon-accept :split-default-button view.isDefaultBehaviour::white"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push(" "),b.buffer.push(n(d.action.call(a,"toggleDefaultBehaviour","view._parentView.contentIndex",{hash:{target:"view.parentView",bubbles:!1},hashTypes:{target:"STRING",bubbles:"BOOLEAN"},hashContexts:{target:a,bubbles:a},contexts:[a,a],types:["STRING","ID"],data:b}))),b.buffer.push("></i> </a> "),e}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var l,m="",n=this.escapeExpression,o=this;return l=d.view.call(c,"view.buttonView",{hash:{meta:"view.meta",defaultBehaviour:"view.defaultBehaviour"},hashTypes:{meta:"ID",defaultBehaviour:"ID"},hashContexts:{meta:c,defaultBehaviour:c},inverse:o.noop,fn:o.program(1,g,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),f.buffer.push(" <ul "),f.buffer.push(n(d["bind-attr"].call(c,{hash:{id:"view.dropdownId"},hashTypes:{id:"STRING"},hashContexts:{id:c},contexts:[],types:[],data:f}))),f.buffer.push(' class="f-dropdown f-dropdown-composite" data-dropdown-content> '),l=d.each.call(c,"view.meta.behaviour.choices",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(6,j,f),contexts:[c],types:["ID"],data:f}),(l||0===l)&&f.buffer.push(l),f.buffer.push(" </ul> "),m}),a.TEMPLATES["UMI/partials/toolbar"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(" "),b.buffer.push(j(d.view.call(a,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return f.buffer.push('<ul class="button-group left"> '),h=d.each.call(c,"view.toolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(' </ul> <div class="right"> '),h=d._triageMustache.call(c,"yield",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(" </div>"),i}),a.TEMPLATES["UMI/partials/topBar"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e,f,g="";return b.buffer.push(" <li> "),e=d["link-to"]||a&&a["link-to"],f={hash:{"class":"umi-top-bar-dropdown-modules-item"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},inverse:o.noop,fn:o.program(2,h,b),contexts:[a,a],types:["STRING","ID"],data:b},c=e?e.call(a,"module","name",f):p.call(a,"link-to","module","name",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </li> "),g}function h(a,b){var c,e="";return b.buffer.push(' <i class="umi-top-bar-module-icon umi-dock-module-'),b.buffer.push(n(d.unbound.call(a,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push('"></i> <span>'),c=d._triageMustache.call(a,"displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</span> "),e}function i(a,b){var c,e,f="";return b.buffer.push(' <span class="umi-top-bar-label umi-top-bar-loader"> '),b.buffer.push(n((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b},c?c.call(a,"Loading",e):p.call(a,"i18n","Loading",e)))),b.buffer.push('... </span> <div class="umi-overlay"></div> '),f}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var j,k,l,m="",n=this.escapeExpression,o=this,p=d.helperMissing;return f.buffer.push('<nav class="umi-top-bar"> <ul class="umi-top-bar-list left"> <li> <span class="button tiny flat dropdown without-arrow umi-top-bar-button" data-dropdown data-options="selectorById: false;"> <i class="icon icon-butterfly"></i> </span> <ul class="f-dropdown f-dropdown-double" data-dropdown-content> '),j=d.each.call(c,"view.modules",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(1,g,f),contexts:[c],types:["ID"],data:f}),(j||0===j)&&f.buffer.push(j),f.buffer.push(' </ul> </li> <li> <span class="umi-top-bar-label">'),j=d._triageMustache.call(c,"view.activeProject",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(j||0===j)&&f.buffer.push(j),f.buffer.push('</span> </li> <li> <a href="'),f.buffer.push(n(d.unbound.call(c,"view.siteUrl",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}))),f.buffer.push('" class="button tiny flat umi-top-bar-button"> <i class="icon white icon-viewOnSite"></i> </a> </li> </ul> '),j=d["if"].call(c,"routeIsTransition",{hash:{},hashTypes:{},hashContexts:{},inverse:o.noop,fn:o.program(4,i,f),contexts:[c],types:["ID"],data:f}),(j||0===j)&&f.buffer.push(j),f.buffer.push(' <ul class="umi-top-bar-list right"> <li> <span class="button tiny flat dropdown umi-top-bar-button" data-dropdown data-options="selectorById: false;"> '),j=d._triageMustache.call(c,"view.userName",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(j||0===j)&&f.buffer.push(j),f.buffer.push(' </span> <ul class="f-dropdown" data-dropdown-content> <li> <a href="javascript:void(0)" '),f.buffer.push(n(d.action.call(c,"logout",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f}))),f.buffer.push('> <i class="icon icon-exit"></i> '),f.buffer.push(n((k=d.i18n||c&&c.i18n,l={hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f},k?k.call(c,"Logout",l):p.call(c,"i18n","Logout",l)))),f.buffer.push(" </a> </li> </ul> </li> "),f.buffer.push(n(d.view.call(c,"notificationList",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(" </ul> </nav>"),m}),a.TEMPLATES["UMI/partials/treeControl"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){b.buffer.push(' <div class="umi-tree-loader"><i class="animate animate-loader-60"></i></div> ')}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return f.buffer.push('<div class="columns small-12"> <div class="row s-full-height umi-tree-wrapper"> <ul class="umi-tree-list umi-tree"> '),f.buffer.push(j(d.view.call(c,"treeControlItem",{hash:{item:"root",treeControlView:"view"},hashTypes:{item:"ID",treeControlView:"ID"},hashContexts:{item:c,treeControlView:c},contexts:[c],types:["STRING"],data:f}))),f.buffer.push(" </ul> "),h=d["if"].call(c,"isLoading",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(" </div> </div>"),i}),a.TEMPLATES["UMI/partials/treeControl/treeItem"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" <span "),b.buffer.push(v(d.action.call(a,"expanded",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),b.buffer.push(v(d["bind-attr"].call(a,{hash:{"class":":umi-expand"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("> "),c=d["if"].call(a,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:w.program(3,i,b),fn:w.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </span> "),e}function h(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.childrenList",{hash:{},hashTypes:{},hashContexts:{},inverse:w.program(5,j,b),fn:w.program(3,i,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function i(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(v(d["bind-attr"].call(a,{hash:{"class":":icon view.isExpanded:icon-bottom:icon-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function j(a,b){b.buffer.push(' <i class="animate animate-loader-20"></i> ')}function k(a,b){var c,e,f,g="";return b.buffer.push(" "),e=d["link-to"]||a&&a["link-to"],f={hash:{"class":"tree-item-link"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},inverse:w.noop,fn:w.program(8,l,b),contexts:[a,a,a],types:["STRING","ID","STRING"],data:b},c=e?e.call(a,"action","view.item.id","editForm",f):x.call(a,"link-to","action","view.item.id","editForm",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),g
}function l(a,b){var c,e="";return b.buffer.push(" "),c=d._triageMustache.call(a,"view.savedDisplayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function m(a,b){var c,e,f,g="";return b.buffer.push(" "),e=d["link-to"]||a&&a["link-to"],f={hash:{"class":"tree-item-link"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},inverse:w.noop,fn:w.program(8,l,b),contexts:[a,a],types:["STRING","ID"],data:b},c=e?e.call(a,"context","view.item.id",f):x.call(a,"link-to","context","view.item.id",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),g}function n(a,b){var c,e,f,g="";return b.buffer.push(" "),e=d.render||a&&a.render,f={hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(13,o,b),contexts:[a,a],types:["STRING","ID"],data:b},c=e?e.call(a,"treeControlContextToolbar","view.item",f):x.call(a,"render","treeControlContextToolbar","view.item",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),g}function o(a,b){var c,e="";return b.buffer.push(" "),c=d.each.call(a,"parentController.contextToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(14,p,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function p(a,b){var c="";return b.buffer.push(" "),b.buffer.push(v(d.view.call(a,"view.elementView",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push(" "),c}function q(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(17,r,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function r(a,b){var c,e="";return b.buffer.push(' <ul class="umi-tree-list" data-parent-id="'),b.buffer.push(v(d.unbound.call(a,"view.item.id",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}))),b.buffer.push('"> '),c=d.each.call(a,"item","in","view.childrenList",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(18,s,b),contexts:[a,a,a],types:["ID","ID","ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </ul> "),e}function s(a,b){var c="";return b.buffer.push(" "),b.buffer.push(v(d.view.call(a,"treeControlItem",{hash:{item:"item",treeControlView:"view.treeControlView"},hashTypes:{item:"ID",treeControlView:"ID"},hashContexts:{item:a,treeControlView:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var t,u="",v=this.escapeExpression,w=this,x=d.helperMissing;return f.buffer.push("<div "),f.buffer.push(v(d["bind-attr"].call(c,{hash:{"class":":umi-item view.item.type view.isActiveContext:active view.inActive"},hashTypes:{"class":"STRING"},hashContexts:{"class":c},contexts:[],types:[],data:f}))),f.buffer.push("> "),t=d["if"].call(c,"view.hasChildren",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(1,g,f),contexts:[c],types:["ID"],data:f}),(t||0===t)&&f.buffer.push(t),f.buffer.push(" <i "),f.buffer.push(v(d["bind-attr"].call(c,{hash:{"class":":icon :umi-tree-type-icon view.iconTypeClass view.allowMove:move"},hashTypes:{"class":"STRING"},hashContexts:{"class":c},contexts:[],types:[],data:f}))),f.buffer.push("></i> "),t=d["if"].call(c,"editLink",{hash:{},hashTypes:{},hashContexts:{},inverse:w.program(10,m,f),fn:w.program(7,k,f),contexts:[c],types:["ID"],data:f}),(t||0===t)&&f.buffer.push(t),f.buffer.push(" "),t=d["if"].call(c,"controller.contextToolbar",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(12,n,f),contexts:[c],types:["ID"],data:f}),(t||0===t)&&f.buffer.push(t),f.buffer.push(" </div> "),t=d["if"].call(c,"view.hasChildren",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(16,q,f),contexts:[c],types:["ID"],data:f}),(t||0===t)&&f.buffer.push(t),u}),a.TEMPLATES["UMI/partials/treeSimple/item"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e="";return b.buffer.push(" "),c=d["if"].call(a,"components",{hash:{},hashTypes:{},hashContexts:{},inverse:s.program(4,i,b),fn:s.program(2,h,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),c=d["if"].call(a,"resource",{hash:{},hashTypes:{},hashContexts:{},inverse:s.program(7,k,b),fn:s.program(6,j,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function h(a,b){var c="";return b.buffer.push(" <span "),b.buffer.push(r(d.action.call(a,"expanded",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),b.buffer.push(r(d["bind-attr"].call(a,{hash:{"class":":umi-expand"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("> <i "),b.buffer.push(r(d["bind-attr"].call(a,{hash:{"class":":icon view.isExpanded:icon-bottom:icon-right"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> </span> <i "),b.buffer.push(r(d["bind-attr"].call(a,{hash:{"class":":icon :umi-tree-type-icon :icon-document"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function i(a,b){var c="";return b.buffer.push(" <i "),b.buffer.push(r(d["bind-attr"].call(a,{hash:{"class":":icon :umi-tree-type-icon :icon-document"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},contexts:[],types:[],data:b}))),b.buffer.push("></i> "),c}function j(a,b){var c,e,f,g="";return b.buffer.push(" "),e=d["link-to"]||a&&a["link-to"],f={hash:{"class":"tree-item-link"},hashTypes:{"class":"STRING"},hashContexts:{"class":a},inverse:s.noop,fn:s.program(7,k,b),contexts:[a,a],types:["STRING","ID"],data:b},c=e?e.call(a,"settings.component","view.nestedSlug",f):t.call(a,"link-to","settings.component","view.nestedSlug",f),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),g}function k(a,b){var c,e="";return b.buffer.push(" "),c=d._triageMustache.call(a,"displayName",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" "),e}function l(a,b){var c,e="";return b.buffer.push(' <ul class="umi-tree-list"> '),c=d.each.call(a,"components",{hash:{},hashTypes:{},hashContexts:{},inverse:s.noop,fn:s.program(10,m,b),contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push(" </ul> "),e}function m(a,b){var c="";return b.buffer.push(" "),b.buffer.push(r(d.view.call(a,"treeSimpleItem",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var n,o,p,q="",r=this.escapeExpression,s=this,t=d.helperMissing;return o=d["link-to"]||c&&c["link-to"],p={hash:{tagName:"div","class":"umi-item",disabled:!0,bubbles:!1},hashTypes:{tagName:"STRING","class":"STRING",disabled:"BOOLEAN",bubbles:"BOOLEAN"},hashContexts:{tagName:c,"class":c,disabled:c,bubbles:c},inverse:s.noop,fn:s.program(1,g,f),contexts:[c,c],types:["STRING","ID"],data:f},n=o?o.call(c,"settings.component","view.nestedSlug",p):t.call(c,"link-to","settings.component","view.nestedSlug",p),(n||0===n)&&f.buffer.push(n),f.buffer.push(" "),n=d["if"].call(c,"view.isExpanded",{hash:{},hashTypes:{},hashContexts:{},inverse:s.noop,fn:s.program(9,l,f),contexts:[c],types:["ID"],data:f}),(n||0===n)&&f.buffer.push(n),f.buffer.push(" "),q}),a.TEMPLATES["UMI/partials/treeSimple/list"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c="";return b.buffer.push(" "),b.buffer.push(j(d.view.call(a,"treeSimpleItem",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(" "),c}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var h,i="",j=this.escapeExpression,k=this;return f.buffer.push('<div class="columns small-12"> <div class="row s-full-height umi-tree-wrapper"> <ul class="umi-tree-list umi-tree"> '),h=d.each.call(c,"view.collection",{hash:{},hashTypes:{},hashContexts:{},inverse:k.noop,fn:k.program(1,g,f),contexts:[c],types:["ID"],data:f}),(h||0===h)&&f.buffer.push(h),f.buffer.push(" </ul> </div> </div>"),i}),a.TEMPLATES["UMI/partials/updateLayout"]=a.Handlebars.template(function(b,c,d,e,f){function g(a,b){var c,e,f,g="";return b.buffer.push(" <h5>"),b.buffer.push(n((e=d.i18n||a&&a.i18n,f={hash:{},hashTypes:{},hashContexts:{},contexts:[a,a],types:["STRING","STRING"],data:b},e?e.call(a,"Latest version","updateLayout",f):m.call(a,"i18n","Latest version","updateLayout",f)))),b.buffer.push(" "),c=d._triageMustache.call(a,"view.data.control.params.latestVersion.version",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push('</h5> <br/> <span class="button large" '),b.buffer.push(n(d.action.call(a,"update",{hash:{target:"view"},hashTypes:{target:"STRING"},hashContexts:{target:a},contexts:[a],types:["STRING"],data:b}))),b.buffer.push(">"),c=d._triageMustache.call(a,"view.buttonLabel",{hash:{},hashTypes:{},hashContexts:{},contexts:[a],types:["ID"],data:b}),(c||0===c)&&b.buffer.push(c),b.buffer.push("</span> "),g}function h(a,b){var c,e,f="";return b.buffer.push(' <br/> <span class="button large disabled">'),b.buffer.push(n((c=d.i18n||a&&a.i18n,e={hash:{},hashTypes:{},hashContexts:{},contexts:[a,a],types:["STRING","STRING"],data:b},c?c.call(a,"Nothing update","updateLayout",e):m.call(a,"i18n","Nothing update","updateLayout",e)))),b.buffer.push("</span> "),f}this.compilerInfo=[4,">= 1.0.0"],d=this.merge(d,a.Handlebars.helpers),f=f||{};var i,j,k,l="",m=d.helperMissing,n=this.escapeExpression,o=this;return f.buffer.push('<div class="columns small-12"> <div class="umi-update-layout"> <span class="icon icon-butterfly umi-update-layout-logo"></span> <span class="umi-update-layout-content"> <h2>UMI.CMS Lite</h2> <h5>'),f.buffer.push(n((j=d.i18n||c&&c.i18n,k={hash:{},hashTypes:{},hashContexts:{},contexts:[c,c],types:["STRING","STRING"],data:f},j?j.call(c,"Current version","updateLayout",k):m.call(c,"i18n","Current version","updateLayout",k)))),f.buffer.push(" "),i=d._triageMustache.call(c,"view.data.control.params.currentVersion.version",{hash:{},hashTypes:{},hashContexts:{},contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push("</h5> "),i=d["if"].call(c,"view.data.control.params.latestVersion",{hash:{},hashTypes:{},hashContexts:{},inverse:o.program(3,h,f),fn:o.program(1,g,f),contexts:[c],types:["ID"],data:f}),(i||0===i)&&f.buffer.push(i),f.buffer.push(" </span> </div> </div>"),l})}),define("application/templates.extends",[],function(){return function(){Ember.TEMPLATES["UMI/module/errors"]=Ember.TEMPLATES["UMI/component/errors"]=Ember.TEMPLATES["UMI/errors"],Ember.TEMPLATES["UMI/createForm"]=Ember.TEMPLATES["UMI/editForm"]}}),define("application/validators",[],function(){return function(UMI){var Validator=Ember.Object.extend({validateForm:function(){},filterProperty:function(a,b){var c,d=this;for(c=0;c<b.length;c++)a=d.itemFilterProperty(a,Ember.get(b[c],"type"));return a},itemFilterProperty:function(a,b){return"function"===Ember.typeOf(this[b])?this[b](a):void Ember.warn('Filter "'+b+'" was not defined.')},validateProperty:function(value,validators){var i,errorList=[];for(i=0;i<validators.length;i++)switch(validators[i].type){case"required":value||errorList.push(validators[i].message);break;case"regexp":var pattern=eval(validators[i].options.pattern);pattern.test(value)||errorList.push(validators[i].message)}return errorList.length?errorList:void 0},stringTrim:function(a){return a&&(a=a.replace(/^\s+|\s+$/g,"")),a},htmlSafe:function(a){return Ember.String.htmlSafe(a)},stripTags:function(a){return a},slug:function(a){return a}});UMI.validator=Validator.create({})}}),define("application/models",[],function(){return function(UMI){var a=function(a,b){switch(a){case"number":b=Ember.isEmpty(b)?void 0:b;break;default:b=Ember.isEmpty(b)?"":b}return b};DS.Model.reopen({needReloadHasMany:Ember.K,validErrors:null,filterProperty:function(a){var b=this.get("store").metadataFor(this.constructor.typeKey)||"",c=Ember.get(b,"filters."+a);if(c){var d=this.get(a);d=UMI.validator.filterProperty(d,c),this.set(a,d)}},validatorsForProperty:function(a){Ember.assert("PropertyName is required for method validatorsForProperty.",a);var b=this.get("store").metadataFor(this.constructor.typeKey)||"";return Ember.get(b,"validators."+a)},validateProperty:function(a){var b,c,d,e,f=this.validatorsForProperty(a);if("array"===Ember.typeOf(f)&&f.length)if(b=this.get(a),c=UMI.validator.validateProperty(b,f),"array"===Ember.typeOf(c)&&c.length)c=c.join(". "),d=this.get("validErrors"),d?this.set("validErrors."+a,c):(d={},d[a]=c,this.set("validErrors",d)),this.get("isValid")&&this.get("isDirty")&&this.send("becameInvalid");else if(!this.get("isValid")){d=this.get("validErrors"),d&&d.hasOwnProperty(a)&&delete d[a],e=0;for(var g in d)d.hasOwnProperty(g)&&++e;e?this.set("validErrors",d):(this.set("validErrors",null),this.send("becameValid"))}},validateObject:function(a){var b,c,d=this.get("store").metadataFor(this.constructor.typeKey)||"",e=Ember.get(d,"filters"),f=Ember.get(d,"validators");if("array"!==Ember.typeOf(a)&&(a=[],Ember.warn('Unexpected arguments. "fields" must be array')),c=a.length,"object"===Ember.typeOf(e))for(b in e)e.hasOwnProperty(b)&&this.filterProperty(b);if("object"===Ember.typeOf(f))for(b in f)if(f.hasOwnProperty(b)&&(c&&a.contains(b)||!c)&&(this.validateProperty(b),!this.get("isValid")))break},setInvalidProperties:function(a){var b,c,d,e,f=this;if("array"===Ember.typeOf(a))for(b=0;b<a.length;b++)c=a[b].errors,"array"===Ember.typeOf(c)&&(c=c.join(" ")),d=a[b].propertyName||"",d=d.replace(/#.*/g,""),e=f.get("validErrors"),e?f.set("validErrors."+d,c):(e={},e[d]=c,f.set("validErrors",e))},clearValidateForProperty:function(a){var b=this.get("validErrors");Ember.get(b,a)&&delete b[a];var c=0;for(var d in b)b.hasOwnProperty(d)&&++c;b=c?b:null,this.set("validErrors",b),c||this.get("isValid")||this.send("becameValid")},loadedRelationshipsByName:{},changedRelationshipsByName:{},changeRelationshipsValue:function(a,b){var c=this.get("loadedRelationshipsByName"),d=this.get("changedRelationshipsByName");Ember.set(d,a,b);var e=!1,f=this;for(var g in d)d.hasOwnProperty(g)&&(g in c?"Array"===Object.prototype.toString.call(c[g]).slice(8,-1)&&"Array"===Object.prototype.toString.call(d[g]).slice(8,-1)?c[g].length!==d[g].length?e=!0:(e=d[g].every(function(a){return c[g].contains(a)?!0:void 0}),e=!e):c[g]!==d[g]&&(e=!0):e=!0);if(e)f.send("becomeDirty");else{var h=f.changedAttributes();JSON.stringify(h)===JSON.stringify({})&&f.send("rolledBack")}},relationPropertyIsDirty:function(a){var b=this.get("loadedRelationshipsByName"),c=this.get("changedRelationshipsByName"),d=!1;return c.hasOwnProperty(a)&&(Ember.warn("Loaded relationship has not been added. After loading hasMany and ManyToMany relations need to add them to the result loadedRelationshipsByName",b.hasOwnProperty(a)),"Array"===Object.prototype.toString.call(b[a]).slice(8,-1)&&"Array"===Object.prototype.toString.call(c[a]).slice(8,-1)?b[a].length!==c[a].length?d=!0:(d=c[a].every(function(c){return b[a].contains(c)?!0:void 0}),d=!d):b[a]!==c[a]&&(d=!0)),d},updateRelationshipsMap:function(){var a=this.get("loadedRelationshipsByName"),b=this.get("changedRelationshipsByName");for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);this.set("changedRelationshipsByName",{})},getDefaultValueForProperty:function(b){var c;return this.eachAttribute(function(d,e){d===b&&(c=a(Ember.get(e,"type"),Ember.get(e,"options.defaultValue")))}),c}});var b={mpath:function(a){return DS.attr("raw",a)},date:function(a){return DS.attr("CustomDate",a)},dateTime:function(a){return DS.attr("CustomDateTime",a)},serialized:function(a){return DS.attr("serialized",a)},cmsPageRelation:function(a){return DS.attr("objectRelation",a)},objectRelation:function(a){return DS.attr("objectRelation",a)},belongsToRelation:function(a,b,c){return a.async=!0,b.targetCollection===c.name&&(a.inverse=null),a.readOnly=!1,DS.belongsTo(b.targetCollection,a)},hasManyRelation:function(a,b){return a.async=!0,a.inverse=b.targetField,a.readOnly=!1,DS.hasMany(b.targetCollection,a)},manyToManyRelation:function(a,b){return a.async=!0,a.inverse=null,DS.hasMany(b.targetCollection,a)}},c=function(a){var b=a;switch(a){case"integer":b="number"}return b},d=function(a){return Ember.get(b,a)};UMI.modelsFactory=function(a){for(var b,e,f,g,h,i,j,k,l,m=0;m<a.length;m++){b=a[m],e=b.name,f={},i={},j={};for(var n=0;n<b.fields.length;n++)g=b.fields[n],k={},l=null,g.displayName&&(k.displayName=g.displayName),"null"!==g["default"]&&(k.defaultValue=g["default"]),l=d(g.type),h="function"===Ember.typeOf(l)?l(k,g,b):DS.attr(c(g.dataType),k),g.filters&&(i[g.name]=g.filters),g.validators&&(j[g.name]=g.validators),"identify"!==g.type&&(f[g.name]=h);f.meta=DS.attr("raw"),UMI[e.capitalize()]=DS.Model.extend(f),UMI.__container__.lookup("store:main").metaForType(e,{collectionType:b.type,filters:i,validators:j}),b.source&&(UMI[e.capitalize()+"Adapter"]=DS.UmiRESTAdapter.extend({namespace:b.source.replace(/^\//g,"")}))}}}}),define("text",{load:function(a){throw new Error("Dynamic load not allowed: "+a)}}),define("text!auth/templates/auth.hbs",[],function(){return'<div class="auth-layout">\r\n    <div class="bubbles"></div>\r\n    <div class="bubbles-front"></div>\r\n    <div class="row vertical-center">\r\n        <div class="small-centered columns auth-layout-content">\r\n            <p class="text-center">\r\n                <img src="{{assetsUrl}}images/svg/elements/auth-logo.svg" class="auth-layout-logo"/>\r\n            </p>\r\n\r\n            <div>\r\n                {{{outlet}}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="auth-mask"></div>'}),define("text!auth/templates/index.hbs",[],function(){return'<div class="panel pretty radius shake-it">\r\n    <form name="auth" novalidate="novalidate" class="custom large umi-validator" method="post"\r\n          action="{{form.attributes.action}}">\r\n        <div class="errors-list">\r\n            {{#if accessError}}\r\n            <div class="alert-box alert visible">\r\n                <a href="#" class="close">×</a>\r\n                {{accessError}}\r\n            </div>\r\n            {{/if}}\r\n        </div>\r\n        {{#each form.elements}}\r\n        {{#ifCond type \'select\'}}\r\n                <div class="auth-layout-lang">\r\n                    <span class="button dropdown without-arrow" data-dropdown\r\n                          data-options="selectorById: false; align: right;">\r\n                        {{../../currentLocaleLabel}}\r\n                    </span>\r\n                    <ul class="f-dropdown radius" data-dropdown-content>\r\n                        {{#each choices}}\r\n                        <li>\r\n                            {{#if active}}\r\n                                <a href="javascript: void(0);">\r\n                                    <i class="icon icon-accept"></i>\r\n                                    {{label}}\r\n                                </a>\r\n                            {{else}}\r\n                                <a href="javascript: void(0);" class="locale-select" data-locale="{{attributes.value}}">\r\n                                    <i class="icon white icon-accept"></i>\r\n                                    {{label}}\r\n                                </a>\r\n                            {{/if}}\r\n                        </li>\r\n                        {{/each}}\r\n                    </ul>\r\n                    <input name="{{attributes.name}}" value="{{../../currentLocale}}" type="hidden" class="auth-layout-lang-input"/>\r\n                </div>\r\n            {{else}}\r\n                {{#ifCond type \'submit\'}}\r\n                    <div class="row">\r\n                        <div class="small-6 small-offset-6 columns">\r\n                            <input name="submit" class="button expand s-margin-clear" type="submit" value="{{label}}"/>\r\n                        </div>\r\n                    </div>\r\n                {{else}}\r\n                    <div class="row">\r\n                        <div class="small-12 columns">\r\n                            <i class="icon icon-{{attributes.name}} input-icon"></i>\r\n                            <input name="{{attributes.name}}" placeholder="{{label}}" type="{{attributes.type}}"\r\n                                   required="required" autocomplete="off" value="">\r\n                            {{#if validators}}\r\n                                <span class="error">\r\n                                    {{#each validators}}\r\n                                        {{message}}\r\n                                    {{/each}}\r\n                                </span>\r\n                            {{/if}}\r\n                        </div>\r\n                    </div>\r\n                {{/ifCond}}\r\n            {{/ifCond}}\r\n        {{/each}}\r\n\r\n    </form>\r\n</div>'}),define("text!auth/templates/errors.hbs",[],function(){return'<div class="alert-box alert">\r\n    <a href="#" class="close">×</a>\r\n    {{#if error}}\r\n    {{error}}\r\n    {{else}}\r\n    Form is invalid.\r\n    {{/if}}\r\n</div>'}),define("auth/templates",["text!./templates/auth.hbs","text!./templates/index.hbs","text!./templates/errors.hbs","Handlebars"],function(a,b,c){return function(d){d.TEMPLATES.app=Handlebars.compile(a),d.TEMPLATES.index=Handlebars.compile(b),d.TEMPLATES.errors=Handlebars.compile(c)}}),define("auth/main",["auth/templates","Handlebars","jquery","Foundation"],function(a){return function(b){$.ajaxSetup({headers:{"X-Csrf-Token":null},error:function(){}});var c={accessError:function(){return b&&b.accessError&&401!==b.accessError.status&&b.accessError.responseJSON?b.accessError.responseJSON.result.error.message:void 0},TEMPLATES:{},forms:{},getForm:function(a){var b=$.Deferred();a=a||"form";var c=this;return $.get(window.UmiSettings.baseApiURL+"/action/"+a).then(function(d){c.forms[a]=d.result.form,b.resolve()}),b},validator:{shake:function(){function a(b,c,d){b.style.left=c.shift()+"px",c.length>0&&setTimeout(function(){a(b,c,d)},d)}var b=[10,20,10,0,-10,-20,-10,0];b=b.concat(b.concat(b));var c=document.getElementsByClassName("shake-it").item(0);c.style.position="relative",a(c,b,20)},check:function(a){var b,c,d,e=!0,f=function(a){a.onfocus=function(){$(this).closest(".columns").removeClass("error")}},g=function(a,b){return b?($(a).closest(".columns").removeClass("error"),void(a.onfocus=null)):($(a).closest(".columns").addClass("error"),f(a),!0)};for(b=0;b<a.elements.length;b++)if(c=a.elements[b],(c.hasAttribute("required")||c.value)&&c.hasAttribute("pattern")){if(d=new RegExp(c.getAttribute("pattern")),d.test(c.value)||(e=!1),g(c,e))break}else if(c.hasAttribute("required")&&(c.value||(e=!1),g(c,e)))break;return e}},transition:function(){window.applicationLoading=$.Deferred(),document.onmousemove=null;var a=document.querySelector(".auth-layout"),d=document.querySelector(".auth-mask");$(a).addClass("off is-transition");var e=function(){$(a).addClass("fade-out"),setTimeout(function(){a.parentNode.removeChild(a),d.parentNode.removeChild(d),c.destroy()},800)};b.appIsFreeze?(window.applicationLoading.resolve(),$(b.appLayout).removeClass("off fade-out"),e()):require(["application/main"],function(a){a(),window.applicationLoading.then(function(){e()})})},init:function(){var b=this,c=window.UmiSettings&&window.UmiSettings.assetsUrl;Handlebars.registerHelper("ifCond",function(a,b,c){return a===b?c.fn(this):c.inverse(this)}),a(b),this.getForm("form").then(function(){var a,d,e=b.cookie.get("auth-locale");!e&&window.UmiSettings&&window.UmiSettings.hasOwnProperty("locale")&&(e=window.UmiSettings.locale);try{a=b.forms.form.elements[2].choices,e=e||a[0].value;for(var f=0;f<a.length;f++)a[f].value===e&&(a[f].active="true",d=a[f].label||a[f].value)}catch(g){}if(!document.querySelector(".auth-layout")){var h=document.createElement("div");h.innerHTML=b.TEMPLATES.app({assetsUrl:c,outlet:b.TEMPLATES.index({accessError:b.accessError,form:b.forms.form,currentLocale:e,currentLocaleLabel:d})}),h=document.body.appendChild(h),$(h.firstElementChild).unwrap()}$("body").removeClass("loading"),$(document.querySelector(".auth-layout")).foundation();var i=document.querySelector(".bubbles"),j=document.querySelector(".bubbles-front"),k=function(a){var b=document.body.offsetWidth,c=document.body.offsetHeight,d=.04,e=.04,f=(b/2-a.clientX)*d,g=(c/2-a.clientY)*e;i.style.marginLeft=f+"px",i.style.marginTop=g+"px",j.style.marginLeft=.2*f+"px",j.style.marginTop=.2*g+"px"},l=!0;document.onmousemove=function(a){l&&(i.className="bubbles visible",j.className="bubbles-front visible",l=!1),k(a)},$(document).on("click.umi.auth",".locale-select",function(a){a.preventDefault();var c=$(this).data("locale");c&&b.cookie.get("auth-locale")!==c&&(b.cookie.set("auth-locale",c,{path:"/"}),window.location.href=window.location.href)}),$(document).on("click.umi.auth",".close",function(){return this.parentNode.parentNode.removeChild(this.parentNode),!1});var m=document.querySelector(".errors-list");$(document).on("submit.umi.auth","form",function(){if(!b.validator.check(this))return!1;var a=this.querySelector('input[type="submit"]');$(a).addClass("loading");var c=this.elements.submit;c.setAttribute("disabled","disabled");var d=$(this).serialize(),e=this.getAttribute("action"),f=$.post(e,d),g=function(d){$(a).removeClass("loading"),c.removeAttribute("disabled");var e={error:d.responseJSON.result.error.message};m.innerHTML=b.TEMPLATES.errors(e),$(m).children(".alert-box").addClass("visible")};return f.done(function(a){if(a.result){$.ajaxSetup({headers:{"X-Csrf-Token":a.result.token}});var c=$.extend({},window.UmiSettings,a.result);"Ember"in window?Ember.set(window,"UmiSettings",c):window.UmiSettings=c}b.transition()}),f.fail(function(a){g(a)}),!1})})},destroy:function(){$(document).off(".umi.auth")},cookie:{get:function(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0},set:function(a,b,c){c=c||{};var d=c.expires;if("number"==typeof d&&d){var e=new Date;e.setTime(e.getTime()+1e3*d),d=c.expires=e}d&&d.toUTCString&&(c.expires=d.toUTCString()),b=encodeURIComponent(b);var f=a+"="+b;for(var g in c)if(c.hasOwnProperty(g)){f+="; "+g;var h=c[g];h!==!0&&(f+="="+h)}document.cookie=f},"delete":function(a){c.cookie.set(a,"",{expires:-1})}}};c.init()}}),define("application/router",[],function(){return function(UMI){UMI.Router.reopen({location:"history",rootURL:window.UmiSettings.baseURL}),UMI.Router.map(function(){this.resource("module",{path:"/:module"},function(){this.route("errors",{path:"/:status"}),this.resource("component",{path:"/:component"},function(){this.route("errors",{path:"/:status"}),this.resource("context",{path:"/:context"},function(){this.resource("action",{path:"/:action"})})})})}),UMI.ApplicationRoute=Ember.Route.extend({model:function(a,b){var c,d=this;try{if(!UmiSettings.baseApiURL)throw new Error("BaseApiURL was not defined in UmiSettings.");c=$.get(UmiSettings.baseApiURL).then(function(a){if(a&&a.result){var c=a.result;d.controllerFor("application").set("settings",c),c.collections&&UMI.modelsFactory(c.collections),c.modules&&d.controllerFor("application").set("modules",c.modules),c.i18n&&UMI.i18n.setDictionary(c.i18n)}else try{throw new Error('Resource "'+UmiSettings.baseApiURL+'" not supported.')}catch(e){b.abort(),b.send("dialogError",e)}},function(a){var c=new Error(a);a.stack=c.stack,b.send("dialogError",a)})}catch(e){b.abort(),b.send("dialogError",e)}finally{return c}},saveObject:function(a){var b=this,c=Ember.RSVP.defer();try{a.object.validateObject(Ember.get(a,"fields")),a.object.get("isValid")?a.object.save().then(function(){a.object.updateRelationshipsMap(),a.handler&&$(a.handler).removeClass("loading"),c.resolve(a.object)},function(d){try{d=d||{},a.handler&&$(a.handler).removeClass("loading");var e,f,g,h,i,j=b.get("store"),k=Ember.get(d,"responseJSON.result.error.invalidObjects");if("array"===Ember.typeOf(k))for(a.object.get("isValid")&&a.object.send("becameInvalid"),i=0;i<k.length;i++)g=k[i],h=Ember.get(g,"invalidProperties"),e=j.all(g.collection),f=e.findBy("guid",g.guid),f&&f.setInvalidProperties(h);c.reject()}catch(l){b.send("backgroundError",l)}}):(a.handler&&$(a.handler).removeClass("loading"),c.reject())}catch(d){b.send("backgroundError",d)}finally{return c.promise}},beforeAdd:function(a){var b=this;return b.saveObject(a).then(function(a){if("hierarchic"===a.store.metadataFor(a.constructor.typeKey).collectionType){var c=a.get("parent");return c&&"isFulfilled"in c?c.then(function(c){var d=b.get("store"),e=c.constructor.typeKey,f=UMI.OrmHelper.buildRequest(c,["childCount"]);return f.filters={id:"equals("+c.get("id")+")"},d.updateCollection(e,f).then(function(){return c.trigger("needReloadHasMany","add",a),a})}):(b.controllerFor("component").trigger("needReloadRootElements","add",a),a)}return a})},actions:{willTransition:function(){UMI.notification.removeAll(),this.send("showLoader")},didTransition:function(){this.send("hideLoader")},error:function(){return this.send("hideLoader"),!0},showLoader:function(){this.controllerFor("application").set("routeIsTransition",!0)},hideLoader:function(){this.controllerFor("application").set("routeIsTransition",!1)},logout:function(){var a=document.querySelector(".umi-main-view"),b=document.createElement("div");b.className="auth-mask",b=document.body.appendChild(b),$(a).addClass("off is-transition"),$.post(UmiSettings.baseApiURL+"/action/logout").then(function(){require(["auth/main"],function(c){c({appIsFreeze:!0,appLayout:a}),$(a).addClass("fade-out"),Ember.run.later("",function(){$(a).removeClass("is-transition"),b.parentNode.removeChild(b)},800)})})},dialogError:function(a){var b=this.parseError(a);"silence"!==b&&(b.close=!0,b.title=a.status+". "+a.statusText,UMI.dialog.open(b).then())},backgroundError:function(a){var b=this.parseError(a);"silence"!==b&&(b.type="error",b.duration=!1,UMI.notification.create(b))},templateLogs:function(a,b){b=b||"module";var c=this.parseError(a);if("silence"!==c){var d=Ember.Object.create(c);this.intermediateTransitionTo(b+".errors",d)}},showPopup:function(a){Ember.warn('Param "popupType" is required for create popup.',Ember.get(a,"viewParams.popupType"));var b=this.controllerFor("popup");return"object"===Ember.typeOf(a)&&b.setProperties(a),this.render("popup",{into:"application",outlet:"popup",controller:b})},closePopup:function(){this.get("container").lookup("view:popup").send("closePopup")},removePopupLayout:function(){return this.disconnectOutlet({outlet:"popup",parentView:"application"})},save:function(a){this.saveObject(a)},saveAndGoBack:function(a){var b=this;b.saveObject(a).then(function(a){a&&b.send("backToFilter")})},add:function(a){var b=this;return b.beforeAdd(a).then(function(a){b.send("edit",a)})},addAndGoBack:function(a){var b=this;return b.beforeAdd(a).then(function(){b.send("backToFilter")})},addAndCreate:function(a){var b=this;return b.beforeAdd(a).then(function(a){var c={type:a.get("type")};return"hierarchic"===a.store.metadataFor(a.constructor.typeKey).collectionType?a.get("parent").then(function(a){b.send("create",a,c)}):void b.send("create",a,c)})},switchActivity:function(a){try{var b=JSON.stringify(a.toJSON({includeId:!0})),c=this.controllerFor("component").get("settings").actions[(a.get("active")?"de":"")+"activate"].source;c=UMI.Utils.replacePlaceholder(a,c),$.ajax({url:c,type:"POST",data:b,contentType:"application/json; charset=UTF-8"}).then(function(){a.reload()})}catch(d){this.send("backgroundError",d)}},create:function(a){var b=a.behaviour.type,c=a.object,d="root";if(c.constructor.typeKey){var e=this.store.metadataFor(c.constructor.typeKey)||{};"hierarchic"===e.collectionType&&(d=c.get("id"))
}this.transitionTo("action",d,"createForm",{queryParams:{type:b}})},edit:function(a){this.transitionTo("action",a.get("id"),"editForm")},viewOnSite:function(a){var b;b=a?a._data.meta.pageUrl:window.UmiSettings.baseSiteURL,b=window.location.host+b;var c=window.open("//"+b.replace("//","/"),"_blank");c.focus()},untrash:function(a){var b,c,d,e,f,g=this,h=g.get("store");try{if(f=a.get("id"),c=JSON.stringify(a.toJSON({includeId:!0})),e=a.constructor.typeKey,d=g.controllerFor("component").get("settings").actions.untrash,!d)throw new Error("Action untrash not supported for component.");b=$.ajax({url:d.source+"?id="+f+"&collection="+e,type:"POST",data:c,contentType:"application/json; charset=UTF-8"}).then(function(){var b=[];b.push(a);var c=h.all(e);if("hierarchic"===h.metadataFor(e).collectionType){var d,f=a.get("mpath");if("array"===Ember.typeOf(f)&&f.length)for(var g=0;g<f.length;g++)d=c.findBy("id",f[g]+""),d&&b.push(d)}b.invoke("unloadRecord");var i={type:"success",content:'"'+a.get("displayName")+'" '+UMI.i18n.getTranslate("Restored").toLowerCase()+"."};UMI.notification.create(i)},function(){var b={type:"error",content:'"'+a.get("displayName")+'" '+UMI.i18n.getTranslate("Not restored").toLowerCase()+"."};UMI.notification.create(b)})}catch(i){g.send("backgroundError",i)}finally{return b}},trash:function(a){var b,c,d,e,f,g=this,h=g.get("store");try{if(f=a.get("id"),c=JSON.stringify(a.toJSON({includeId:!0})),d=this.modelFor("context")===a,e=this.controllerFor("component").get("settings").actions.trash,!e)throw new Error("Action trash not supported for component.");b=$.ajax({url:e.source+"?id="+f,type:"POST",data:c,contentType:"application/json; charset=UTF-8"}).then(function(){var b=a.constructor.typeKey,c=[];if(c.push(a),"hierarchic"===h.metadataFor(b).collectionType){var e=h.all(b);e.find(function(a){var b=a.get("mpath")||[];b.contains(parseFloat(f))&&b.length>1&&c.push(a)})}c.invoke("unloadRecord");var i={type:"success",content:UMI.i18n.getTranslate("Moved to trash")+': "'+a.get("displayName")+'".'};UMI.notification.create(i),d&&g.send("backToFilter")},function(){var b={type:"error",content:UMI.i18n.getTranslate("Failed to move in the trash")+': "'+a.get("displayName")+'".'};UMI.notification.create(b)})}catch(i){this.send("backgroundError",i)}finally{return b}},"delete":function(a){var b=this,c=this.modelFor("context")===a,d={close:!1,title:UMI.i18n.getTranslate("Delete")+' "'+a.get("displayName")+'".',content:"<div>"+UMI.i18n.getTranslate("The object will be deleted permanently, continue anyway")+"?</div>",confirm:UMI.i18n.getTranslate("Delete"),reject:UMI.i18n.getTranslate("Cancel")};return UMI.dialog.open(d).then(function(){var d=a.constructor.typeKey,e=a.get("store"),f=a.get("id");return a.destroyRecord().then(function(){var g=[];if("hierarchic"===e.metadataFor(d).collectionType){var h=e.all(d);h.find(function(a){var b=a.get("mpath")||[];b.contains(parseFloat(f))&&b.length>1&&g.push(a)})}g.invoke("unloadRecord");var i={type:"success",content:'"'+a.get("displayName")+'" '+UMI.i18n.getTranslate("Successfully removed").toLowerCase()+"."};UMI.notification.create(i),c&&b.send("backToFilter")},function(){var b={type:"error",content:'"'+a.get("displayName")+'" '+UMI.i18n.getTranslate("Failed to delete").toLowerCase()+"."};UMI.notification.create(b)})},function(){})},backToFilter:function(){this.transitionTo("context","root")},importFromRss:function(a){try{var b={content:'<div class="text-center"><i class="animate animate-loader-40"></i> '+UMI.i18n.getTranslate("Waiting")+"..</div>",close:!1,type:"check-process"};UMI.dialog.open(b).then(function(){},function(){});var c=JSON.stringify(a.toJSON({includeId:!0})),d=this.controllerFor("component").get("settings").actions.importFromRss.source;$.ajax({url:d,type:"POST",data:c,contentType:"application/json; charset=UTF-8"}).then(function(a){var b=UMI.dialog.get("model");b.setProperties({content:Ember.get(a,"result.importFromRss.message"),close:!0,reject:UMI.i18n.getTranslate("Close"),type:null})})}catch(e){this.send("backgroundError",e)}},switchRobots:function(a,b,c){try{var d=JSON.stringify(a.toJSON({includeId:!0})),e=Ember.get(this.controllerFor("component").get("settings"),"actions."+(b?"dis":"")+"allowRobots.source");$.ajax({url:e+"?id="+a.get("id"),type:"POST",data:d,contentType:"application/json; charset=UTF-8"}).then(function(){c.resolve()})}catch(f){this.send("backgroundError",f)}}},parseError:function(a){a=a||{};var b=Ember.get(a,"status"),c=Ember.get(a,"stack"),d={status:b,title:UMI.i18n.getTranslate(a.statusText),stack:c};if(403===b||401===b)return this.send("logout"),"silence";var e,f;return a.hasOwnProperty("responseJSON")?(f=Ember.get(a,"responseJSON.result.error"),f&&(e=Ember.get(f,"message"))):e=Ember.get(a,"responseText")||Ember.get(a,"message"),d.content=e,d}}),UMI.IndexRoute=Ember.Route.extend({redirect:function(a,b){var c;if(b.targetName===this.routeName)try{if(c=this.controllerFor("application").get("modules")[0],!c)throw new Error(UMI.i18n.getTranslate("Modules are not available."))}catch(d){b.send("backgroundError",d)}finally{return this.transitionTo("module",Ember.get(c,"name"))}}}),UMI.ModuleRoute=Ember.Route.extend({model:function(a){var b,c,d;try{if(b=Ember.RSVP.defer(),c=this.controllerFor("application").get("modules"),d=c.findBy("name",a.module),!d)throw new Error(UMI.i18n.getTranslate("Module")+' "'+a.module+'" '+UMI.i18n.getTranslate("not found")+".");b.resolve(d)}catch(e){b.reject(e)}finally{return b.promise}},redirect:function(a,b){if(b.targetName===this.routeName+".index"){var c,d,e=this;try{if(c=Ember.RSVP.defer(),d=Ember.get(a,"components")[0],!d)throw new Error(UMI.i18n.getTranslate("For")+" "+UMI.i18n.getTranslate("Module").toLowerCase()+'"'+Ember.get(a,"name")+'" '+UMI.i18n.getTranslate("Components").toLowerCase()+" "+UMI.i18n.getTranslate("Not found").toLowerCase()+".");c.resolve(e.transitionTo("component",Ember.get(d,"name")))}catch(f){c.reject(Ember.run.next(e,function(){this.send("templateLogs",f)}))}finally{return c.promise}}},serialize:function(a){return{module:Ember.get(a,"slug")}}}),UMI.ComponentRoute=Ember.Route.extend({model:function(a,b){var c,d,e,f=this,g=b.params.component.component;try{c=Ember.RSVP.defer(),d=Ember.get(this.modelFor("module"),"components");for(var h=0;h<d.length;h++)if(d[h].name===g){e=d[h];break}if(!e)throw new URIError(UMI.i18n.getTranslate("Component")+' "'+g+'" '+UMI.i18n.getTranslate("Not found").toLowerCase()+".");$.ajax({type:"GET",url:Ember.get(e,"resource"),global:!1,success:function(a){var d=f.controllerFor("component");if("object"===Ember.typeOf(a)&&Ember.get(a,"result.layout")){var g=a.result.layout,h=Ember.get(g,"dataSource")||"";d.set("settings",g),d.set("selectedContext",Ember.get(b,"params.context")?Ember.get(b,"params.context.context"):"root"),"lazy"===Ember.get(h,"type")?$.get(Ember.get(g,"actions."+Ember.get(h,"action")+".source")).then(function(a){var b=Ember.get(a,"result."+Ember.get(h,"action")+".objects");Ember.set(h,"objects",b),c.resolve(e)},function(a){c.reject(b.send("backgroundError",a))}):c.resolve(e)}else{var i=new Error(UMI.i18n.getTranslate("Resource")+' "'+Ember.get(e,"resource")+'" '+UMI.i18n.getTranslate("Incorrect").toLowerCase()+".");b.send("backgroundError",i),c.reject()}},error:function(a){c.reject(Ember.run.next(this,function(){b.send("templateLogs",a)}))}})}catch(i){c.reject(Ember.run.next(this,function(){b.send("templateLogs",i)}))}finally{return c.promise}},redirect:function(a,b){if(b.targetName===this.routeName+".index"){var c;try{var d=this.controllerFor("component").get("settings.contents.emptyContext.redirect");c=d?Ember.get(d,"params.slug"):"root"}catch(e){b.send("backgroundError",e)}finally{return this.transitionTo("context",c)}}},serialize:function(a){return{component:Ember.get(a,"name")}},renderTemplate:function(a){if(this.render(),a.get("sideBarControl"))try{this.render(a.get("sideBarControl.name"),{into:"component",outlet:"sideBar"})}catch(b){this.send("templateLogs",b,"component")}}}),UMI.ContextRoute=Ember.Route.extend({model:function(a,b){var c,d,e,f;try{if(c=this.controllerFor("component"),d=c.get("dataSource"),c.set("selectedContext",a.context),"root"===a.context)e=Ember.Object.extend({}),f=new Ember.RSVP.Promise(function(a){a(e.create({id:"root",type:"base"}))});else switch(Ember.get(d,"type")){case"static":case"lazy":f=new Ember.RSVP.Promise(function(b,c){for(var e,f=Ember.get(d,"objects"),g=0;g<f.length;g++)if(f[g].id===a.context){e=f[g];break}e?(b(e),b(e)):c(UMI.i18n.getTranslate("Object")+" "+UMI.i18n.getTranslate("With").toLowerCase()+" ID "+a.context+" "+UMI.i18n.getTranslate("Not found").toLowerCase()+".")});break;case"collection":f=this.store.hasRecordForId(Ember.get(d,"name"),a.context)?this.store.getById(Ember.get(d,"name"),a.context):this.store.updateCollection(Ember.get(d,"name"),{"filters[id]":a.context,fields:"displayName"}).then(function(a){return a.get("firstObject")});break;default:throw new Error(UMI.i18n.getTranslate("Incorrect")+" dataSource.")}}catch(g){Ember.run.next(this,function(){b.send("templateLogs",g)})}finally{return f}},redirect:function(a,b){if(b.targetName===this.routeName+".index"){var c,d;try{if(c=this.controllerFor("component").get("contentControls")[0],d=Ember.get(c,"id"),!d)throw new Error(UMI.i18n.getTranslate("The actions for this context is not available")+".")}catch(e){b.send("backgroundError",e)}finally{return this.transitionTo("action",d)}}},serialize:function(a){return a?{context:Ember.get(a,"id")}:void 0}}),UMI.ActionRoute=Ember.Route.extend({queryParams:{type:{refreshModel:!0,replace:!0}},model:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=this;try{if(j=Ember.RSVP.defer(),c=a.action,d=this.modelFor("context"),e=this.controllerFor("component"),f=e.get("contentControls"),g=f.findBy("id",c),!g)throw new Error(UMI.i18n.getTranslate("Action")+' "'+c+'" '+UMI.i18n.getTranslate("Not found").toLowerCase()+".");if(g=$.extend({},g),h={object:d,control:g},l=Ember.get(g,"params.action")){if(k=Ember.get(e,"settings.actions."+l+".source"),!k)throw new Error(UMI.i18n.getTranslate("Action")+" "+Ember.get(g,"name")+" "+UMI.i18n.getTranslate("Not available for the selected context").toLowerCase()+".");if(m=h.object,"createForm"===c){if(i={},"collection"===e.get("dataSource.type")){var o=this.store.metadataFor(e.get("dataSource.name"))||{};"hierarchic"===Ember.get(o,"collectionType")&&"root"!==h.object.get("id")&&(i.parent=d)}b.queryParams.type&&(i.type=b.queryParams.type),h.createObject=n.store.createRecord(e.get("dataSource.name"),i),m=h.createObject}k=UMI.Utils.replacePlaceholder(m,k),$.ajax({type:"GET",url:k,global:!1,success:function(a){var b,d;if("dynamic"===c){b=Ember.get(a,"result")||{};for(var e in b)b.hasOwnProperty(e)&&(d=e);b=b[d]||{},b.name=d,UMI.Utils.objectsMerge(h.control,b)}else"createForm"===c?(h.createObject.set("guid",Ember.get(a,"result."+l+".guid")),Ember.set(h.control,"meta",Ember.get(a,"result."+l+".form"))):Ember.set(h.control,"meta",Ember.get(a,"result."+l));j.resolve(h)},error:function(a){j.reject(b.send("templateLogs",a,"component"))}})}else j.resolve(h)}catch(p){j.reject(b.send("templateLogs",p,"component"))}finally{return j.promise}},afterModel:function(a,b){try{var c=Ember.RSVP.defer(),d=this.controllerFor("action"),e=Ember.get(a,"control.name"),f=d[e+"PromiseService"];return f&&Ember.canInvoke(f,"execute")?f.execute(a).then(function(a){c.resolve(a)},function(a){c.reject(a)}):c.resolve(),c.promise}catch(g){b.send("backgroundError",g)}},serialize:function(a){return Ember.get(a,"control")?{action:Ember.get(a,"control.id")}:void 0},renderTemplate:function(a,b){try{var c=Ember.get(b,"control.name");this.render(c,{controller:a})}catch(d){this.send("templateLogs",d,"component")}},setupController:function(a,b){this._super(a,b),b.createObject&&(Ember.set(b,"object",b.createObject),Ember.set(b,"createObject",null)),a.set("model",b)},actions:{willTransition:function(a){a.params.action&&"createForm"!==a.params.action.action&&this.get("controller").set("typeName",null);var b=Ember.get(this.modelFor("action"),"object");if(Ember.get(b,"isNew")&&b.deleteRecord(),Ember.get(b,"isDirty")){a.abort();var c={close:!1,title:UMI.i18n.getTranslate("The changes were not saved")+".",content:UMI.i18n.getTranslate("Transition:unsaved changes")+"?",confirm:UMI.i18n.getTranslate("Stay on the page"),reject:UMI.i18n.getTranslate("Continue without saving")};return UMI.dialog.open(c).then(function(){},function(){b.get("isValid")||(b.set("validErrors",null),b.send("becameValid")),b.rollback(),a.retry()})}return!0}}})}}),define("application/controllers",[],function(){return function(UMI){UMI.ApplicationController=Ember.ObjectController.extend({globalObject:window,settings:null,modules:null,routeIsTransition:null,user:function(){var a=this.get("store"),b=this.get("globalObject.UmiSettings.user"),c=Ember.get(b,"meta.collectionName");return a.push(c,b),a.findById(c,Ember.get(b,"id"))}.property("globalObject.UmiSettings.users")}),UMI.ModuleController=Ember.ObjectController.extend({}),UMI.ComponentController=Ember.ObjectController.extend(Ember.Evented,{name:function(){return this.get("container").lookup("route:module").get("context.name")+Ember.String.capitalize(this.get("model.name"))}.property("model.name"),settings:null,dataSourceBinding:"settings.dataSource",selectedContext:null,needReloadRootElements:Ember.K,contentControls:function(){var a=this,b=[],c=this.get("settings");try{var d,e,f="root"===this.get("selectedContext")?"emptyContext":"selectedContext",g=c.contents[f];for(d in g)g.hasOwnProperty(d)&&(e=g[d],e.id=d,e.name=d,b.push(e))}catch(h){var i={statusText:h.name,message:h.message,stack:h.stack};Ember.run.next(function(){a.send("templateLogs",i,"component")})}return b}.property("settings","selectedContext"),sideBarControl:function(){var a,b=this;try{var c=this.get("settings");if(c&&c.hasOwnProperty("sideBar")){var d,e;for(d in c.sideBar)c.sideBar.hasOwnProperty(d)&&(e=c.sideBar[d],"object"!==Ember.typeOf(e)&&(e={}),a=e,a.name=d)}}catch(f){var g={statusText:f.name,message:f.message,stack:f.stack};Ember.run.next(function(){b.send("templateLogs",g,"component")})}return a}.property("settings")}),UMI.ContextController=Ember.ObjectController.extend({}),UMI.ActionController=Ember.ObjectController.extend({queryParams:["type"],type:null})}}),define("application/views",[],function(){return function(UMI){UMI.ApplicationView=Ember.View.extend({classNames:["umi-main-view","s-full-height"],didInsertElement:function(){$("body").removeClass("loading"),window.applicationLoading&&window.applicationLoading.resolve(),this.$().foundation()}}),UMI.ComponentView=Ember.View.extend({classNames:["umi-content","s-full-height"],filtersView:Ember.View.extend({classNames:["umi-tree-control-filters"]})})}}),define("App",["DS","Modernizr","iscroll","ckEditor","jqueryUI","elFinder","timepicker","moment","application/config","application/utils","application/i18n","application/templates.compile","application/templates.extends","application/validators","application/models","application/router","application/controllers","application/views"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var UMI=window.UMI=window.UMI||{};return Ember.Inflector.inflector=new Ember.Inflector,UMI=Ember.Application.create({rootElement:"#body",Resolver:Ember.DefaultResolver.extend({resolveTemplate:function(a){return a.fullNameWithoutType="UMI/"+a.fullNameWithoutType,this._super(a)}})}),UMI.deferReadiness(),Ember.View.reopen({init:function(){this._super();var a=this;Ember.keys(this).forEach(function(b){"data-"===b.substr(0,5)&&a.get("attributeBindings").pushObject(b)})}}),j(UMI),i(UMI),k(UMI),UMI.OrmSettings={defaultProperties:["id","guid","type","version","mpath","slug","uri","h1","meta","links"]},UMI.OrmHelper={buildRequest:function(a,b){var c=a.get("store"),d=a.constructor.typeKey,e=c.modelFor(d),f=this.getNativeProperties(e,b),g=this.getBelongsToProperties(e,b),h={};return h.fields=f,h["with"]=g,h},getNativeProperties:function(a,b){var c=[];return a.eachAttribute(function(a){b.contains(a)&&c.push(a)}),c=c.join(",")},getBelongsToProperties:function(a,b){var c={};return a.eachRelationship(function(a,d){var e,f;if("belongsTo"===d.kind){for(e=0;e<b.length;e++)f=b[e],f===a?c[a]=c[a]||[]:0===f.indexOf(a+".",0)&&(c[a]=c[a]||[],c[a].push(f.slice(a.length+1)));c[a]&&(c[a]=c[a].join(",")||"displayName")}}),c},getHasManyProperties:function(a,b){var c={};return a.eachRelationship(function(a,d){var e,f;if("hasMany"===d.kind||"manyToMany"===d.kind){for(e=0;e<b.length;e++)f=b[e],f===a?c[a]=c[a]||[]:0===f.indexOf(a+".",0)&&(c[a]=c[a]||[],c[a].push(f.slice(a.length+1)));c[a]&&(c[a]=c[a].join(",")||"displayName")}}),c},getRelationProperties:function(a,b){var c={};return a.eachRelationship(function(a,d){var e,f,g=Ember.get(d,"type.typeKey");for(e=0;e<b.length;e++)f=b[e],f===a?c[g]=c[g]||[]:0===f.indexOf(a+".",0)&&(c[g]=c[g]||[],c[g].push(f.slice(a.length+1)));c[g]&&(c[g]="array"===Ember.typeOf(c[g])&&c[g].length?c[g].join(","):"displayName")}),c}},a.UmiRESTAdapter=a.RESTAdapter.extend({buildURL:function(a,b){var c=[],d=Ember.get(this,"host"),e=this.urlPrefix();return b&&c.push(b),e&&c.unshift(e),c=c.join("/"),!d&&c&&(c="/"+c),c},namespace:window.UmiSettings.baseApiURL.replace(/^\//g,""),ajaxOptions:function(a,b,c){c=c||{},c.url=a,c.type=b,c.dataType="json",c.context=this,c.data&&"GET"!==b&&(c.contentType="application/json; charset=utf-8",c.data=JSON.stringify(c.data));var d=this.headers;return("PUT"===b||"DELETE"===b)&&(d=d||{},d["X-HTTP-METHOD-OVERRIDE"]=b,c.type="POST"),void 0!==d&&(c.beforeSend=function(a){Ember.ArrayPolyfills.forEach.call(Ember.keys(d),function(b){a.setRequestHeader(b,d[b])})}),c},ajaxError:function(a){var b=this._super(a);if(403===b.status||401===b.status)return void UMI.__container__.lookup("router:main").send("logout");if(422===b.status)return b;var c;c=b.hasOwnProperty("responseJSON")?Ember.get(b,"responseJSON.result.error.message"):b.responseText;var d={close:!0,title:b.status+". "+b.statusText,content:c,duration:!1,type:"error"};UMI.notification.create(d)}}),UMI.ApplicationSerializer=a.RESTSerializer.extend({extractMeta:function(a,b,c){var d=Ember.get(c,"result.meta");d&&(a.metaForType(b,d),delete c.result.meta)},normalizePayload:function(a){return a=a.result,a.hasOwnProperty("collection")&&(a=a.collection),a},serializeHasMany:function(b,c,d){var e=d.key,f=a.RelationshipChange.determineRelationshipType(b.constructor,d);("manyToNone"===f||"manyToMany"===f||"manyToOne"===f)&&b.relationPropertyIsDirty(e)&&(c[e]=Ember.get(b,"changedRelationshipsByName."+e))}}),UMI.ApplicationAdapter=a.UmiRESTAdapter,a.ManyArray.reopen({reloadLinks:function(){var a=Ember.get,b=a(this,"store"),c=a(this,"owner"),d=a(this,"name"),e=Ember.RSVP.defer(),f=c.constructor.metaForProperty(d),g=c._data.links[f.key];b.findHasMany(c,g,f,e)}}),UMI.ApplicationStore=a.Store.extend({updateCollection:function(a,b){function c(a,b){var c=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin);return c.create({promise:Ember.RSVP.Promise.cast(a,b)})}function d(a,b,c){return a.lookup("serializer:"+b)||a.lookup("serializer:application")||a.lookup("serializer:"+c)||a.lookup("serializer:-default")}function e(a,b){var c=a.serializer,e=a.defaultSerializer,f=a.container;return f&&void 0===c&&(c=d(f,b.typeKey,e)),(null===c||void 0===c)&&(c={extract:function(a,b,c){return c}}),c}function f(a,b){a=j.modelFor(a);var d=j.recordArrayManager.createAdapterPopulatedRecordArray(a,b),e=j.adapterFor(a);return Ember.warn("You tried to load a query but you have no adapter (for "+a+")",e),Ember.warn("You tried to load a query but your adapter does not implement `findQuery`",e.findQuery),c(g(e,j,a,b,d))}function g(a,b,c,d,f){var g=a.findQuery(b,c,d,f),h=e(a,c),i="DS: Handle Adapter#findQuery of "+c;return Ember.RSVP.Promise.cast(g,i).then(function(a){var e,f=(Ember.get(d,"fields")||"").split(","),g=UMI.OrmSettings.defaultProperties;f=f.concat(g);var i=Ember.get(d,"with");if("object"===Ember.typeOf(i))for(e in i)i.hasOwnProperty(e)&&f.push(e);var j=h.extract(b,c,a,null,"findQuery");Ember.assert("The response from a findQuery must be an Array, not "+Ember.inspect(j),"array"===Ember.typeOf(j));for(var k=0;k<j.length;k++)for(e in j[k])j[k].hasOwnProperty(e)&&!f.contains(e)&&delete j[k][e];return j},null,"DS: Extract payload of findQuery "+c)}function h(a){return Boolean(a)?null:a+""}var i,j=this;Ember.warn("You need to pass a type to the store's find method",arguments.length>=1),Ember.warn("You may not pass `"+b+"` as id to the store's find method",1===arguments.length||!Ember.isNone(b)),i=1===arguments.length?j.findAll(a):"object"===Ember.typeOf(b)?f(a,b):j.findById(a,h(b));var k=Ember.RSVP.defer();return i.then(function(b){var c,d=[];Ember.run.later(function(){var e=function(a,b,c,d){b.push(a.update(c,d))};for(c=0;c<b.length;c++)e(j,d,a,b[c]);k.resolve(d)},0)}),c(k.promise)}}),a.StringTransform.reopen({deserialize:function(a){return Ember.isNone(a)?"":String(a)}}),UMI.CustomDateTransform=a.Transform.extend({deserialize:function(a){return a=Ember.isNone(a)?"":String(a),a&&(a=h(a).format("DD.MM.YYYY")),a},serialize:function(a){return a&&(a=h(a,"DD.MM.YYYY").format("YYYY-MM-DD")),a}}),UMI.CustomDateTimeTransform=a.Transform.extend({deserialize:function(a){var b=Ember.get(a||"","date");return b?(Ember.set(a,"date",h(b).format("DD.MM.YYYY HH:mm:ss")),a=JSON.stringify(a)):a="",a},serialize:function(a){var b;if(a)try{a=JSON.parse(a),b=Ember.get(a,"date"),b&&Ember.set(a,"date",h(b,"DD.MM.YYYY HH:mm:ss").format("YYYY-MM-DD HH:mm:ss"))}catch(c){c.message="Incorrect field value. Expected array or null. "+c.message,this.get("container").lookup("route:application").send("backgroundError",c)}else a=null;return a}}),UMI.SerializedTransform=a.Transform.extend({deserialize:function(a){return a?("array"===Ember.typeOf(a)&&a.sort(),a=JSON.stringify(a)):a="",a},serialize:function(a){if(a)try{a=JSON.parse(a)}catch(b){b.message="Incorrect field value. Expected array or null. "+b.message,this.get("container").lookup("route:application").send("backgroundError",b)}else a=[];return a}}),UMI.ObjectRelationTransform=UMI.SerializedTransform.extend({serialize:function(a){if(a)try{a=JSON.parse(a),a={collection:a.collection?a.collection:Ember.get(a,"meta.collectionName"),guid:a.guid}}catch(b){b.message="Incorrect field value. Expected array or null. "+b.message,this.get("container").lookup("route:application").send("backgroundError",b)}else a=null;return a}}),UMI.RawTransform=a.Transform.extend({serialize:function(a){return a},deserialize:function(a){return a}}),$.ajaxSetup({headers:{"X-Csrf-Token":Ember.get(window,"UmiSettings.token")},error:function(a){var b=UMI.__container__.lookup("router:main").router.activeTransition;b?b.send("backgroundError",a):UMI.__container__.lookup("route:application").send("backgroundError",a)}}),m(),n(UMI),o(UMI),p(UMI),q(UMI),r(UMI),UMI}),define("topBar/main",["App"],function(UMI){UMI.TopBarView=Ember.View.extend({templateName:"partials/topBar",activeProject:function(){return window.location.host}.property(),siteUrl:function(){return Ember.get(window,"UmiSettings.baseSiteURL")}.property(),userName:function(){return this.get("controller.user._data.displayName")}.property("controller.user.displayName"),modules:function(){return this.get("controller.modules")}.property()})}),define("topBar",["topBar/main"],function(a){return a}),define("divider/view",["App"],function(UMI){return function(){UMI.DividerView=Ember.View.extend({classNames:["off-canvas-wrap","umi-divider-wrapper","s-full-height"],didInsertElement:function(){this.fakeDidInsertElement()},willDestroyElement:function(){this.removeObserver("model")},modelChange:function(){this.fakeDidInsertElement()}.observes("model"),fakeDidInsertElement:function(){var a=this.$(),b=a.find(".umi-divider"),c=a.find(".umi-divider-left"),d=a.find(".umi-divider-right"),e=a.find(".magellan-content").find(".umi-columns.large-4"),f=$(window);a.off("mousedown.umi.divider.toggle"),b.off("mousedown.umi.divider.proccess"),c.length?(a.on("mousedown.umi.divider.toggle",".umi-divider-left-toggle",function(){c.toggleClass("hide"),$(this).children(".icon").toggleClass("icon-left").toggleClass("icon-right"),$("html").trigger("toggled.umi.divider")}),b.on("mousedown.umi.divider.proccess",function(b){0===b.button&&(c.removeClass("divider-virgin"),$("html").addClass("s-unselectable"),$("html").on("mousemove.umi.divider.proccess",function(b){var g=b.pageX-a.offset().left;g=150>g?150:g,g=g>500?500:g,g>a.width()-720?e.removeClass("large-4").addClass("large-12"):e.removeClass("large-12").addClass("large-4"),d.css({marginLeft:g+1}),c.css({width:g}),f.trigger("dividerResize"),$("html").on("mouseup.umi.divider.proccess",function(){$("html").off("mousemove.umi.divider.proccess"),$("html").removeClass("s-unselectable")})}))})):d.css({marginLeft:""})}})}}),define("divider/main",["App","./view"],function(UMI,a){a()}),define("divider",["divider/main"],function(a){return a}),define("dock/controllers",["App"],function(UMI){return function(){UMI.DockController=Ember.ObjectController.extend({needs:["application","module"],modulesBinding:"controllers.application.modules",sortedModules:function(){var a=UMI.Utils.LS.get("dock"),b=this.get("modules");if("array"===Ember.typeOf(a)){var c=[];b=b.slice();for(var d=0,e=a.length;e>d;d++)for(var f=0,g=b.length;g>f;f++)b[f].name===a[d]&&(c.push(b[f]),b.splice(f,1),g--);return c.concat(b)}return b}.property("modules"),activeModuleBinding:"controllers.module.model"})}}),define("dock/view",["App"],function(UMI){return function(){var a,b=!1,c={},d={old:0,cur:0,def:0,coeff:1};UMI.DockView=Ember.View.extend({templateName:"partials/dock",classNames:["umi-dock","s-unselectable"],isTouchDevice:function(){return Modernizr.touch}.property(),didInsertElement:function(){var a=this,b=a.$().find(".dock")[0];b.style.left=(b.parentNode.offsetWidth-b.offsetWidth)/2+"px",$(b).addClass("active"),b.style.marginLeft||(b.style.marginLeft=0);var e,f=function(a,b){c.proccess=!0;var f=$(b.target).closest(".dropdown-menu").size(),g=a.offsetLeft,h=a.offsetWidth,i=a.parentNode.offsetWidth;d.cur=b.clientX,d.old&&(d.def=d.old-d.cur),Math.abs(g)+h>i&&!f&&(d.def>0?(d.coeff=Math.abs(g)/b.clientX,e=Math.round(parseInt(a.style.marginLeft,10)+d.def*d.coeff),d.coeff>0&&e+parseInt(a.style.left,10)<-20&&(a.style.marginLeft=e+"px")):d.def<0&&(d.coeff=Math.abs((h-i+g)/(i-b.clientX)),e=Math.round(parseInt(a.style.marginLeft,10)+d.def*d.coeff),d.coeff>0&&i<h-20+(e+parseInt(a.style.left,10))&&(a.style.marginLeft=e+"px"))),d.old=b.clientX};$(b).mousemove(function(a){c.oldtime||(c.oldtime=new Date),c.curtime=new Date,(c.curtime-c.oldtime>700||c.proccess)&&f(this,a)}),$(window).on("resize.umi.dock",function(){setTimeout(function(){b.style.left=(b.parentNode.offsetWidth-b.offsetWidth)/2+"px"},0)})},mouseLeave:function(a){var b=this,c=b.$().find(".dock")[0];if(d.old=!1,!this.get("parentView.isTouchDevice")){if(!a.relatedTarget)return void $(document.body).bind("mouseover",function(a){$(c).hasClass("full")&&!$(a.target).closest(".dock").size()&&b.leaveDock(),$(this).unbind("mouseover")});this.set("needDockMinimize",!0),this.leaveDock()}},leaveDock:function(){if(!this.get("parentView.isTouchDevice")&&!this.get("isBlocked")&&this.get("needDockMinimize")){var a=this,d=a.$().find(".dock")[0];b=!1,c.oldtime=!1,c.proccess=!1,this.set("needDockMinimize",!1),$(d).find(".umi-dock-module-icon").stop().animate({margin:"9px 11px 9px",height:30,width:30},{duration:130,easing:"linear"}),$(d).animate({marginLeft:"0px"},{duration:130,easing:"linear",complete:function(){$(d).removeClass("full")}})}},willDestroyElement:function(){$(window).off("resize.umi.dock")},isBlocked:!1,needDockMinimize:!1}),UMI.DockModuleButtonView=Ember.View.extend({tagName:"li",classNames:["umi-dock-button"],attributeBindings:["name:data-name"],name:function(){return this.get("module.name")}.property("module.name"),mouseEnter:function(){var d=this,e=d.$().closest(".dock"),f=d.$();if(!d.get("parentView.isTouchDevice")){var g=function(){if(d.set("parentView.needDockMinimize",!1),!b){b=!0,c.proccess=!1;var a=f.position().left+f[0].offsetWidth/2+(parseInt(e[0].style.marginLeft,10)||0);$(f[0].parentNode).find(".umi-dock-module-icon").stop().animate({height:48,width:48,margin:"8px 36px 28px"},{duration:280,step:function(b,c){this.parentNode.parentNode===f[0]&&(e[0].style.marginLeft=a-(c.elem.parentNode.parentNode.offsetLeft+c.elem.parentNode.offsetWidth/2)+"px")},complete:function(){e.addClass("full"),c.proccess=!0}})}};!a||clearTimeout(a),a=setTimeout(function(){g()},120)}},mouseLeave:function(){a&&clearTimeout(a)},didInsertElement:function(){if(!this.get("parentView.isTouchDevice")){var a=this,b=a.$(),c=a.$().closest(".dock"),d=$(document.body),e=$('<li class="umi-dock-button-empty">');b.children("a").on("mousedown.umi.dock.button",function(f){f.preventDefault();var g=f.pageX,h=b.position().left,i=h,j=0,k=!1;d.on("mousemove.sort.umi.dock",function(d){h=h+d.pageX-g,k||(a.set("parentView.isBlocked",!0),b.addClass("umi-dock-button-dragging").after(e),c.addClass("sorting"),k=!0);var f,l=Math.round((h-i)/120);l>j&&(f=e.nextAll("li:not(.umi-dock-button-dragging):first"),f.length&&(f.after(e),j++)),j>l&&(f=e.prevAll("li:not(.umi-dock-button-dragging):first"),f.length&&(f.before(e),j--)),b.css({left:h}),g=d.pageX}).on("mouseup.sort.umi.dock",function(){if(d.off(".sort.umi.dock"),k){e.after(b.removeClass("umi-dock-button-dragging").css({left:""})).remove(),a.set("parentView.isBlocked",!1),a.get("parentView").leaveDock();var f=[];c.removeClass("sorting").children("li").each(function(){f.push($(this).data("name"))}),UMI.Utils.LS.set("dock",f)}})})}}})}}),define("dock/main",["./controllers","./view","App"],function(a,b){a(),b()}),define("dock",["dock/main"],function(a){return a}),define("toolbar/view",["App"],function(UMI){return function(){UMI.ToolbarElement=Ember.Mixin.create({tagName:"li",template:function(){var a=this,b=this.get("context.type");if(this.get(b+"View"))return Ember.Handlebars.compile("{{view view."+b+"View meta=this}}");try{throw new Error("View c типом "+b+" не зарегестрирован для toolbar")}catch(c){Ember.run.next(function(){a.get("controller").send("backgroundError",c)})}}.property(),buttonView:function(){var a=this.get("context.behaviour.name"),b=Ember.get(UMI.buttonBehaviour,a)||{},c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);var e=UMI.ButtonView.extend(c);return e}.property(),dropdownButtonView:function(){var a=this.get("context.behaviour.name"),b=Ember.get(UMI.dropdownButtonBehaviour,a)||{},c={};for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);var e=UMI.DropdownButtonView.extend(c);return e}.property(),splitButtonView:function(){var a=UMI.SplitButtonView.extend(UMI.SplitButtonDefaultBehaviourForComponent),b=this.get("context.behaviour.name"),c=Ember.get(UMI.splitButtonBehaviour,b)||{},d={};for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return a=a.extend(d)}.property()}),UMI.ToolbarView=Ember.View.extend({layoutName:"partials/toolbar",classNames:["s-unselectable","umi-toolbar"],elementView:Ember.View.extend(UMI.ToolbarElement),didInsertElement:function(){var a=this.$(),b=a.find(".button-group"),c=b.width(),d=0,e=b.next(),f=20;e.length&&(d=e.width(),c+=d+60);var g=function(a){var c=b.find(".button");a?b.removeClass("umi-hide-button-label"):(b.addClass("umi-hide-button-label"),f=b.width()+d+20),c.length&&c.each(function(b){var d="";a||(d=$(c[b]).find(".umi-button-label").text()),$(c[b]).attr("title",d)})},h=function(a){a?e.removeClass("umi-hide-pagination-label"):e.addClass("umi-hide-pagination-label")};b.length&&c>=a.width()&&(g(),f>=a.width()?h():h(!0)),$(window).on("resize.umi.toolbar dividerResize.umi.toolbar",function(){c>=a.width()?(g(),f>=a.width()?h():h(!0)):g(!0)})},willDestroyElement:function(){$(window).off(".umi.toolbar")}})}}),define("partials/toolbar/buttons/globalBehaviour",["App"],function(UMI){return function(){function a(){}a.prototype={save:{extendButton:{label:function(){return this.get(this.get("controller.object.isDirty")?"defaultBehaviour.attributes.label":"meta.attributes.states.notModified.label")
}.property("meta.attributes.label","controller.object.isDirty","defaultBehaviour"),classNameBindings:["controller.object.isDirty::disabled","controller.object.isValid::disabled"]},beforeSave:function(){var a=this.get("controller.object");if(!a.get("isDirty")||!a.get("isValid"))return!1;var b=this.$().children(".button");b.addClass("loading");var c={object:a,handler:b[0]};return c},actions:{save:function(){var a=this.beforeSave();a&&this.get("controller").send("save",a)},saveAndGoBack:function(){var a=this.beforeSave();a&&this.get("controller").send("saveAndGoBack",a)}}},create:{actions:{create:function(a){var b=a.behaviour,c=a.object||this.get("controller.object");this.get("controller").send("create",{behaviour:b,object:c})}}},switchActivity:{label:function(){return this.get(this.get("controller.object.active")?"meta.attributes.states.deactivate.label":"meta.attributes.states.activate.label")}.property("meta.attributes.label","controller.object.active"),classNameBindings:["controller.object.active::umi-disabled"],iconClass:function(){var a="inactive";return this.get("controller.object.active")&&(a="active"),"icon-"+a}.property("meta.behaviour.name","controller.object.active"),actions:{switchActivity:function(a){a=a||{};var b=a.object||this.get("controller.object");this.get("controller").send("switchActivity",b)}}},backToFilter:{classNames:["wide-medium","umi-toolbar-button-border"],actions:{backToFilter:function(){this.get("controller").send("backToFilter")}}},trash:{actions:{trash:function(a){a=a||{};var b=a.object||this.get("controller.object");this.get("controller").send("trash",b)}}},untrash:{actions:{untrash:function(a){a=a||{};var b=a.object||this.get("controller.object");this.get("controller").send("untrash",b)}}},"delete":{actions:{"delete":function(a){a=a||{};var b=a.object||this.get("controller.object");this.get("controller").send("delete",b)}}},viewOnSite:{actions:{viewOnSite:function(a){a=a||{};var b=a.object||this.get("controller.object");this.get("controller").send("viewOnSite",b)}}},edit:{actions:{edit:function(a){a=a||{};var b=a.object||this.get("controller.object");this.get("controller").send("edit",b)}}},add:{classNameBindings:["controller.object.isValid::disabled"],beforeAdd:function(a){a=a||{};var b=a.object||this.get("controller.object");if(!b.get("isValid"))return!1;var c=this.$();return c.addClass("loading"),a={object:b,handler:c[0]}},actions:{add:function(a){a=a||{};var b=this.beforeAdd(a.object);b&&this.get("controller").send("add",b)},addAndGoBack:function(){var a=this.beforeAdd();a&&this.get("controller").send("addAndGoBack",a)},addAndCreate:function(){var a=this.beforeAdd();a&&this.get("controller").send("addAndCreate",a)}}},importFromRss:{actions:{importFromRss:function(){var a=this.get("controller.object");this.get("controller").send("importFromRss",a)}}},switchRobots:{isAllowedRobots:null,label:function(){var a;return a=this.get(this.get("isAllowedRobots")?"meta.attributes.states.disallow.label":"meta.attributes.states.allow.label")}.property("meta.attributes.label","isAllowedRobots"),iconClass:function(){return this.get("isAllowedRobots")?"icon-allowRobots":"icon-disallowRobots"}.property("isAllowedRobots"),actions:{switchRobots:function(){var a=this,b=Ember.RSVP.defer(),c=b.promise,d=this.get("isAllowedRobots"),e=this.get("controller.object");this.get("controller").send("switchRobots",e,d,b),c.then(function(){a.set("isAllowedRobots",!d)})}},checkIsAllowedRobots:function(){var a,b=this,c=this.get("controller.object"),d=this.get("container").lookup("controller:component");return d?(a=d.get("settings.actions.isAllowedRobots.source"),$.get(a+"?id="+c.get("id")).then(function(a){a=a||{},b.set("isAllowedRobots",Ember.get(a,"result.isAllowedRobots"))})):void 0},willDestroyElement:function(){this.removeObserver("label")},labelChange:function(){var a=this.$();a&&a.attr("title")&&a.attr("title",this.get("label"))}.observes("label").on("didInsertElement"),init:function(){this._super(),Ember.run.once(this,"checkIsAllowedRobots")}}},UMI.globalBehaviour=new a}}),define("partials/toolbar/buttons/button/main",["App"],function(UMI){return function(){function a(){}UMI.ButtonView=Ember.View.extend({tagName:"a",templateName:"partials/button",classNameBindings:"meta.attributes.class",attributeBindings:["title"],title:Ember.computed.alias("meta.attributes.title"),label:function(){return this.get("meta.attributes.label")}.property("meta.attributes.label"),iconClass:function(){return"icon-"+this.get("meta.behaviour.name")}.property("meta.behaviour.name"),click:function(){var a=this.get("meta").behaviour,b={behaviour:a};this.send(a.name,b)}}),a.prototype=Object.create(UMI.globalBehaviour),UMI.buttonBehaviour=new a}}),define("partials/toolbar/buttons/dropdownButton/main",["App","moment"],function(UMI,a){return function(){function b(){}UMI.DropdownButtonView=Ember.View.extend({templateName:"partials/dropdownButton",dropdownId:function(){return Foundation.utils.random_str()}.property(),dropdownClassName:null,_button:{classNameBindings:"meta.attributes.class",attributeBindings:["dataDropdown:data-dropdown","title","dataOptions:data-options"],dataDropdown:function(){return this.get("parentView.dropdownId")}.property(),title:Ember.computed.alias("meta.attributes.title"),iconClass:function(){return"icon-"+this.get("meta.behaviour.name")}.property("meta.behaviour.name")},extendButton:{},buttonView:function(){var a=Ember.View.extend(this.get("_button"));return a.reopen(this.get("extendButton")),a}.property(),actions:{sendActionForBehaviour:function(a){this.send(a.name,{behaviour:a})}}}),b.prototype=Object.create(UMI.globalBehaviour),b.prototype.backupList={templateName:"partials/dropdownButton/backupList",iScroll:null,dropdownClassName:"content",noBackupsLabel:null,extendButton:{dataOptions:function(){return"fastSelectHoverSelector: tr; fastSelectTarget: tr;"}.property()},isLazyDropdown:!0,getBackupList:function(){var b,c=this,d=c.get("controller.object"),e=c.get("controller.settings"),f=UMI.Utils.replacePlaceholder(d,e.actions.getBackupList.source),g=d.get("updated");try{g=JSON.parse(g)}catch(h){}var i={objectId:d.get("id"),id:"current",current:!0,isActive:!0},j=DS.PromiseArray.create({promise:$.get(f).then(function(b){var e,f,g=[],h=Ember.get(b,"result.getBackupList.collection.serviceBackup"),j=Ember.get(b,"result.getBackupList.collection.user");if(UMI.i18n.setDictionary(Ember.get(b,"result.getBackupList.i18n"),"form.backupList"),c.set("noBackupsLabel",UMI.i18n.getTranslate("No backups","form.backupList")),!h||!h.length)return[];var k=function(a){a.then(function(a){Ember.set(i,"user",Ember.get(a,"displayName"))})};if(f=d.get("editor"),"instance"===Ember.typeOf(f)?k(f):(f=d.get("owner"),"instance"===Ember.typeOf(f)&&k(f)),Ember.set(i,"created",{date:UMI.i18n.getTranslate("Current version","form.backupList")}),g.push(i),"array"===Ember.typeOf(h)){for(var l=0;l<h.length;l++)e=j.findBy("id",h[l].owner),h[l].user=e.displayName,Ember.set(h[l],"created.date",a(Ember.get(h[l],"created.date")).format("DD.MM.YYYY h:mm:ss"));g=g.concat(h)}return g})});j.then(function(){var a=c.get("iScroll");a&&setTimeout(function(){a.refresh()},150)});var k=Ember.ArrayProxy.extend({isLoaded:function(){return this.get("content.isFulfilled")}.property("content.isFulfilled")});return b=k.create({content:j})},backupList:null,actions:{applyBackup:function(b){if(!b.isActive){var c,d=this,e=this.get("controller.object"),f=d.get("backupList"),g=f.findBy("id",b.id),h=function(){f.setEach("isActive",!1),Ember.set(g,"isActive",!0)};b.current?(e.rollback(),h()):(c=UMI.Utils.replacePlaceholder(g,Ember.get(d.get("controller.settings"),"actions.getBackup.source")),$.get(c).then(function(b){e.rollback(),delete b.result.getBackup.version,delete b.result.getBackup.id,d.get("controller.store").modelFor(e.constructor.typeKey).eachTransformedAttribute(function(c,d){var e=Ember.get(b,"result.getBackup."+c);"CustomDateTime"===d&&"object"===Ember.typeOf(e)&&(Ember.set(e,"date",a(e.date).format("DD.MM.YYYY h:mm:ss")),Ember.set(b,"result.getBackup."+c,JSON.stringify(e)))}),e.setProperties(Ember.get(b,"result.getBackup")),h()}))}}},didInsertElement:function(){var a,b=this,c=this.$(),d=c.find(".s-scroll-wrap");if(d.length&&(a=new IScroll(d[0],UMI.config.iScroll)),this.set("iScroll",a),this.get("isLazyDropdown")){var e=!0;c.children("[data-dropdown-content]").on("opened.fndtn.dropdown",function(){e&&(e=!1,b.set("backupList",b.getBackupList()))})}b.get("controller.object").off("didUpdate"),b.get("controller.object").on("didUpdate",function(){Ember.run.once(b,function(){this.set("backupList",this.getBackupList())})}),b.get("controller").addObserver("object",function(){e=!0})},willDestroyElement:function(){this.get("controller").removeObserver("object"),this.get("controller.object").off("didUpdate")}},b.prototype.form={templateName:"partials/dropdownButton/form",dropdownClassName:"content",extendButton:{dataOptions:function(){return"fastSelect: false;"}.property()},isLazyDropdown:!0,formView:Ember.View.extend({tagName:"form",templateName:"partials/dropdownButton/formLayout",attributeBindings:["action"],action:function(){return this.get("form.attributes.action")}.property("form.attributes.action"),submit:function(){return!1},object:function(){var a=this.get("controller.object"),b=a.toJSON({includeId:!0});return b}.property("controller.object"),actions:{submit:function(a){var b=this,c=b.get("controller.object"),d=b.get("controller.store"),e=Ember.get(c,"constructor.typeKey"),f=d.all(e);c=f.findBy("id",c.get("id")),c=c.toJSON({includeId:!0}),a&&a.addClass("loading");for(var g,h=this.$().serializeArray(),i=0;i<h.length;i++)g=h[i].name,g&&(c[g]=h[i].value);var j=JSON.stringify(c);$.ajax({url:b.get("action"),type:"POST",data:j,contentType:"application/json; charset=UTF-8"}).then(function(a){var c=Ember.get(a,"result")||"";if(c){var f="";for(var g in c)if(c.hasOwnProperty(g)){f=g;break}var h=Ember.get(c,f);delete h.updated,delete h.created,d.update(e,h);var i={type:"success",content:UMI.i18n.getTranslate("Saved")+"."};UMI.notification.create(i)}else Ember.run.later(b,function(){var a=new Error(UMI.i18n.getTranslate("Unknown error")+".");b.get("controller").send("backgroundError",a)},100)})}},init:function(){this.reopen(UMI.FormElementsMixin,{elementView:function(){var a=this._super();return a.reopen({init:function(){this._super(),this.set("classNames",["columns","large-12"])}}),a}.property("object")}),this._super()},didInsertElement:function(){var a=this,b=a.$();a.$().on("submit",function(){return a.send("submit",b.find(".button")),!1})}}),form:null,getForm:function(){var a=this,b=a.get("meta"),c=Ember.get(a.get("controller.settings"),"actions."+Ember.get(b,"behaviour.action")+".source"),d=$.get(c),e=Ember.ObjectProxy.create({content:null,isLoaded:!1});return d.then(function(c){var d=Ember.get(c,"result."+Ember.get(b,"behaviour.action"));d=UMI.FormHelper.fillMeta(d,a.get("controller.object")),e.set("content",d),e.set("isLoaded",!0)}),e},didInsertElement:function(){var a=this,b=this.$();if(this.get("isLazyDropdown")){var c=!0;b.children("[data-dropdown-content]").on("opened.fndtn.dropdown",function(){c&&(c=!1,a.set("form",a.getForm()))})}a.addObserver("controller.object",function(){c=!0})},willDestroyElement:function(){this.removeObserver("controller.object")}},UMI.dropdownButtonBehaviour=new b}}),define("partials/toolbar/buttons/splitButton/main",["App"],function(UMI){return function(){function a(){}UMI.SplitButtonDefaultBehaviour=Ember.Mixin.create({pathInLocalStorage:function(){var a=this.get("meta")||{behaviour:{}};return"layout.defaultBehaviour."+a.type+"."+a.behaviour.name}.property(),defaultBehaviourIndex:null,defaultBehaviour:function(){var a=this.get("defaultBehaviourIndex"),b=this.get("meta.behaviour.choices")||[];return b[a]?b[a]:(a>0&&this.set("defaultBehaviourIndex",0),b[0])}.property("defaultBehaviourIndex"),defaultBehaviourIcon:function(){return this.get("defaultBehaviour")?"icon-"+this.get("defaultBehaviour.behaviour.name"):void 0}.property("defaultBehaviour"),actions:{toggleDefaultBehaviour:function(a){this.get("defaultBehaviourIndex")!==a&&(this.set("defaultBehaviourIndex",a),UMI.Utils.LS.set(this.get("pathInLocalStorage"),a))}},init:function(){this._super(),this.set("defaultBehaviourIndex",UMI.Utils.LS.get(this.get("pathInLocalStorage"))||0)}}),UMI.SplitButtonDefaultBehaviourForComponent=Ember.Mixin.create({pathInLocalStorage:function(){var a=this.get("controller.componentName"),b=this.get("meta")||{behaviour:{}};return"layout.defaultBehaviour."+b.type+"."+b.behaviour.name+"."+a}.property("controller.componentName")});var b=Ember.Object.create({defaultBehaviourIndex:0});UMI.SplitButtonSharedSettingsBehaviour=Ember.Mixin.create({containerSettings:b,defaultBehaviourIndex:Ember.computed.alias("containerSettings.defaultBehaviourIndex")});var c=Ember.View.extend({tagName:"li",classNames:["has-default-button"],label:function(){return this.get("context.attributes.label")}.property("context.attributes.label"),icon:function(){return"icon-"+this.get("context.behaviour.name")}.property("context.behaviour.name"),isDefaultBehaviour:function(){var a=this.get("parentView.defaultBehaviourIndex");return a===this.get("_parentView.contentIndex")}.property("parentView.defaultBehaviourIndex")});UMI.SplitButtonView=Ember.View.extend(UMI.SplitButtonDefaultBehaviour,{templateName:"partials/splitButton",dropdownId:function(){return Foundation.utils.random_str()}.property(),actions:{sendActionForBehaviour:function(a){this.send(a.name,{behaviour:a})}},_button:{classNameBindings:["meta.attributes.class"],attributeBindings:["meta.attributes.title"],dataOptions:function(){return"replaceTarget: .button;"}.property(),label:function(){return this.get("defaultBehaviour.attributes.label")}.property("defaultBehaviour.attributes.label"),title:Ember.computed.alias("meta.attributes.title"),click:function(a){void 0===$(a.target).data("dropdown")&&this.get("parentView").send("sendActionForBehaviour",this.get("defaultBehaviour").behaviour)}},extendButton:{},buttonView:function(){var a=Ember.View.extend(this.get("_button"));return a.reopen(this.get("extendButton")),a}.property(),itemView:c}),a.prototype=Object.create(UMI.globalBehaviour),a.prototype.contextMenu={itemView:function(){var a=c.extend({init:function(){this._super();var a=this.get("context");"switchActivity"===Ember.get(a,"behaviour.name")&&this.reopen({label:function(){return this.get(this.get("controller.object.active")?"context.attributes.states.deactivate.label":"context.attributes.states.activate.label")}.property("context.attributes.label","controller.object.active")})}});return a}.property(),init:function(){this._super();var a,b,c={},d=this.get("context.behaviour.choices");if("array"===Ember.typeOf(d))for(a=0;a<d.length;a++){b="";var e=Ember.get(UMI.splitButtonBehaviour,d[a].behaviour.name);e&&(b=e.actions[d[a].behaviour.name],b&&("object"!==Ember.typeOf(c.actions)&&(c.actions={}),c.actions[d[a].behaviour.name]=b))}this.reopen(c)}},UMI.splitButtonBehaviour=new a}}),define("toolbar/buttons/main",["partials/toolbar/buttons/globalBehaviour","partials/toolbar/buttons/button/main","partials/toolbar/buttons/dropdownButton/main","partials/toolbar/buttons/splitButton/main"],function(a,b,c,d){return function(){a(),b(),c(),d()}}),define("toolbar/main",["App","./view","./buttons/main"],function(UMI,a,b){b(),a()}),define("toolbar",["toolbar/main"],function(a){return a}),define("tableControl/controllers",["App"],function(UMI){return function(){UMI.TableControlMixin=Ember.Mixin.create(UMI.i18nInterface,{collectionName:null,dictionaryNamespace:"tableControl",hasContextMenu:!1,localDictionary:function(){var a=this.get("control")||{};return a.i18n}.property(),objects:null,objectChange:function(){Ember.run.once(this,"updateObjectDeleted")}.observes("objects.@each.isDeleted"),updateObjectDeleted:function(){var a=this.get("objects");a.forEach(function(b){b&&b.get("isDeleted")&&a.removeObject(b)})},getObjects:function(){var a=this,b=a.get("store");a.send("showLoader");var c=this.get("query")||{},d=a.get("collectionName"),e=a.store.updateCollection(d,c),f=a.get("orderByProperty"),g=f&&f.property?f.property:"id",h=f&&"direction"in f?f.direction:!0;e.then(function(){a.send("hideLoader");var c=b.metadataFor(d);a.set("total",c.total)});var i=Ember.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:e,sortProperties:[g],sortAscending:h});this.set("objects",i)},limit:25,offset:0,total:0,orderByProperty:null,order:function(){var a=this.get("orderByProperty");if(a){var b={};return b[a.property]=a.direction?"ASC":"DESC",b}}.property("orderByProperty"),nativeFieldsList:null,nativeFields:function(){var a=this.get("nativeFieldsList");return"array"===Ember.typeOf(a)&&a.length?a=a.join(","):void 0}.property("nativeFieldsList"),relatedFieldsList:null,relatedFields:function(){var a=this.get("relatedFieldsList");return"object"===Ember.typeOf(a)&&"{}"!==JSON.stringify(a)?a:void 0}.property("relatedFieldsList"),collectionFilterParams:null,filterParams:null,filters:function(){var a,b={},c=this.get("filterParams")||{},d=this.get("collectionFilterParams")||{};for(a in d)d.hasOwnProperty(a)&&("string"!==Ember.typeOf(d[a])||d[a].length?b[a]=d[a]:delete b[a]);for(a in c)c.hasOwnProperty(a)&&("string"!==Ember.typeOf(c[a])||c[a].length?b[a]=c[a]:delete b[a]);return b}.property("filterParams.@each","collectionFilterParams.@each"),setFilters:function(a,b){this.propertyWillChange("filterParams"),this.set("filterParams",null);var c={};c[a]=b,this.set("filterParams",c),this.propertyDidChange("filterParams")},query:null,queryChange:function(){this.get("withoutChangeQuery")||Ember.run.once(this,"buildQuery")}.observes("limit","filters","offset","order","nativeFields","relatedFields").on("init"),buildQuery:function(){var a={},b=this.get("nativeFields"),c=this.get("relatedFields"),d=this.get("limit"),e=this.get("filters"),f=this.get("offset"),g=this.get("order");b&&(a.fields=b),c&&(a["with"]=c),d&&(a.limit=d),e&&(a.filters=e),f&&(a.offset=f*d),g&&(a.orderBy=g),this.set("query",a)},allFieldsBinding:"control.meta.form.elements",defaultFieldsBinding:"control.meta.defaultFields",ignoredFields:null,selectedFields:null,visibleFields:null,visibleFieldsCompute:function(){Ember.run.once(this,function(){this.set("visibleFields",this.getVisibleFields())})}.observes("allFields","defaultFields","ignoredFields","selectedFields").on("init"),visibleFieldsChanged:function(){var a=[],b=this.get("visibleFields")||[],c=this.get("store"),d=this.get("collectionName"),e=c.modelFor(d);e.eachAttribute(function(c){var d=b.findBy("dataSource",c);d?a.push(d.dataSource):"active"===c&&a.push("active")});var f={};e.eachRelationship(function(a,c){var d,e;if("belongsTo"===c.kind)for(d=0;d<b.length;d++)e=Ember.get(b[d],"dataSource"),e===a?f[a]=f[a]||[]:0===e.indexOf(a+".",0)&&(f[a]=f[a]||[],f[a].push(e.slice(a.length+1)));"array"===Ember.typeOf(f[a])&&(f[a]=f[a].join(",")||"displayName")}),this.setProperties({nativeFieldsList:a,relatedFieldsList:f})}.observes("visibleFields"),getVisibleFields:function(){var a,b=this.get("allFields"),c=this.get("defaultFields"),d=[];for(a=0;a<b.length;a++)c.contains(Ember.get(b[a],"dataSource"))&&d.push(b[a]);return this.filterManyRelation(d),d},filterManyRelation:function(a){var b=this.get("store"),c=this.get("collectionName"),d=b.modelFor(c);d.eachRelationship(function(b,c){var d;if("hasMany"===c.kind||"manyToMany"===c.kind)for(var e=0;e<a.length;e++)d=Ember.get(a[e],"dataSource"),(d===b||0===d.indexOf(b+".",0))&&(Ember.warn("Поля с типом hasMany и manyToMany недопустимы в фильтре."),a.splice(e,1),--e)})},updateContent:function(){var a=this.get("store"),b=this.get("collectionName"),c=a.modelFor(b),d=this.get("control.params.filter")||{};c.eachAttribute(function(a){"trashed"!==a||Ember.get(d,"trashed")||(d.trashed="equals(0)")}),this.set("withoutChangeQuery",!0),this.setProperties({offset:0,limit:25,orderByProperty:null,collectionFilterParams:d}),this.set("withoutChangeQuery",!1)},contextChange:null,queryChanged:function(){Ember.run.once(this,"getObjects")}.observes("query"),contextToolbar:function(){var a=this.get("control")||{};return a.contextToolbar}.property("model"),toolbar:function(){var a=this.get("control")||{};return a.toolbar||[]}.property("model"),actions:{orderByProperty:function(a,b){this.set("orderByProperty",{property:a,direction:b})}}}),UMI.TableControlController=Ember.ObjectController.extend(UMI.TableControlMixin,{needs:["component"],componentNameBinding:"controllers.component.name",hasContextMenu:!0,hasPopup:!0,collectionName:function(){var a=this.get("controllers.component.dataSource.name");return a||(a=this.get("controllers.component.selectedContext")),a}.property("controllers.component.dataSource.name","controllers.component.selectedContext"),itemController:"tableControlContextToolbarItem",updateObjectDeleted:function(){var a=this.get("objects");a.forEach(function(b){b&&b.get("isDeleted")&&a.get("content.content").removeObject(b)})},contextChange:function(){this.updateContent()}.observes("content.object.id").on("init"),objectChange:function(){Ember.run.once(this,"updateObjectDeleted")}.observes("objects.@each.isDeleted"),popupParams:function(){var a=this;return{templateParams:{allFields:a.get("allFields"),defaultFields:a.get("defaultFields"),visibleFields:a.get("visibleFields"),tableController:a},viewParams:{title:UMI.i18n.getTranslate("Selected fields","tableControl"),popupType:"tableControl",width:"auto",height:"400"}}}.property("allFields","visibleFields","defaultFields"),actions:{openColumnConfiguration:function(){this.get("controllers.component").send("showPopup",this.get("popupParams"))}}}),UMI.TableControlContextToolbarItemController=Ember.ObjectController.extend({objectBinding:"content",componentNameBinding:"parentController.componentName",isSelected:function(){var a=this.get("object.guid");return a===this.get("parentController.control.meta.activeObjectGuid")}.property("parentController.control.meta.activeObjectGuid")}),UMI.TableControlSharedController=Ember.ObjectController.extend(UMI.TableControlMixin,{collectionName:function(){return this.get("control.collectionName")}.property("control.collectionName"),contextChange:function(){this.updateContent()}.observes("collectionName").on("init"),actions:{executeBehaviour:function(a,b){var c=this.get("control.behaviour."+a);"function"===Ember.typeOf(c)?c(this,b):Ember.warn("Behaviour for row click did not set.")}}})}}),define("tableControl/view",["App","toolbar"],function(UMI){return function(){UMI.TableControlViewMixin=Ember.Mixin.create({templateName:"partials/tableControl",classNames:["umi-table-control"],iScroll:null,scrollUpdate:function(){var a=this,b=this.$(),c=this.get("controller.objects.content"),d=this.get("iScroll"),e=function(){Ember.run.scheduleOnce("afterRender",a,function(){var a=b.find(".umi-table-control-content-fixed-right")[0],c=b.find(".umi-table-control-header-center")[0];a.style.marginTop=0,c.style.marginLeft=0,setTimeout(function(){d.refresh(),d.scrollTo(0,0)},0)})};c&&d&&c.then(function(){e()})},didInsertElement:function(){var a=this.$(),b=this,c=a.find(".umi-table-control-content-fixed-right")[0],d=a.find(".umi-table-control-header-center")[0],e=a.find(".umi-table-control-content-row-size")[0],f=a.find(".s-scroll-wrap");Ember.run.scheduleOnce("afterRender",b,function(){b=this;var g=new IScroll(f[0],UMI.config.iScroll);b.set("iScroll",g),b.scrollUpdate(),b.addObserver("controller.objects",function(){b.scrollUpdate()}),g.on("scroll",function(){c.style.marginTop=this.y+"px",d.style.marginLeft=this.x+"px"}),$(window).on("resize.umi.tableControl",function(){setTimeout(function(){c.style.marginTop=g.y+"px",d.style.marginLeft=g.x+"px"},100)}),a.on("mousedown.umi.tableControl",".umi-table-control-column-resizer",function(){$("html").addClass("s-unselectable");var a=this;$(a).addClass("on-resize");var b=a.parentNode.parentNode,c=b.className;c=c.substr(c.indexOf("column-id-"));var f,h=$(b).offset().left,i=e.querySelector("."+c);$("body").on("mousemove.umi.tableControl",function(a){a.stopPropagation(),f=a.pageX-h,f>=60&&b.offsetWidth>59&&(b.style.width=i.style.width=f+"px")}),$("body").on("mouseup.umi.tableControl",function(){$("html").removeClass("s-unselectable"),$(a).removeClass("on-resize"),$("body").off("mousemove"),$("body").off("mouseup.umi.tableControl"),g.refresh(),d.style.marginLeft=g.x+"px"})});var h=function(a){for(var b=$(a).hasClass("umi-table-control-content-row"),d=a.parentNode.querySelectorAll(b?".umi-table-control-content-row":".umi-table-control-column-fixed-cell"),e=0;e<d.length&&d[e]!==a;e++);var g=c.querySelectorAll(".umi-table-control-column-fixed-cell");return b||(a=f[0].querySelectorAll(".umi-table-control-content-row")[e]),[a,g[e]]};a.on("mouseenter.umi.tableControl",".umi-table-control-content-row, .umi-table-control-column-fixed-cell",function(){var a=h(this);$(a).addClass("hover")}),a.on("mouseleave.umi.tableControl",".umi-table-control-content-row, .umi-table-control-column-fixed-cell",function(){var a=h(this);$(a).removeClass("hover")})})},willDestroyElement:function(){$(window).off(".umi.tableControl"),this.removeObserver("controller.object")},paginationView:Ember.View.extend({classNames:["right","umi-table-control-pagination"],counter:function(){var a=(UMI.i18n.getTranslate("Of")||"").toLowerCase(),b=this.get("controller.limit"),c=this.get("controller.offset")+1,d=this.get("controller.total"),e=c*b,f=e-b+1;return e=d>e?e:d,f+"-"+e+" "+a+" "+d}.property("controller.limit","controller.offset","controller.total"),prevButtonView:Ember.View.extend({classNames:["button","secondary","tiny"],classNameBindings:["isActive::disabled"],isActive:function(){return this.get("controller.offset")}.property("controller.offset"),click:function(){this.get("isActive")&&this.get("controller").decrementProperty("offset")}}),nextButtonView:Ember.View.extend({classNames:["button","secondary","tiny"],classNameBindings:["isActive::disabled"],isActive:function(){var a=this.get("controller.limit"),b=this.get("controller.offset")+1,c=this.get("controller.total");return c>a*b}.property("controller.limit","controller.offset","controller.total"),click:function(){this.get("isActive")&&this.get("controller").incrementProperty("offset")}}),limitView:Ember.View.extend({tagName:"input",classNames:["s-margin-clear"],attributeBindings:["value","type"],value:function(){return this.get("controller.limit")}.property("controller.limit"),type:"text",keyDown:function(a){13===a.keyCode&&this.get("controller").setProperties({offset:0,limit:this.$()[0].value})}})}),sortHandlerView:Ember.View.extend({classNames:["button","flat","tiny","square","sort-handler"],classNameBindings:["isActive:active"],sortAscending:!0,isActive:function(){var a=this.get("controller.orderByProperty");return a?this.get("propertyName")===a.property:void 0}.property("controller.orderByProperty"),click:function(){var a=this.get("propertyName");$(".umi-table-control-header-cell .icon-top-thin:not(.active)").removeClass("icon-top-thin").addClass("icon-bottom-thin"),this.get("isActive")&&this.toggleProperty("sortAscending");var b=this.get("sortAscending");this.get("controller").send("orderByProperty",a,b)}}),hasRowEvent:!1,rowEvent:function(){},rowView:Ember.View.extend({tagName:"tr",classNames:["umi-table-control-content-row"],classNameBindings:["object.type","isActive::umi-inactive","parentView.hasRowEvent:s-pointer","isSelected:selected"],isActive:function(){var a=this.get("object"),b=!1;return a.eachAttribute(function(a){"active"===a&&(b=!0)}),b?a.get("active"):!0}.property("object.active"),isSelected:function(){var a=this.get("object.guid");return a===this.get("controller.control.meta.activeObjectGuid")}.property("controller.control.activeObjectGuid"),attributeBindings:["objectId"],objectIdBinding:"object.id",click:function(){this.get("parentView.hasRowEvent")&&!this.get("isSelected")&&this.get("parentView").rowEvent(this.get("object"))}}),filterRowView:Ember.View.extend({filterType:null,template:function(){var a=this.get("column"),b="";switch(Ember.get(a,"attributes.type")){case"text":this.set("filterType","text"),b='<input type="text" class="table-control-filter-input"/>'}return Ember.Handlebars.compile(b)}.property("column"),didInsertElement:function(){var a=this,b=this.$(),c=b.children("input"),d=this.get("filterType");switch(c.on("focus",function(){$(this).closest(".umi-table-control-row").find(".table-control-filter-input").val("")}),d){case"text":c.on("keypress.umi.tableControl.filters",function(b){13===b.keyCode&&a.setFilter("like(%"+this.value+"%)")})}},setFilter:function(a){this.get("controller").setFilters(this.get("column.dataSource"),a)}})}),UMI.TableCellContentView=Ember.View.extend({classNames:["umi-table-control-content-cell-div"],classNameBindings:["columnId"],promise:null,template:function(){function a(a){return a="null"===Ember.typeOf(a)?"":UMI.Utils.htmlEncode(a)}var b,c,d,e,f="",g=this;try{switch(c=this.get("object"),b=this.get("column"),b.type){case"checkbox":f='<span {{bind-attr class="view.object.'+b.dataSource+':umi-checkbox-state-checked:umi-checkbox-state-unchecked"}}></span>&nbsp;';break;case"checkboxGroup":case"multiSelect":d=c.get(b.dataSource),"array"===Ember.typeOf(d)&&(f=d.join(", "));break;case"datetime":if(d=c.get(b.dataSource))try{d=JSON.parse(d),f=Ember.get(d,"date")}catch(h){this.get("controller").send("backgroundError",h)}break;default:e=b.dataSource.split("."),this.checkRelation(e[0])?e.length>1?(d=c.get(e[0]),"instance"===Ember.typeOf(d)&&(d.then(function(b){d=b.get(e[1]),d=a(d),g.set("promiseProperty",d)}),f="{{view.promiseProperty}}")):f="{{view.object."+b.dataSource+".displayName}}":(d=c.get(b.dataSource),d=a(d),f=d)}}catch(h){this.get("controller").send("backgroundError",h)}finally{return Ember.Handlebars.compile(f)}}.property("column"),checkRelation:function(a){var b=this.get("object"),c=!1;return b.eachRelationship(function(b){a===b&&(c=!0)}),c}}),UMI.TableControlView=Ember.View.extend(UMI.TableControlViewMixin,{componentNameBinding:"controller.controllers.component.name",hasRowEvent:function(){var a=this.get("controller.control.params.objectsEditable");return a=a===!1?!1:!0}.property("controller.control.params.objectsEditable"),rowEvent:function(a){a.get("meta.editLink")&&this.get("controller").transitionToRoute(a.get("meta.editLink").replace(Ember.get(window,"UmiSettings.baseURL"),""))},willDestroyElement:function(){this.get("controller").removeObserver("objects.@each.isDeleted"),this.get("controller").removeObserver("content.object.id")}}),UMI.TableControlSharedView=Ember.View.extend(UMI.TableControlViewMixin,{componentNameBinding:null,hasRowEvent:!0,rowEvent:function(a){this.get("controller").send("executeBehaviour","rowEvent",a)},willDestroyElement:function(){this.get("controller").removeObserver("collectionName")}}),UMI.TableControlContextToolbarView=Ember.View.extend({tagName:"ul",classNames:["button-group","table-context-toolbar"],elementView:Ember.View.extend(UMI.ToolbarElement,{splitButtonView:function(){var a,b=UMI.SplitButtonView.extend(UMI.SplitButtonDefaultBehaviourForComponent,UMI.SplitButtonSharedSettingsBehaviour),c=this.get("context.behaviour.name"),d={};if(c){a=Ember.get(UMI.splitButtonBehaviour,c)||{};for(var e in a)a.hasOwnProperty(e)&&(d[e]=a[e])}return d.extendButton=d.extendButton={},d.extendButton.classNames=["white square"],d.extendButton.label=null,b=b.extend(d)}.property()})})}}),define("tableControl/partials/popup/main",["App"],function(UMI){return function(){UMI.TableControlPopupController=Ember.ObjectController.extend({selectedFields:Ember.computed.filterBy("fieldsList","value",1),fieldsList:function(){for(var a=[],b=this.get("allFields"),c=this.get("visibleFields"),d=0;d<b.length;d++)a.push(b[d]),a[a.length-1].value=c.findBy("dataSource",Ember.get(b[d],"dataSource"))?1:0;return a}.property("allFields","visibleFields"),isDirty:function(){var a=this.get("selectedFields"),b=this.get("visibleFields"),c=0;if(!a.length)return c;if(a.length!==b.length)++c;
else for(var d=0;d<a.length;d++)if(!b.findBy("dataSource",Ember.get(a[d],"dataSource"))){++c;break}return c}.property("selectedFields.@each"),actions:{setDefault:function(){for(var a=[],b=this.get("allFields"),c=this.get("defaultFields"),d=0;d<b.length;d++)a.push(b[d]),a[a.length-1].value=c.contains(Ember.get(b[d],"dataSource"))?1:0;this.set("fieldsList",a)},apply:function(){if(this.get("isDirty")){for(var a,b=this.get("selectedFields"),c=this.get("allFields"),d=[],e=0;e<b.length;e++)a=c.findBy("dataSource",Ember.get(b[e],"dataSource")),a&&d.push(a);d.length&&(this.get("tableController").set("visibleFields",d),this.send("closePopup"))}}}}),UMI.TableControlPopupView=Ember.View.extend({templateName:"partials/tableControl/configuration",classNames:["s-full-height"],didInsertElement:function(){var a=this.$(),b=a.find(".s-scroll-wrap"),c=new IScroll(b[0],UMI.config.iScroll);this.set("iScroll",c)}})}}),define("tableControl/main",["App","./controllers","./view","./partials/popup/main"],function(UMI,a,b,c){a(),b(),c()}),define("tableControl",["tableControl/main"],function(a){return a}),define("fileManager/main",["App"],function(UMI){UMI.FileManagerView=Ember.View.extend({tagName:"div",classNames:["umi-file-manager s-full-height"],layout:Ember.Handlebars.compile('<div id="elfinder"></div>'),fileSelect:function(a){return a},init:function(){this._super();var a=this.get("templateParams");"object"===Ember.typeOf(a)&&this.setProperties(a)},didInsertElement:function(){var a=this;$("#elfinder").elfinder({url:window.UmiSettings.baseApiURL+"/files/manager/action/connector",lang:"ru",getFileCallback:function(b){a.fileSelect(b)},uiOptions:{toolbar:[["back","forward"],["reload"],["getfile"],["mkdir","mkfile","upload"],["download"],["copy","cut","paste"],["rm"],["duplicate","rename","edit"],["view"],["help"]]}}).elfinder("instance"),$(".elfinder-navbar").on("mousedown.umi.fileManager",".elfinder-navbar-div",function(){$(".elfinder-navbar").children().removeClass("ui-state-active"),$(this).addClass("ui-state-active")})},willDestroyElement:function(){$(window).off(".umi.fileManager")}})}),define("fileManager",["fileManager/main"],function(a){return a}),define("treeSimple/main",["App"],function(UMI){UMI.TreeSimpleView=Ember.View.extend({classNames:["row","s-full-height"],templateName:"partials/treeSimple/list"}),UMI.TreeSimpleItemView=Ember.View.extend({tagName:"li",templateName:"partials/treeSimple/item",isExpanded:!0,checkExpanded:function(){var a=this.get("controller.target.router.state.params");a&&"settings.component"in a&&a["settings.component"].component===this.get("context.name")&&this.set("isExpanded",!0)},nestedSlug:function(){var a="";return".TreeSimpleItemView"===this.get("parentView").constructor.toString()&&(a=this.get("parentView").get("context.name")+"."),a+=this.get("context.name")}.property(),actions:{expanded:function(){this.toggleProperty("isExpanded")}}})}),define("treeSimple",["treeSimple/main"],function(a){return a}),define("tree/controllers",["App"],function(UMI){return function(){UMI.TreeControlController=Ember.ObjectController.extend({needs:["component","context"],collectionNameBinding:"controllers.component.dataSource.name",isTrashableCollection:null,properties:function(){var a=["displayName","order","active","childCount","type","locked"],b=this.get("collectionName"),c=this.get("store").modelFor(b),d=Ember.get(c,"fields");d=d.keys.list;for(var e=0;e<a.length;e++)d.contains(a[e])||(a.splice(e,1),--e);return this.set("isTrashableCollection",d.contains("trashed")),a}.property("model"),contextToolbar:function(){return Ember.get(this.get("controllers.component"),"sideBarControl.contextToolbar")}.property("controllers.component.sideBarControl.contextToolbar"),root:function(){var a=this.get("collectionName"),b=this.get("controllers.component.sideBarControl");if(b){var c=Ember.Object.extend({displayName:Ember.get(b,"params.rootNodeName")||"",root:!0,id:"root",active:!0,type:"base",typeKey:a,childCount:1}),d=c.create({});return d}}.property("model"),activeContext:function(){return this.get("controllers.context.model")}.property("controllers.context.model"),isLoading:!1,actions:{updateSortOrder:function(a,b,c,d){var e,f,g,h,i,j=this,k=this.get("collectionName"),l=d||[],m={},n=j.get("store"),o=n.all(k),p=j.get("properties");return j.send("showLoader"),g=o.findBy("id",a),m.object={id:g.get("id"),version:g.get("version")},i=g.get("parent.id")||"root",b&&"root"!==b&&(h=o.findBy("id",b),m.branch={id:h.get("id"),version:h.get("version")}),c&&(f=o.findBy("id",c),m.sibling={id:f.get("id"),version:f.get("version")}),e=j.get("controllers.component.settings.actions.move.source"),$.ajax({type:"POST",url:e,data:JSON.stringify(m),dataType:"json",contentType:"application/json",global:!1,success:function(){l.push(a);var c={};b!==i&&(b&&"root"!==b&&(l.push(b),c.currentParent=b),i&&"root"!==i&&(l.push(i),c.oldParent=i));var d,e={};return e.fields=p.join(","),e["filters[id]"]="equals("+l.join(",")+")",d=n.updateCollection(k,e),d.then(function(d){var e;if("root"!==b&&(g=d.findBy("id",a),n.find(k,b).then(function(a){g.set("parent",a)})),b!==i){for(var f in c)c.hasOwnProperty(f)&&(e=o.findBy("id",c[f]),e.trigger("needReloadHasMany","currentParent"===f?"add":"remove",g));b===i||"root"!==b&&"root"!==i||j.get("controllers.component").trigger("needReloadRootElements","root"===b?"add":"remove",g)}j.send("hideLoader")})},error:function(a){j.send("backgroundError",a),j.send("hideLoader")}})},showLoader:function(){this.set("isLoading",!0)},hideLoader:function(){this.set("isLoading",!1)}}}),UMI.TreeControlContextToolbarController=Ember.ObjectController.extend({needs:["component"],componentNameBinding:"controllers.component.name"})}}),define("tree/views",["App","toolbar"],function(UMI){return function(){UMI.TreeControlView=Ember.View.extend({templateName:"partials/treeControl",classNames:["row","s-full-height","s-unselectable"],iScroll:null,activeContextChange:function(){Ember.run.next(this,"expandBranch")}.observes("controller.activeContext").on("didInsertElement"),expandBranch:function(){if(!this.get("isDestroying")&&!this.get("isDestroyed")){var a=this.$(),b=this.get("controller.activeContext"),c=function(b){if(a.length){var c=a.find("[data-id="+b+"]");return c.length?!0:!1}};if(b){var d=[],e=[],f=[];d.push("root"),"root"!==b.get("id")&&b.get("mpath")&&(e=b.get("mpath").without(parseFloat(b.get("id")))||[]),e=d.concat(e);for(var g=0,h=e.length;h>g;g++)c(e[g])?this.send("expandItem",e[g]):f.push(e[g]);this.set("needsExpandedItems",f)}}},needsExpandedItems:"",actions:{expandItem:function(a){if(this.$()){var b=this.$().find("[data-id="+a+"]");b.length&&(b=Ember.View.views[b[0].id],b&&!b.get("isExpanded")&&b.set("isExpanded",!0))}}},didInsertElement:function(){function a(a,b){b=b.toUpperCase();for(var c=a.nextElementSibling;c&&c.tagName!==b;)c=c.nextElementSibling;return c}var b=this.$().find(".umi-tree-wrapper")[0],c=$.extend({disableMouse:!0},UMI.config.iScroll),d=new IScroll(b,c);this.set("iScroll",d);var e=this;$("html").on("toggled.umi.divider",function(){setTimeout(function(){d.refresh()},100)});var f,g=function(a){var b=Ember.View.views[a.id];b.get("hasChildren")&&b.set("isExpanded",!0)},h=function(a,b,c){b.style.top=a.pageY+c+"px",b.style.left=a.pageX+c+"px"},i=function(b,c){var d,f=c.parentNode.parentNode,i=document.createElement("li"),j=document.createElement("span"),k=2;$("html").addClass("s-unselectable"),e.$().addClass("drag-inside"),i.className="umi-tree-placeholder",i.setAttribute("data-id",c.parentNode.parentNode.getAttribute("data-id")),$(f).addClass("hide"),i=f.parentNode.insertBefore(i,f),j.className="umi-tree-ghost",j.innerHTML='<i class="'+c.className+'"></i>'+$(c.parentNode).children("a").text(),j=document.body.appendChild(j),h(b,j,k),$(document).on("mousemove","body, .umi-tree-ghost",function(b){d&&clearTimeout(d),h(b,j,k);var c,e,f,l,m=document.elementFromPoint(b.clientX,b.clientY);if($(m).closest(".umi-tree").length&&(e=$(m).closest("li")[0],e&&e!==i&&"root"!==e.getAttribute("data-id")))if(f=e.offsetHeight,l=e.getBoundingClientRect().top,b.clientY>l+parseInt(.7*f,10))i=i.parentNode.removeChild(i),c=a(e,"li"),i=c?e.parentNode.insertBefore(i,c):e.parentNode.appendChild(i);else if(b.clientY<l+parseInt(.3*f,10))i=i.parentNode.removeChild(i),i=e.parentNode.insertBefore(i,e);else{var n=document.createElement("ul");n.className="umi-tree-list",n.setAttribute("data-parent-id",e.getAttribute("data-id")),i=i.parentNode.removeChild(i),i=n.appendChild(i),n=e.appendChild(n),d=setTimeout(function(){g(e)},500)}}),$(document).on("mouseup",function(a){var b=document.elementFromPoint(a.clientX,a.clientY),c=null,d=$(b).closest(".umi-tree-list")[0];if($(document).off("mousemove","body, .umi-tree-ghost"),$(document).off("mouseup"),j.parentNode.removeChild(j),d&&!$(d).hasClass("umi-tree")){!function k(a){var b=a.previousElementSibling;b&&($(b).hasClass("hide")||"LI"!==b.tagName)?k(b):c=b?b.getAttribute("data-id"):null}(i);var g=[];!function l(a){var b=a.nextElementSibling;b&&($(b).hasClass("hide")||"LI"!==b.tagName?l(b):g.push(b.getAttribute("data-id")))}(i);var h=d.getAttribute("data-parent-id");e.get("controller").send("updateSortOrder",i.getAttribute("data-id"),h,c,g),e.send("expandItem",h)}i.parentNode&&i.parentNode.removeChild(i),$(f).removeClass("hide"),$("html").removeClass("s-unselectable")})};this.$().on("mousedown",".icon.move",function(a){if(1===a.originalEvent.which){var b=this;f=setTimeout(function(){i(a,b)},200)}}),this.$().on("mouseup",".icon.move",function(){f&&clearTimeout(f)})},willDestroyElement:function(){this.removeObserver("controller.activeContext")}}),UMI.TreeControlItemView=Ember.View.extend({item:null,treeControlView:null,templateName:"partials/treeControl/treeItem",tagName:"li",classNames:["umi-tree-list-li"],classNameBindings:["item.isDragged:hide","item.isDeleted:hide"],attributeBindings:["dataId:data-id"],dataId:function(){return this.get("item.id")}.property("item.id"),iconTypeClass:function(){var a,b=this.get("item");if("root"===b.get("id"))a="icon-open-folder";else switch(b.get("type")){case"system":a="icon-settings";break;default:a="icon-document"}return a}.property("item.type"),editLink:function(){var a=this.get("item.meta.editLink");return a}.property("item"),allowMove:function(){var a=this.get("item");return"root"===a.get("id")||a.get("locked")?void 0:!0}.property("item.id"),savedDisplayName:function(){return this.get("root"===this.get("item.id")?"item.displayName":"item._data.displayName")}.property("item.currentState.loaded.saved"),isActiveContext:function(){return this.get("controller.activeContext.id")===this.get("item.id")}.property("controller.activeContext.id"),childrenList:function(){return this.get("item")?this.getChildren():void 0}.property("item"),hasChildren:Ember.computed.bool("item.childCount"),getChildren:function(){var a,b,c=this.get("item"),d=c.get("typeKey")||c.constructor.typeKey,e=this,f=e.get("controller.properties").join(",");b="root"===c.get("id")?"null()":c.get("id");var g={"filters[parent]":b,fields:f};e.get("controller.isTrashableCollection")&&(g["filters[trashed]"]="equals(0)"),a=this.get("controller.store").updateCollection(d,g),"root"!==c.get("id")&&a.then(function(a){for(var b=0;b<a.length;b++)a[b].set("parent",c)});var h=Ember.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["order"],sortAscending:!0});return h},scrollUpdate:function(){var a=this;setTimeout(function(){var b=a.get("treeControlView.iScroll");b&&setTimeout(function(){b.refresh()},100)},0)},scrollNeedUpdate:function(){this.scrollUpdate()}.observes("childrenList.length"),inActive:function(){return this.get("item.active")===!1?!0:!1}.property("item.active"),isExpanded:!1,expandActiveContext:function(){if(!this.get("isExpanded")){var a=this.get("item.id"),b=this.get("treeControlView"),c=b.get("needsExpandedItems");"root"===a?this.set("isExpanded",!0):c&&c.contains(parseFloat(a))&&(b.set("needsExpandedItems",c.without(parseFloat(a))),this.set("isExpanded",!0))}},actions:{expanded:function(){this.toggleProperty("isExpanded");this.scrollUpdate()}},didInsertElement:function(){Ember.run.once(this,"expandActiveContext")},init:function(){this._super();var a=this,b=this.get("item");"root"===b.get("id")?a.get("controller.controllers.component").on("needReloadRootElements",function(b,c){var d=a.get("childrenList");d||a.set("childrenList",[]),"add"===b?d.pushObject(c):"remove"===b&&d.removeObject(c)}):this.get("item").on("needReloadHasMany",function(b,c){a.get("isExpanded")?"add"===b?a.get("childrenList").pushObject(c):a.get("childrenList").removeObject(c):a.toggleProperty("isExpanded")})},willDestroyElement:function(){this.removeObserver("childrenList.length")}}),UMI.TreeControlContextToolbarView=Ember.View.extend({tagName:"ul",classNames:["button-group","umi-tree-context-toolbar","right"],elementView:Ember.View.extend(UMI.ToolbarElement,{splitButtonView:function(){var a,b=UMI.SplitButtonView.extend(UMI.SplitButtonDefaultBehaviourForComponent,UMI.SplitButtonSharedSettingsBehaviour),c=this.get("context.behaviour.name"),d={};if(c){a=Ember.get(UMI.splitButtonBehaviour,c)||{};for(var e in a)a.hasOwnProperty(e)&&(d[e]=a[e])}return d.extendButton=d.extendButton={},d.extendButton.classNames=["tiny white square"],d.extendButton.label=null,d.extendButton.dataOptions=function(){return"align: right; checkPositionRegardingElement: .umi-tree-wrapper; maxWidthLikeElement: .umi-tree-wrapper;"}.property(),d.actions=d.actions||{},d.actions.sendActionForBehaviour=function(a){var b=this.get("controller.model");this.send(a.name,{behaviour:a,object:b})},b=b.extend(d)}.property()})})}}),define("tree/main",["App","./controllers","./views"],function(UMI,a,b){a(),b()}),define("tree",["tree/main"],function(a){return a}),define("form/toolbox/formService",["App"],function(UMI){return function(){var a=function(a){var b,c=Ember.get(a,"control.meta"),d=Ember.get(a,"object"),e=d.constructor.typeKey,f=d.get("store"),g=["fieldset"],h=[];b=UMI.FormHelper.getNestedProperties(Ember.get(c,"elements"),g);var i=UMI.OrmHelper.buildRequest(d,b);i.filters={id:d.get("id")},h.push(f.updateCollection(e,i));var j=UMI.FormHelper.filterLazyProperties(Ember.get(c,"elements")),k=UMI.OrmHelper.getRelationProperties(d,j);for(e in k)k.hasOwnProperty(e)&&h.push(f.updateCollection(e,{fields:k[e]}));return Ember.RSVP.all(h)},b=Ember.Object.extend({execute:function(b){var c=Ember.RSVP.defer();return a(b).then(function(a){c.resolve(a)},function(a){c.reject(a)}),c.promise}});UMI.register("service:formControlPromise",b),UMI.inject("controller:action","editFormPromiseService","service:formControlPromise");var c=Ember.Object.extend({execute:function(b){var c=Ember.RSVP.defer(),d=$.extend({},b);return d.object=d.createObject,a(d).then(function(a){c.resolve(a)},function(a){c.reject(a)}),c.promise}});UMI.register("service:createFormControlPromise",c),UMI.inject("controller:action","createFormPromiseService","service:createFormControlPromise")}}),define("form/toolbox/formHelper",["App"],function(UMI){return function(){UMI.FormHelper={getNestedProperties:function(a,b){var c=[];"array"!==Ember.typeOf(a)&&(Ember.warn("Wrong type argument: expected array."),a=[]),"array"!==Ember.typeOf(b)&&(b=[]);for(var d=0;d<a.length;d++){if(!b.contains(Ember.get(a[d],"type"))){var e=Ember.get(a[d],"dataSource");e&&c.push(e)}var f=Ember.get(a[d],"elements");if(f){var g=this.getNestedProperties(f,b);c=c.concat(g)}}return c},filterLazyProperties:function(a){var b=[];"array"!==Ember.typeOf(a)&&(Ember.warn("Wrong type argument: expected array."),a=[]);for(var c=0;c<a.length;c++){a[c].lazy&&b.push(Ember.get(a[c],"dataSource"));var d=Ember.get(a[c],"elements");if(d){var e=this.filterLazyProperties(d);b=b.concat(e)}}return b},fillMeta:function(a,b){var c=function(a){for(var d,e=0;e<a.length;e++)d=a[e].dataSource,d&&(a[e].value=b.get(d)),a[e].hasOwnProperty("elements")&&c(a[e].elements)},d=Ember.get(a,"elements");return c(d),a}}}}),define("form/toolbox/main",["App","./formService","./formHelper"],function(UMI,a,b){return function(){a(),b()}}),define("form/formControllerMixin",["App"],function(UMI){return function(){UMI.FormControllerMixin=Ember.Mixin.create(UMI.i18nInterface,{dictionaryNamespace:"form",localDictionary:function(){var a=this.get("control")||{};return a.i18n}.property()})}}),define("form/formViewMixin",["App"],function(UMI){return function(){UMI.FormViewMixin=Ember.Mixin.create({tagName:"form",submit:function(){return!1},formElements:Ember.computed.alias("controller.formElements"),hasFieldset:function(){var a=this.get("formElements")||[];return a.isAny("type","fieldset")}.property("formElements.@each"),fieldsetElements:function(){return this.get("formElements").filterBy("type","fieldset")}.property("formElements.@each.type")})}}),define("form/formElementsFactory",["App"],function(UMI){return function(){UMI.FormElementFactory=Ember.Object.extend({elementMixinForType:function(a){var b=this.get(a);if(b){var c=this.container.lookupFactory("mixin:"+b);if(c)return c}else Ember.warn('Mixin for element with type "'+a+'" not registered')},checkbox:"FormCheckboxElement",checkboxGroup:"FormCheckboxGroupElement",color:"FormColorElement",date:"FormDateElement",datetime:"FormDateTimeElement",email:"FormEmailElement",fieldset:"FormFieldsetElement",file:"FormFileElement",hidden:"FormHiddenElement",image:"FormImageElement",multiSelect:"FormMultiSelectElement",number:"FormNumberElement",password:"FormPasswordElement",passwordWithConfirmation:"FormPasswordWithConfirmationElement",radio:"FormRadioElement",select:"FormSelectElement",submit:"FormSubmitElement",text:"FormTextElement",textarea:"FormTextareaElement",time:"FormTimeElement",wysiwyg:"FormHtmlEditorElement"})}}),define("form/formElementsMixin",["App"],function(UMI){return function(){UMI.FormElementsMixin=Ember.Mixin.create({elementFactory:function(){return UMI.FormElementFactory.create({container:this.container})}.property(),elementView:function(){var a=this,b=a.get("elementFactory");return Ember.View.extend({init:function(){var a=this.get("meta.type"),c=b.elementMixinForType(a)||{};this.reopen(c),this._super()}})}.property()})}}),define("form/formElementSerializeMixin",["App"],function(UMI){return function(){UMI.SerializedValue=Ember.Mixin.create({path:null,value:null,inputIsObservable:!1,objectIsObservable:!1,computeValue:function(a,b,c){return Ember.set(a,b,c),a},setValueForObject:function(){var a,b,c,d,e=this,f="";try{"instance"===Ember.typeOf(e.get("object"))&&(a=e.get("value"),b=e.get("path"),a=Ember.isNone(a)?"":a,c=e.get("object."+e.get("meta.dataSource"))||"",a?(c&&(c=JSON.parse(c)),d=Ember.get(c,b),d=Ember.isNone(d)?"":d,d!==a&&(a&&(f=e.computeValue(c,b,a),f=JSON.stringify(f)),e.get("object").set(e.get("meta.dataSource"),f))):c!==a&&e.get("object").set(e.get("meta.dataSource"),f))}catch(g){e.get("controller").send("backgroundError",g)}},setInputValue:function(){var a=this,b=a.get("path"),c=a.get("object."+a.get("meta.dataSource")),d=a.get("value");d=Ember.isNone(d)?"":d;var e;try{c?(c=JSON.parse(c),e=Ember.get(c,b),e=Ember.isNone(e)?"":e,Ember.set(c,b,e),e!==d&&a.set("value",e)):c!==d&&a.set("value","")}catch(f){a.get("controller").send("backgroundError",f)}},init:function(){this._super();var a,b=this,c=this.get("path");try{"instance"===Ember.typeOf(b.get("object"))?(a=b.get("object."+b.get("meta.dataSource"))||"{}",a=JSON.parse(a),b.set("value",Ember.get(a,c)||""),b.get("inputIsObservable")&&b.addObserver("value",function(){Ember.run.once(this,"setValueForObject")}),b.get("objectIsObservable")&&b.addObserver("object."+b.get("meta.dataSource"),function(){Ember.run.once(b,"setInputValue")})):b.set("value",b.get("meta.value"))}catch(d){b.get("controller").send("backgroundError",d)}},willDestroyElement:function(){var a=this;"instance"===Ember.typeOf(a.get("object"))&&(a.removeObserver("object."+a.get("meta.dataSource")),a.removeObserver("value"))}})}}),define("form/formElementValidateMixin",["App"],function(UMI){return function(){UMI.FormElementValidateMixin=Ember.Mixin.create({classNameBindings:["validateErrors:error"],validateErrors:function(){var a=this.get("meta.errors");return"array"===Ember.typeOf(a)&&a.length?a.join(". "):void 0}.property("meta.errors.@each"),isRequired:function(){var a=this.get("meta.validators");return"array"===Ember.typeOf(a)&&a.findBy("type","required")?" *":void 0}.property("meta.validators")}),UMI.FormElementValidatable=Ember.Mixin.create({validatorType:null,checkValidate:function(){this._validate()},clearValidate:function(){this._clearValidateError()},isWrapperTemplate:!1,validateErrorsTemplate:function(){var a,b,c=this.get("validatorType");return"collection"===c?(b=this.get("meta.dataSource"),a="{{#if view.object.validErrors."+b+'}}<small class="error">{{view.object.validErrors.'+b+"}}</small>{{/if}}"):a=this.get("isWrapperTemplate")?'{{#if view.validateErrors}}<small class="error">{{view.validateErrors}}</small>{{/if}}':'{{#if view.parentView.validateErrors}}<small class="error">{{view.parentView.validateErrors}}</small>{{/if}}',a},_validate:function(){var a,b,c=this,d=this.get("validatorType"),e=c.get("meta");if("collection"===d){a=Ember.get(e,"dataSource");var f=c.get("object");f.filterProperty(a),f.validateProperty(a)}else UMI.validator.filterProperty(Ember.get(e,"value"),Ember.get(e,"filters")),b=UMI.validator.validateProperty(Ember.get(e,"value"),Ember.get(e,"validators")),b=b||[],Ember.set(e,"errors",b)},_clearValidateError:function(){var a=this,b=a.get("meta"),c=Ember.get(b,"dataSource");if("collection"===a.get("validatorType")){var d=a.get("object");d.clearValidateForProperty(c)}else Ember.set(b,"errors",[])}})}}),define("form/formElementMixin",["App"],function(UMI){return function(){UMI.FormElementMixin=Ember.Mixin.create({classNames:["umi-columns"],layout:Ember.Handlebars.compile('<div><span class="umi-form-label">{{view.meta.label}}{{view.isRequired}}</span></div>{{yield}}')})}}),define("partials/form/partial/magellan/main",["App"],function(UMI){return function(){UMI.MagellanView=Ember.View.extend({classNames:["magellan-menu","s-full-height-before","s-unselectable"],focusId:null,buttonView:Ember.View.extend({tagName:"a",classNameBindings:["isFocus:focus"],isFocus:function(){return this.get("model.id")===this.get("parentView.focusId")}.property("parentView.focusId"),click:function(){var a=this,b=document.querySelector(".umi-fieldset-"+this.get("model.id"));$(b).closest(".magellan-content").animate({scrollTop:b.offsetTop-parseFloat(getComputedStyle(b).marginTop)},0),setTimeout(function(){a.get("parentView.focusId")!==a.get("model.id")&&a.get("parentView").set("focusId",a.get("model.id"))},10)}}),init:function(){this._super();var a=this.get("elements");this.set("focusId",a.get("firstObject.id"))},didInsertElement:function(){var a=this,b=this.$().parent().find(".magellan-content");if(b.length){var c=b.find("fieldset");Ember.run.next(a,function(){var d,e=c[c.length-1],f=e.offsetHeight,g=b[0].offsetHeight,h=function(a){f=e.offsetHeight,g=b[0].offsetHeight,a.style.height=g-f-10-parseInt($(e).css("marginBottom"))+"px"};g>f&&(d=document.createElement("div"),d.className="umi-js-fieldset-placeholder",d=b[0].appendChild(d),h(d),$(window).on("resize.umi.magellan.fieldsetPlaceholder",function(){h(d)})),b.on("scroll.umi.magellan",function(){for(var b,d,e=$(this).scrollTop(),f=0;f<c.length;f++)d=c[f].offsetTop,d-parseFloat(getComputedStyle(c[f]).marginTop)<=e&&e<=d+c[f].offsetHeight&&(b=c[f]);b&&a.set("focusId",b.className.replace(/umi-fieldset-|ember-view|\s/g,""))})})}}})}}),define("partials/form/partial/submitToolbar/main",["App","toolbar"],function(UMI){return function(){UMI.SubmitToolbarView=Ember.View.extend({layoutName:"partials/form/submitToolbar",tagName:"ul",classNames:["button-group","umi-form-control-buttons"],elementView:Ember.View.extend(UMI.ToolbarElement,{splitButtonView:function(){var a=UMI.SplitButtonView.extend({}),b=this.get("context.behaviour.name"),c=Ember.get(UMI.splitButtonBehaviour,b)||{};return c.extendButton=c.extendButton||{},c.extendButton.dataOptions=function(){return"side: top; align: right;"}.property(),a=a.extend(c)}.property()})})}}),define("form/formSimple/formSimpleController",["App"],function(UMI){return function(){UMI.FormSimpleController=Ember.ObjectController.extend(UMI.FormControllerMixin,{formElementsBinding:"control.meta.elements"})}}),define("form/formSimple/formSimpleElementsMixin",["App"],function(UMI){return function(){UMI.FormSimpleElementsMixin=Ember.Mixin.create(UMI.FormElementsMixin,{elementFactory:function(){return UMI.FormElementFactory.create({container:this.container,singleCollectionObjectRelation:"FormSingleCollectionObjectRelationElement"})}.property(),elementView:function(){var a=this,b=a.get("elementFactory");return Ember.View.extend({init:function(){var a=this.get("meta.type"),c=b.elementMixinForType(a)||{};"fieldset"!==a?this.reopen(c,UMI.FormElementValidateMixin):this.reopen(c),this._super()}})}.property()})}}),define("form/formSimple/formSimpleView",["App"],function(UMI){return function(){UMI.FormSimpleView=Ember.View.extend(UMI.FormViewMixin,UMI.FormSimpleElementsMixin,{layoutName:"partials/formSimple",classNames:["s-margin-clear","s-full-height","umi-form-control","umi-validator"],attributeBindings:["action"],action:function(){return this.get("context.control.meta.attributes.action")}.property("context.control.meta.attributes.action"),actions:{submit:function(a){var b=this;a&&a.addClass("loading");var c=this.$().serialize();$.ajax({type:"POST",url:b.get("action"),global:!1,data:c,success:function(c){var d=Ember.get(c,"result.save"),e=b.get("context");d&&Ember.set(e,"control.meta",d),a.removeClass("loading");var f={type:"success",content:UMI.i18n.getTranslate("Saved")+"."};UMI.notification.create(f)},error:function(c){var d=Ember.get(c,"responseJSON.result"),e=Ember.get(d,"save"),f=b.get("context");e&&Ember.get(e,"type")&&Ember.set(f,"control.meta",e);var g=Ember.get(d,"error");if(g&&Ember.get(g,"message")){var h={type:"error",content:Ember.get(g,"message")};UMI.notification.create(h)}a.removeClass("loading")}})}},submitToolbarView:UMI.SubmitToolbarView.extend({elementView:Ember.View.extend(UMI.ToolbarElement,{buttonView:function(){var a={};return"save"===this.get("context.behaviour.name")&&(a={actions:{save:function(){this.get("parentView.parentView.parentView").send("submit",this.$())}}}),UMI.ButtonView.extend(a)}.property()})})})}}),define("form/formSimple/main",["App","partials/form/partial/magellan/main","partials/form/partial/submitToolbar/main","./formSimpleController","./formSimpleElementsMixin","./formSimpleView"],function(UMI,a,b,c,d,e){return function(){a(),b(),c(),d(),e()}}),define("form/formCollection/formCollectionController",["App"],function(UMI){return function(){UMI.FormCollectionController=Ember.ObjectController.extend(UMI.FormControllerMixin,{needs:["component"],formElementsBinding:"control.meta.elements",objectBinding:"model.object",settings:function(){var a={};return a=this.get("controllers.component.settings")}.property(),inputElements:function(){var a,b=this.get("control.meta.elements"),c=[];for(a=0;a<b.length;a++)"fieldset"===Ember.get(b[a],"type")&&"array"===Ember.typeOf(Ember.get(b[a],"elements"))?c=c.concat(b[a].elements):c.push(b[a]);return c},validationErrors:function(){var a,b=this.get("object.validErrors"),c=[],d=this.inputElements(),e=UMI.i18n.getTranslate("Object")+" "+UMI.i18n.getTranslate("Not valid").toLowerCase()+".",f={type:"error",duration:!1,title:e,kind:"validate",close:!1};for(a in b)b.hasOwnProperty(a)&&!d.findBy("dataSource",a)&&c.push("<div>"+a+": "+b[a]+"</div>");c.length?(f.content=c.join(),UMI.notification.create(f)):UMI.notification.removeWithKind("validateError")}.observes("object.validErrors.@each"),actionWithCustomValidate:function(a,b){var c=this.inputElements();c=c.mapBy("dataSource"),b.fields=c,this.get("controllers.component").send(a,b)},actions:{save:function(a){this.actionWithCustomValidate("save",a)},saveAndGoBack:function(a){this.actionWithCustomValidate("saveAndGoBack",a)},add:function(a){this.actionWithCustomValidate("add",a)},addAndGoBack:function(a){this.actionWithCustomValidate("addAndGoBack",a)}}})}}),define("form/formCollection/formCollectionElementValidateMixin",["App"],function(UMI){return function(){UMI.FormCollectionElementValidateMixin=Ember.Mixin.create(UMI.FormElementValidateMixin,{validateErrors:function(){var a=this.get("meta.dataSource"),b=!!this.get("object.validErrors."+a);return b}.property("object.validErrors.@each"),isRequired:function(){var a,b=this.get("object"),c=this.get("meta.dataSource");return b&&(a=this.get("object").validatorsForProperty(c),"array"===Ember.typeOf(a)&&a.findBy("type","required"))?" *":void 0}.property("object")})}}),define("form/formCollection/formCollectionElementsMixin",["App"],function(UMI){return function(){UMI.FormCollectionElementsMixin=Ember.Mixin.create(UMI.FormElementsMixin,{elementFactory:function(){return UMI.FormElementFactory.create({container:this.container,fieldset:"FormFieldsetCollectionElement",wysiwyg:"FormHtmlEditorCollectionElement",select:"FormSelectCollectionElement",checkbox:"FormCheckboxCollectionElement",checkboxGroup:"FormCheckboxGroupCollectionElement",permissions:"FormPermissionsElement",objectRelation:"FormObjectRelationElement",pageRelation:"FormObjectRelationElement"})}.property(),elementView:function(){var a=this,b=a.get("elementFactory");return Ember.View.extend({init:function(){var a=this.get("meta.type"),c=b.elementMixinForType(a)||{};"fieldset"!==a?this.reopen(c,UMI.FormCollectionElementValidateMixin):this.reopen(c),this._super()}})}.property()})}}),define("form/formCollection/formCollectionElementMixin",["App"],function(UMI){return function(){UMI.FormCollectionElementMixin=Ember.Mixin.create(UMI.FormElementMixin)}}),define("form/formCollection/formCollectionView",["App"],function(UMI){return function(){UMI.FormCollectionView=Ember.View.extend(UMI.FormViewMixin,UMI.FormCollectionElementsMixin,{layoutName:"partials/formCollection",classNames:["s-margin-clear","s-full-height","umi-validator","umi-form-control"],willDestroyElement:function(){this.get("controller").removeObserver("object.validErrors.@each")}})}}),define("form/formCollection/main",["App","./formCollectionController","./formCollectionElementValidateMixin","./formCollectionElementsMixin","./formCollectionElementMixin","./formCollectionView"],function(UMI,a,b,c,d,e){return function(){a(),b(),c(),d(),e()}}),define("partials/form/element/wysiwyg/main",["App"],function(UMI){return function(){CKEDITOR.on("dialogDefinition",function(a){for(var b,c=a.editor,d=a.data.definition,e=d.contents.length,f=(a.data.name,{viewParams:{popupType:"fileManager",title:UMI.i18n.getTranslate("Select file")},templateParams:{fileSelect:function(a){var b=this,d=Ember.get(a,"url")||"",e=Ember.get(window,"UmiSettings.projectAssetsUrl"),f=new RegExp("^"+e,"g");window.CKEDITOR.tools.callFunction(c._.filebrowserFn,d.replace(f,"")),b.get("controller").send("closePopup")}}}),g=function(){c._.filebrowserSe=this;var a=$(".cke_dialog");a.addClass("s-blur");var b=$(".cke_dialog_background_cover");b.addClass("hide");var d=function(){a.removeClass("s-blur"),b.removeClass("hide")};f.viewParams.beforeClose=d,UMI.__container__.lookup("route:application").send("showPopup",f)},h=0;e>h;h++)b=d.contents[h],b&&(b=b.get("browse"),null!==b&&(b.label=UMI.i18n.getTranslate("File manager"),0===h&&(b.style="display: inline-block; margin-top: 15px; margin-left: auto; margin-right: auto;"),b.hidden=!1,b.onClick=g))}),UMI.FormHtmlEditorElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:"small-12",template:Ember.Handlebars.compile('{{view "htmlEditor" object=view.object meta=view.meta}}')}),UMI.HtmlEditorView=Ember.View.extend({classNames:["ckeditor-row"],ckeditor:null,template:function(){var a="{{textarea value=view.meta.attributes.value placeholder=view.meta.placeholder name=view.meta.attributes.name}}";return Ember.Handlebars.compile(a)}.property(),didInsertElement:function(){var a=UMI.config.CkEditor(),b=this,c=this.$().children("textarea");
c.css({height:a.height});var d=CKEDITOR.replace(c[0].id,a);b.set("ckeditor",d)},willDestroyElement:function(){this.get("ckeditor").destroy()}}),UMI.FormHtmlEditorCollectionElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:"small-12",template:Ember.Handlebars.compile('{{view "htmlEditorCollection" object=view.object meta=view.meta}}')}),UMI.HtmlEditorCollectionView=Ember.View.extend(UMI.FormElementValidatable,{classNames:["ckeditor-row"],ckeditor:null,textareaId:function(){return"textarea-"+this.get("elementId")}.property(),focusOut:function(){this.checkValidate()},focusIn:function(){this.clearValidate()},template:function(){var a='<textarea id="{{unbound view.textareaId}}" placeholder="{{unbound view.meta.placeholder}}" name="{{unbound view.meta.attributes.name}}">{{unbound view.object.'+this.get("meta.dataSource")+"}}</textarea>";this.set("validatorType","collection");var b=this.validateErrorsTemplate();return Ember.Handlebars.compile(a+b)}.property(),setTextareaValue:function(a){if(!this.get("isDestroying")&&!this.get("isDestroyed")&&this.$()&&this.$().children("textarea").length){var b=this.get("object."+this.get("meta.dataSource"));a&&a.getData()!==b&&a.setData(b)}},updateContent:function(a,b){var c=this;a.editor.checkDirty()&&c.get("object").set(c.get("meta.dataSource"),b.getData())},didInsertElement:function(){var a=UMI.config.CkEditor(),b=this.$().children("textarea");b.css({height:a.height}),Ember.run.next(this,function(){var c=this,d=CKEDITOR.replace(b[0].id,a);c.set("ckeditor",d),d.on("change",function(a){Ember.run.once(c,"updateContent",a,d)}),c.addObserver("object."+c.get("meta.dataSource"),function(){Ember.run.next(c,"setTextareaValue",d)})})},willDestroyElement:function(){var a=this,b=a.get("ckeditor");a.removeObserver("object."+a.get("meta.dataSource")),"undefined"!=typeof b.commands.maximize&&1===b.commands.maximize.state&&b.execCommand("maximize"),b.destroy()}})}}),define("partials/form/element/select/main",["App"],function(UMI){return function(){UMI.FormSelectElementMixin=Ember.Mixin.create(UMI.FormElementMixin,UMI.FormElementValidatable,{classNames:["small-12","large-4"],template:function(){var a='{{view "select" object=view.object meta=view.meta name=view.meta.attributes.name}}';this.set("isWrapperTemplate",!0);var b=this.validateErrorsTemplate(),c=a+b;return Ember.Handlebars.compile(c)}.property()}),UMI.SelectView=Ember.Select.extend({focusOut:function(){var a=this.get("parentView");Ember.canInvoke(a,"checkValidate")&&a.checkValidate()},focusIn:function(){var a=this.get("parentView");Ember.canInvoke(a,"clearValidate")&&a.clearValidate()},attributeBindings:["meta.dataSource:name"],optionLabelPath:function(){return"content.label"}.property(),optionValuePath:function(){return"content.value"}.property(),prompt:function(){var a,b=this.get("meta.choices");if(b&&"array"===Ember.typeOf(b)&&(a=b.findBy("value","")),a)return a.label;var c="Nothing is selected",d=UMI.i18n.getTranslate(c,"form");return d?d:c}.property("meta.placeholder"),content:null,init:function(){this._super();var a=this.get("object"),b=Ember.get(a,"choices")||[];this.set("selection",b.findBy("value",Ember.get(a,"value"))),this.set("content",b)},didInsertElement:function(){var a=this.$().find("option")[0],b=this.get("meta.validators")||[];b=b.findBy("type","required"),!a.value&&b&&(a.disabled=!0)}}),UMI.FormSelectCollectionElementMixin=Ember.Mixin.create(UMI.FormCollectionElementMixin,UMI.FormElementValidatable,{classNames:["small-12","large-4"],template:function(){this.set("isWrapperTemplate",!0),this.get("meta.lazy")&&this.set("validatorType","collection");var a='{{view "selectCollection" object=view.object meta=view.meta}}',b=this.validateErrorsTemplate(),c=a+b;return Ember.Handlebars.compile(c)}.property()}),UMI.SelectCollectionView=Ember.Select.extend({focusOut:function(){var a=this.get("parentView");Ember.canInvoke(a,"checkValidate")&&a.checkValidate()},focusIn:function(){var a=this.get("parentView");Ember.canInvoke(a,"clearValidate")&&a.clearValidate()},attributeBindings:["meta.dataSource:name"],isLazy:!1,optionLabelPath:function(){return this.get("isLazy")?"content.displayName":"content.label"}.property(),optionValuePath:function(){return this.get("isLazy")?"content.id":"content.value"}.property(),prompt:function(){var a,b=this.get("meta.choices");if(b&&"array"===Ember.typeOf(b)&&(a=b.findBy("value","")),a)return a.label;var c="Nothing is selected",d=UMI.i18n.getTranslate(c,"form");return d?d:c}.property("meta.placeholder"),content:null,changeValue:function(){var a,b=this.get("object"),c=this.get("meta.dataSource"),d=this.get("selection");this.get("isLazy")?(a=d?d:void 0,b.set(c,a),b.changeRelationshipsValue(c,d?d.get("id"):void 0)):(a=d?d.value:b.getDefaultValueForProperty(c),b.set(c,a))}.observes("value"),init:function(){this._super();var a=this,b=a.get("object"),c=a.get("meta.dataSource");if(a.set("isLazy",a.get("meta.lazy")),a.set("validatorType","collection"),a.get("isLazy")){var d,e=a.get("controller.store");b.eachRelationship(function(a,b){a===c&&(d=Ember.get(b,"type.typeKey"))}),Ember.warn("Name of related collection is undefined.",d);var f=function(d){Ember.set(b.get("loadedRelationshipsByName"),c,d?d.get("id"):void 0),a.set("selection",d)},g=e.all(d);a.set("content",g);var h=b.get(c);if("instance"===Ember.typeOf(h))return h.then(function(a){f(a)});f()}else a.set("selection",this.get("meta.choices").findBy("value",b.get(c))),a.set("content",this.get("meta.choices")),Ember.run.next(a,function(){var a=this;a.addObserver("object."+c,function(){Ember.run.once(function(){a.set("selection",a.get("meta.choices").findBy("value",b.get(c)))})})})},didInsertElement:function(){var a=this.get("meta.dataSource"),b=this.get("object").constructor.typeKey,c=this.get("controller.store").metadataFor(b),d=Ember.get(c,"validators."+a);if(d&&"array"===Ember.typeOf(d)&&(d=d.findBy("type","required"))){var e=this.$().find("option")[0];!e.value&&d&&(e.disabled=!0)}},willDestroyElement:function(){this.removeObserver("value"),this.removeObserver("object."+this.get("meta.dataSource"))}})}}),define("partials/form/element/multi-select/main",["App"],function(UMI){return function(){var a={templateName:"partials/multi-select-lazy-choices",changeRelations:function(a,b){var c=this.get("object"),d=this.get("collection").findBy("id",b),e=this.get("meta.dataSource"),f=c.get(e);return f.then(function(b){"select"===a?b.pushObject(d):b.removeObject(d);var f=b.get("content").mapBy("id");c.changeRelationshipsValue(e,f)})}};UMI.FormMultiSelectElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "multiSelect" object=view.object meta=view.meta name=view.meta.attributes.name}}')}),UMI.MultiSelectView=Ember.View.extend({classNames:["row","collapse","umi-multi-select"],classNameBindings:["isOpen:opened"],templateName:"partials/multi-select",isOpen:!1,placeholder:"",isLazy:!1,collection:[],selectedIds:[],filterIds:[],filterOn:!1,inputInFocus:!1,selectedObjects:function(){var a=this.get("isLazy")?"id":"value",b=this.get("collection")||[],c=[],d=this.get("selectedIds")||[];return b.forEach(function(b){var e=Ember.get(b,a);d.contains(e)&&c.push(b)}),c}.property("selectedIds.@each"),notSelectedObjects:function(){var a,b=this.get("isLazy")?"id":"value",c=this.get("collection"),d=[];return this.get("filterOn")?(a=this.get("filterIds")||[],c.forEach(function(c){var e=Ember.get(c,b);a.contains(e)&&d.push(c)})):(a=this.get("selectedIds")||[],c.forEach(function(c){var e=Ember.get(c,b);a.contains(e)||d.push(c)})),d}.property("selectedIds.@each","filterIds"),opened:function(){var a=this.get("isOpen"),b=this;a?(this.set("inputInFocus",!0),$("body").on("click.umi.multiSelect",function(a){$(a.target).closest(".umi-multi-select-list").length&&$(a.target).hasClass("umi-multi-select-input")||b.set("isOpen",!1)})):($("body").off(".umi.multiSelect"),this.set("inputInFocus",!1),this.get("notSelectedObjects").setEach("hover",!1))}.observes("isOpen"),changeRelations:function(){var a=this.get("object"),b=this.get("meta.dataSource"),c=this.get("selectedIds");this.get("isLazy")?a.set(b,c):(c="array"===Ember.typeOf(c)?JSON.stringify(c.sort()):"",c="[]"===c?"":c,a.set(b,c))},actions:{toggleList:function(){this.set("filterIds",[]),this.set("filterOn",null);var a=!this.get("isOpen");this.set("isOpen",a)},select:function(a){this.get("selectedIds").pushObject(a),this.changeRelations("select",a)},unSelect:function(a){this.get("selectedIds").removeObject(a),this.changeRelations("unSelect",a)},markHover:function(a){var b=this.get("notSelectedObjects"),c=b.findBy("hover",!0),d=0;c&&(c.set("hover",!1),d=b.indexOf(c),"Down"===a&&d<b.length-1?++d:"Up"===a&&d&&--d),b.objectAt(d).set("hover",!0)},selectHover:function(){var a=this.get("isLazy")?"id":"value",b=this.get("notSelectedObjects"),c=b.findBy("hover",!0);this.send("select",c.get(a)),c.set("hover",!1),this.send("toggleList")}},inputView:Ember.View.extend({tagName:"input",classNames:["umi-multi-select-input"],attributeBindings:["parentView.placeholder:placeholder","value","autocomplete"],toggleFocus:function(){this.get("parentView.inputInFocus")?this.$().focus():this.$().blur()}.observes("parentView.inputInFocus"),autocomplete:"off",value:function(){var a,b=this.get("parentView.selectedObjects");return a=b.length?"":""}.property("parentView.selectedObjects"),click:function(){this.get("parentView").set("isOpen",!0)},keyUp:function(){var a="value",b="label",c=this.get("parentView");c.get("isLazy")&&(a="id",b="displayName");var d=this.$().val();if(d){c.set("filterOn",!0);var e=new RegExp("^"+d,"i"),f=c.get("collection"),g=[],h=c.get("selectedIds");f.forEach(function(c){e.test(Ember.get(c,b))&&!h.contains(Ember.get(c,a))&&g.push(Ember.get(c,a))}),c.set("filterIds",g),c.set("isOpen",!0)}},keyDown:function(a){a.stopPropagation();var b,c=this.get("parentView");switch(a.keyCode){case 38:b="Up";break;case 40:b="Down";break;case 13:b="Enter";break;case 27:b="Escape"}switch(b){case"Down":case"Up":c.send("markHover",b);break;case"Enter":c.send("selectHover"),a.preventDefault();break;case"Escape":c.set("isOpen",!1)}},blur:function(){this.$()[0].value=""},willDestroyElement:function(){this.removeObserver("parentView.inputInFocus")}}),init:function(){this._super();var b,c,d=this,e=this.get("meta.dataSource"),f=this.get("object"),g=d.get("controller.store");if(this.set("isLazy",this.get("meta.lazy")),this.get("isLazy")){this.reopen(a),c=f.get(e);var h=function(a){return g.all(a.type)};return f.eachRelationship(function(a,c){a===e&&(b=h(c))}),c.then(function(a){var c=a.mapBy("id")||[],g=a.mapBy("id")||[];d.set("collection",b),d.set("selectedIds",c),Ember.set(f.get("loadedRelationshipsByName"),e,g)})}var i=f.get(e)||"[]";try{i=JSON.parse(i)}catch(j){j.message="Incorrect value of field "+e+". Expected array or null. "+j.message,this.get("controller").send("backgroundError",j)}d.set("collection",this.get("meta.choices")),d.set("selectedIds",i)},willDestroyElement:function(){this.removeObserver("isOpen")}})}}),define("partials/form/element/checkbox/main",["App"],function(UMI){return function(){UMI.FormCheckboxElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],layout:Ember.Handlebars.compile('<div class="umi-form-element-without-label">{{yield}}{{view.isRequired}}</div>'),template:Ember.Handlebars.compile('{{view "checkboxElement" object=view.object meta=view.meta}}')}),UMI.FormCheckboxCollectionElementMixin=Ember.Mixin.create(UMI.FormCheckboxElementMixin,{template:Ember.Handlebars.compile('{{view "checkboxCollectionElement" object=view.object meta=view.meta}}')}),UMI.CheckboxElementView=Ember.View.extend({template:function(){var a=this,b=a.get("name"),c=a.get("attributeValue"),d=a.get("className"),e=a.get("value"),f='<input type="hidden" name="'+b+'" value="0" />',g='<input type="checkbox" '+(e?"checked":"")+' name="'+b+'" value="'+c+'" class="'+d+'"/>',h='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.meta.label}}</label>';return Ember.Handlebars.compile(f+g+h)}.property(),name:function(){var a=this.get("meta");return Ember.get(a,"attributes.name")}.property("meta.attributes.name"),value:function(){var a=this.get("meta");return Ember.get(a,"value")}.property("meta.value"),attributeValue:function(){var a=this.get("meta");return Ember.get(a,"attributes.value")}.property("meta.attributes.value"),classNames:["umi-element-checkbox"],actions:{change:function(){var a=this.$(),b=a.find('input[type="checkbox"]')[0];b.checked=!b.checked,$(b).trigger("change"),this.get("objectNeedChange")&&Ember.set(this.get("meta"),"value",b.checked?1:0)}}}),UMI.CheckboxCollectionElementView=Ember.View.extend({template:function(){var a,b=this,c=b.get("object"),d=b.get("meta"),e=Ember.get(d,"attributes.name"),f=Ember.get(d,"attributes.value");a=Ember.get(c,Ember.get(d,"dataSource"));var g='<input type="checkbox" '+(a?"checked":"")+' name="'+e+'" value="'+f+'"/>',h='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.meta.label}}</label>';return Ember.Handlebars.compile(g+h)}.property(),classNames:["umi-element-checkbox"],setCheckboxValue:function(){var a=this,b=this.$();b&&(b.find('input[type="checkbox"]')[0].checked=a.get("object."+a.get("meta.dataSource")))},addObserverProperty:function(){var a=this;a.addObserver("object."+a.get("meta.dataSource"),function(){Ember.run.once(a,"setCheckboxValue")})},init:function(){this._super(),this.addObserverProperty()},willDestroyElement:function(){var a=this;a.removeObserver("object."+a.get("meta.dataSource"))},actions:{change:function(){{var a=this;this.$()}a.get("object").toggleProperty(a.get("meta.dataSource"))}}})}}),define("partials/form/element/radio/main",["App"],function(UMI){return function(){UMI.FormRadioElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "radioElement" object=view.object meta=view.meta}}')}),UMI.RadioElementView=Ember.View.extend({templateName:"partials/radioElement",classNames:["umi-element-radio-group"],addObserverProperty:function(){var a=this;a.addObserver("object."+a.get("meta.dataSource"),function(){Ember.run.once(a,"setSelectedRadioElement")})},setSelectedRadioElement:function(){var a=this,b=this.$();if(b){var c=this.get("object."+a.get("meta.dataSource"))||"",d=b[0].querySelector('input[type="radio"][value="'+c+'"]');d&&(d.checked=!0)}},init:function(){this._super(),Ember.warn("Field with the type of radio not supported lazy choices.",!this.get("meta.lazy")),"instance"===Ember.typeOf(this.get("object"))&&this.addObserverProperty()},willDestroyElement:function(){var a=this;a.removeObserver("object."+a.get("meta.dataSource"))},radioElementView:Ember.View.extend({classNames:["umi-element-radio"],template:function(){var a,b,c=this,d=c.get("parentView.object"),e=c.get("parentView.meta"),f=Ember.get(e,"attributes.name"),g=Ember.get(this,"context.attributes.value");b="instance"===Ember.typeOf(d)?Ember.get(d,Ember.get(e,"dataSource"))||"":Ember.get(e,"value"),b===g&&(a=!0);var h='<input type="radio" '+(a?"checked":"")+' name="'+f+'" value="'+g+'"/>',i='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.label}}</label>';return Ember.Handlebars.compile(h+i)}.property(),label:function(){return Ember.warn("For field with type of radio label not defined in choices.",this.get("context.attributes.label")),this.get("context.attributes.label")||this.get("context.attributes.value")}.property("context.attributes.label"),actions:{change:function(){var a=this,b=this.get("context.attributes.value"),c=a.get("parentView.object"),d=a.get("parentView.meta"),e=Ember.get(d,"dataSource");if("instance"===Ember.typeOf(c))Ember.set(c,e,b);else{var f=this.$().find('input[type="radio"]');f.length&&(f[0].checked=!0)}}}})})}}),define("partials/form/element/text/main",["App"],function(UMI){return function(){UMI.FormTextElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "textElement" object=view.object meta=view.meta}}')}),UMI.TextElementView=Ember.View.extend(UMI.FormElementValidatable,{type:"text",classNames:["umi-element-text"],focusOut:function(){this.checkValidate()},focusIn:function(){this.clearValidate()},template:function(){var a,b,c,d=this;"instance"===Ember.typeOf(d.get("object"))?(d.set("validatorType","collection"),b=this.get("meta.dataSource"),c='{{input typeBinding="view.type" value=view.object.'+b+" placeholder=view.meta.placeholder name=view.meta.attributes.name}}"):(this.set("validatorType",null),c='{{input typeBinding="view.type" value=view.meta.value name=view.meta.attributes.name}}');var e=this.validateErrorsTemplate();return a=c+e,Ember.Handlebars.compile(a)}.property()})}}),define("partials/form/element/number/main",["App"],function(UMI){return function(){UMI.FormNumberElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "numberElement" object=view.object meta=view.meta}}')}),UMI.NumberElementView=UMI.TextElementView.extend({classNames:["umi-element","umi-element-number"],type:"number"})}}),define("partials/form/element/email/main",["App"],function(UMI){return function(){UMI.FormEmailElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "emailElement" object=view.object meta=view.meta}}')}),UMI.EmailElementView=UMI.TextElementView.extend({classNames:["umi-element-email"],type:"email"})}}),define("partials/form/element/password/main",["App"],function(UMI){return function(){UMI.FormPasswordElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "passwordElement" object=view.object meta=view.meta}}')}),UMI.PasswordElementView=UMI.TextElementView.extend({classNames:["umi-element","umi-element-password"],type:"text"})}}),define("partials/form/element/time/main",["App"],function(UMI){return function(){UMI.FormTimeElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "timeElement" object=view.object meta=view.meta}}')}),UMI.TimeElementView=Ember.View.extend(UMI.FormElementValidatable,{templateName:"partials/timeElement",classNames:["row","collapse"],focusOut:function(){this.checkValidate()},focusIn:function(){this.clearValidate()},didInsertElement:function(){var a=this.$();a.find(".icon-delete").click(function(){a.find("input").val("")}),this.$().find("input").timepicker({hourText:"Часы",minuteText:"Минуты",timeFormat:"HH:mm:ss",currentText:"Выставить текущее время"})},inputView:Ember.View.extend({template:function(){var a=this.get("parentView.meta.dataSource");return Ember.Handlebars.compile('{{input type="text" value=object.'+a+" placeholder=meta.placeholder name=meta.attributes.name}}")}.property()})})}}),define("partials/form/element/date/main",["App"],function(UMI){return function(){UMI.FormDateElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "dateElement" object=view.object meta=view.meta}}')}),UMI.DateElementView=Ember.View.extend({templateName:"partials/dateElement",classNames:["row","collapse"],didInsertElement:function(){this.$().find("input").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"dd.mm.yy"})},actions:{clearValue:function(){var a=this,b=a.$();if("instance"===Ember.typeOf(a.get("object"))){var c=a.get("meta.dataSource");a.get("object").set(c,"")}else b.find("input").val("")}}})}}),define("partials/form/element/datetime/main",["App"],function(UMI){return function(){UMI.FormDateTimeElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "dateTimeElement" object=view.object meta=view.meta}}')}),UMI.DateTimeElementView=Ember.View.extend({templateName:"partials/dateTimeElement",classNames:["row","collapse"],value:null,changeValue:function(){Ember.run.once(this,"setValueForObject")}.observes("value"),setValueForObject:function(){var a=this;if("instance"===Ember.typeOf(a.get("object"))){var b=a.get("value");b=Ember.isNone(b)?"":b;var c=a.get("object."+a.get("meta.dataSource"))||"";if(b){if(c=c?JSON.parse(c):{date:null},c.date=Ember.isNone(c.date)?"":c.date,c.date!==b){var d="";b&&(d={date:b,timezone_type:3,timezone:"Europe/Moscow"},d=JSON.stringify(d)),a.get("object").set(a.get("meta.dataSource"),d)}}else c!==b&&a.get("object").set(a.get("meta.dataSource"),"")}},setInputValue:function(){var a=this,b=a.get("object."+a.get("meta.dataSource")),c=a.get("value");c=Ember.isNone(c)?"":c,b?(b=JSON.parse(b),b.date=Ember.isNone(b.date)?"":b.date,b.date!==c&&a.set("value",b.date)):b!==c&&a.set("value","")},init:function(){this._super();var a,b=this;try{"instance"===Ember.typeOf(b.get("object"))?(a=b.get("object."+b.get("meta.dataSource"))||"{}",a=JSON.parse(a),b.set("value",a.date||""),b.addObserver("object."+b.get("meta.dataSource"),function(){Ember.run.once(b,"setInputValue")})):b.set("value",b.get("meta.value"))}catch(c){b.get("controller").send("backgroundError",c)}},didInsertElement:function(){this.$().find("input").datetimepicker({hourText:"Часы",minuteText:"Минуты",secondText:"Секунды",currentText:"Выставить текущее время",timeFormat:"HH:mm:ss",dateFormat:"dd.mm.yy"})},willDestroyElement:function(){var a=this;"instance"===Ember.typeOf(a.get("object"))&&a.removeObserver("object."+a.get("meta.dataSource"))},actions:{clearValue:function(){var a=this;a.set("value","")}}})}}),define("partials/form/element/file/main",["App"],function(UMI){return function(){UMI.FormFileElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "fileElement" object=view.object meta=view.meta}}')}),UMI.FileElementView=Ember.View.extend({templateName:"partials/fileElement",classNames:["row","collapse"],value:null,popupParams:function(){return{viewParams:{popupType:"fileManager",title:UMI.i18n.getTranslate("Select file")},templateParams:{object:this.get("object"),meta:this.get("meta"),fileSelect:function(a){var b=this,c=b.get("object"),d=Ember.get(a,"url")||"",e=Ember.get(window,"UmiSettings.projectAssetsUrl"),f=new RegExp("^"+e,"g");c.set(b.get("meta.dataSource"),d.replace(f,"")),b.get("controller").send("closePopup")}}}}.property(),actions:{clearValue:function(){var a=this,b=a.$();if("instance"===Ember.typeOf(a.get("object"))){var c=a.get("meta.dataSource");a.get("object").set(c,"")}else b.find("input").val("")},showPopup:function(a){var b=this,c=b.get("object"),d=this.get("meta.dataSource");c.clearValidateForProperty(d),this.get("controller").send("showPopup",a)}},init:function(){this._super();var a=this,b=this.get("object");if("instance"===Ember.typeOf(b)){var c=a.get("meta.dataSource");this.set("value",b.get(c))}},didInsertElement:function(){var a=this,b=this.get("object"),c=a.get("meta.dataSource");"instance"===Ember.typeOf(b)&&Ember.run.next(a,function(){this.addObserver("object."+c,function(){this.set("value",b.get(c))})})},willDestroyElement:function(){var a=this,b=this.get("object");if("instance"===Ember.typeOf(b)){var c=a.get("meta.dataSource");a.removeObserver("object."+c)}}})}}),define("partials/form/element/image/main",["App"],function(UMI){return function(){UMI.FormImageElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "imageElement" object=view.object meta=view.meta}}')}),UMI.ImageElementView=UMI.FileElementView.extend({})}}),define("partials/form/element/textarea/main",["App"],function(UMI){return function(){UMI.FormTextareaElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "textareaElement" object=view.object meta=view.meta}}')}),UMI.TextareaElementView=Ember.View.extend({templateName:"partials/textareaElement",classNames:["umi-element-textarea"],textareaView:function(){var a={focusOut:function(){this.checkValidate()},focusIn:function(){this.clearValidate()},didInsertElement:function(){this.allowResize()},willDestroyElement:function(){this.get("parentView").$().off("mousedown.umi.textarea")},allowResize:function(){var a=this.$().find("textarea"),b=60;a.length&&a.css({height:b}),this.get("parentView").$().on("mousedown.umi.textarea",".umi-element-textarea-resizer",function(c){if(0===c.button){var d=$(this);$("html").addClass("s-unselectable"),d.addClass("s-unselectable");var e=a.offset().top;$("body").on("mousemove.umi.textarea",function(c){var d=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.clear&&document.selection.clear()};d();var f=c.pageY-e;b>f&&(f=b),a.css({height:f})}),$("body").on("mouseup.umi.textarea",function(){$("body").off("mousemove.umi.textarea"),$("body").off("mouseup.umi.textarea"),$("html").removeClass("s-unselectable")})}})}};if("instance"===Ember.typeOf(this.get("object"))){var b,c;a.template=function(){this.set("validatorType","collection");var a=this.get("parentView.meta.dataSource");return b="{{textarea placeholder=view.parentView.attributes.placeholder name=view.parentView.meta.attributes.name value=view.parentView.object."+a+"}}",c=this.validateErrorsTemplate(),Ember.Handlebars.compile(b+c)}.property()}else a.template=function(){return b="{{textarea placeholder=view.parentView.attributes.placeholder name=view.parentView.meta.attributes.name value=view.parentView.attributes.value}}",c=this.validateErrorsTemplate(),Ember.Handlebars.compile(b+c)}.property();return Ember.View.extend(UMI.FormElementValidatable,a)}.property()})}}),define("partials/form/element/checkbox-group/main",["App"],function(UMI){return function(){UMI.FormCheckboxGroupElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "checkboxGroupElement" object=view.object meta=view.meta}}')}),UMI.FormCheckboxGroupElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "checkboxGroupCollectionElement" object=view.object meta=view.meta}}')}),UMI.CheckboxGroupElementView=Ember.View.extend({templateName:"partials/checkboxGroup",classNames:["umi-element-checkbox-group"]}),UMI.CheckboxGroupCollectionElementView=Ember.View.extend({templateName:"partials/checkboxGroup/collectionElement",classNames:["umi-element-checkbox-group"],addObserverProperty:function(){var a=this;a.addObserver("object."+a.get("meta.dataSource"),function(){Ember.run.once(a,"setCheckboxesValue")})},setCheckboxesValue:function(){var a=this,b=this.$();if(b){var c=b.find('input[type="checkbox"]'),d=this.get("object."+a.get("meta.dataSource"))||"[]";try{d=JSON.parse(d)}catch(e){e.message="Incorrect value of field "+propertyName+". Expected array or null. "+e.message,this.get("controller").send("backgroundError",e)}for(var f=0;f<c.length;f++)c[f].checked=d.contains(c[f].value)}},init:function(){this._super(),Ember.warn("Field with type of checkboxGroup no supported lazy choices.",!this.get("meta.lazy")),this.addObserverProperty()},willDestroyElement:function(){var a=this;a.removeObserver("object."+a.get("meta.dataSource"))},checkboxElementView:Ember.View.extend({classNames:["umi-element-checkbox"],template:function(){var a,b=this,c=b.get("parentView.object"),d=b.get("parentView.meta"),e=Ember.get(d,"attributes.name"),f=Ember.get(this,"context.attributes.value"),g=Ember.get(c,Ember.get(d,"dataSource"))||"[]";try{g=JSON.parse(g)}catch(h){h.message="Incorrect value of field "+propertyName+". Expected array or null. "+h.message,this.get("controller").send("backgroundError",h)}g.contains(f)&&(a=!0);var i='<input type="checkbox" '+(a?"checked":"")+' name="'+e+'" value="'+f+'"/>',j='<label unselectable="on" onselectstart="return false;" {{action "change" target="view"}}><span></span>{{view.label}}</label>';return Ember.Handlebars.compile(i+j)}.property(),label:function(){return Ember.warn("For the field with type of checkboxGroup label not defined in choices.",this.get("context.attributes.label")),this.get("context.attributes.label")||this.get("context.attributes.value")}.property("context.attributes.label"),actions:{change:function(){var a=this,b=(this.$(),this.get("context.attributes.value")),c=a.get("parentView.object"),d=a.get("parentView.meta"),e=Ember.get(d,"dataSource"),f=Ember.get(c,e)||"[]";try{f=JSON.parse(f)}catch(g){g.message="Incorrect value of field "+e+". Expected array or null. "+g.message,this.get("controller").send("backgroundError",g)}f.contains(b)?f=f.without(b):f.push(b),f.sort(),Ember.set(c,e,JSON.stringify(f))}}})})}}),define("partials/form/element/color/main",["App"],function(UMI){return function(){UMI.FormColorElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "colorElement" object=view.object meta=view.meta}}')}),UMI.ColorElementView=UMI.TextElementView.extend({classNames:["umi-element-color"],type:"color"})}}),define("partials/form/element/permissions/main",["App"],function(UMI){return function(){UMI.FormPermissionsElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12"],template:Ember.Handlebars.compile('{{view "permissions" object=view.object meta=view.meta}}')}),UMI.PermissionsView=Ember.View.extend({templateName:"partials/permissions",objectProperty:function(){var a=this.get("object"),b=this.get("meta.dataSource"),c=a.get(b)||"{}";try{c=JSON.parse(c),"object"!==Ember.typeOf(c)&&(c={})}catch(d){this.get("controller").send("backgroundError",d)}finally{return c}}.property("object"),setObjectProperty:function(a,b,c){function d(a){if(a){for(var b=0,c=$(a).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),e=0;e<c.length;e++)c[e].checked&&b++;a.indeterminate=b===c.length?!1:!0;var f=$(a).closest(".umi-permissions-component").closest(".umi-permissions-role-list-item").children(".umi-permissions-role").find(".umi-permissions-role-checkbox");if(f.length){f[0].checked=!0;var g=$(f[0]).closest(".umi-permissions-role-label").attr("data-permissions-component-path"),h=k[g];"array"!==Ember.typeOf(h)&&(h=k[g]=[]),h.contains(f[0].name)||(h.push(f[0].name),h.sort()),d(f[0])}}}function e(a){a.indeterminate=!1;var b,c;if(b=$(a).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),b.length)for(h=0;h<b.length;h++)b[h].checked=!0,b[h].indeterminate=!1,c=$(b[h]).closest(".umi-permissions-role-label").attr("data-permissions-component-path"),"array"!==Ember.typeOf(k[c])&&(k[c]=[]),k[c].push(b[h].name)}function f(a){var b,c,d,e=0,g=$(a).closest(".umi-permissions-component").closest(".umi-permissions-role-list-item").children(".umi-permissions-role").find(".umi-permissions-role-checkbox");if(g.length){if(g[0].checked){if(b=$(g).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),b.length)for(var h=0;h<b.length;h++)b[h].checked&&++e;e?g[0].indeterminate=!0:(g[0].checked=!1,g[0].indeterminate=!1,c=$(g[0]).closest(".umi-permissions-role-label").attr("data-permissions-component-path"),d=k[c],"array"!==Ember.typeOf(d)&&(d=k[c]=[]),d=k[c]=d.without(g[0].name),d.length||delete k[c])}f(g[0])}}var g,h,i,j=this.get("object"),k=this.get("objectProperty"),l=k[b],m=a.value;if("array"!==Ember.typeOf(l)&&(l=k[b]=[]),c)l.contains(m)||(l.push(m),l.sort()),e(a),d(a);else{if(l.contains(m)&&(k[b]=l.without(m),k[b].length||delete k[b]),a.indeterminate=!1,g=$(a).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),g.length)for(h=0;h<g.length;h++){g[h].checked=!1,g[h].indeterminate=!1,i=$(g[h]).closest(".umi-permissions-role-label").attr("data-permissions-component-path");
var n=k[i];"array"!==Ember.typeOf(n)&&(n=k[i]=[]),n=k[i]=n.without(g[h].name),n.length||delete k[i]}f(a)}"{}"===JSON.stringify(k)&&(k=[]),j.set(this.get("meta.dataSource"),JSON.stringify(k))},didInsertElement:function(){function a(a){if(a.checked){for(var b=$(a).closest(".umi-permissions-role-list-item").children(".umi-permissions-component").find(".umi-permissions-role-checkbox"),c=0,d=0;d<b.length;d++)b[d].checked&&c++;a.indeterminate=c===b.length?!1:!0}}var b=this,c=this.$(),d=this.get("objectProperty"),e=function(a,b){var d,e;if("array"===Ember.typeOf(a[b]))for(d=0;d<a[b].length;d++)e=c.find('[data-permissions-component-path="'+b+'"]').find(".umi-permissions-role-checkbox").filter('[name="'+a[b][d]+'"]'),e.length&&(e[0].checked=!0)};for(var f in d)d.hasOwnProperty(f)&&e(d,f);for(var g=c.find(".umi-permissions-role-checkbox"),h=0;h<g.length;h++)a(g[h]);var i=c.find(".accordion");i.each(function(a){var b=$(i[a]).find(".accordion-navigation-button"),c=$(i[a]).find(".content");b.on("click.umi.permissions.triggerButton",function(){c.toggleClass("active"),b.find(".icon").toggleClass("icon-right icon-bottom")})}),c.on("click.umi.permissions",".umi-permissions-role-button-expand",function(){var a=$(this).closest("li").children(".umi-permissions-component");a.toggleClass("expand"),$(this).find(".icon").toggleClass("icon-right icon-bottom"),a.find(".umi-permissions-component").removeClass("expand"),a.find(".umi-permissions-role-button-expand").find(".icon").addClass("icon-right").removeClass("icon-bottom")}),c.on("change.umi.permissions",".umi-permissions-role-checkbox",function(){var a=this.checked,c=$(this).closest(".umi-permissions-role-label").attr("data-permissions-component-path");b.setObjectProperty(this,c,a)})},willDestroyElement:function(){var a=this.$();a.off("click.umi.permissions"),a.off("change.umi.permissions")}}),UMI.PermissionsPartialView=Ember.View.extend({tagName:"ul",classNames:["no-bullet","umi-permissions-role-list"],templateName:"partials/permissions/partial"})}}),define("partials/form/element/objectRelationElement/main",["App"],function(UMI){return function(){UMI.FormObjectRelationElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "objectRelationElement" object=view.object meta=view.meta}}')}),UMI.ObjectRelationElementView=Ember.View.extend(UMI.SerializedValue,{templateName:"partials/objectRelationElement",classNames:["row","collapse"],path:"displayName",objectIsObservable:!0,popupParams:function(){return{templateParams:{object:this.get("object"),meta:this.get("meta")},viewParams:{title:this.get("meta.label"),popupType:"objectRelation"}}}.property(),actions:{clearValue:function(){var a=this,b=a.get("object"),c=this.get("meta.dataSource");a.set("value",""),b.set(c,""),b.validateProperty(c)},showPopup:function(a){var b=this,c=b.get("object"),d=this.get("meta.dataSource");c.clearValidateForProperty(d),this.get("controller").send("showPopup",a)}},inputView:Ember.View.extend(UMI.FormElementValidatable,{focusOut:function(){this.checkValidate()},focusIn:function(){this.clearValidate()},type:"text",classNames:["umi-element-text"],objectBinding:"parentView.object",metaBinding:"parentView.meta",template:function(){var a;if("instance"===Ember.typeOf(this.get("object"))){this.set("validatorType","collection");var b="{{input type=view.type value=view.parentView.value placeholder=view.meta.placeholder name=view.meta.attributes.name disabled=true}}",c=this.validateErrorsTemplate();a=b+c}return Ember.Handlebars.compile(a)}.property()})}),UMI.ObjectRelationLayoutController=Ember.ObjectController.extend({sideBarControl:Ember.computed.gt("collections.length",1),collections:[],selectedCollection:null,getCollectionPropertyLabel:function(a,b,c){if("array"===Ember.typeOf(b)){var d=Ember.get(b[0],"id"),e=c.modelFor(d);return Ember.get(e.metaForProperty("displayName"),"options."+a)}Ember.warn("Wrong argument type. Expected array.")},tableControlSettings:function(){var a,b=this,c=b.get("selectedCollection.id"),d=b.get("model.object"),e=b.get("model.meta"),f=d.get(Ember.get(e,"dataSource"));if(f)try{f=JSON.parse(f),a=Ember.get(f,"guid")}catch(g){b.send("backgroundError",g)}var h=this.getCollectionPropertyLabel("displayName",b.get("collections"),b.get("store"));return{control:{collectionName:c,meta:{defaultFields:["displayName"],activeObjectGuid:a,form:{elements:[{type:"text",tag:"input",id:"displayName",label:h,attributes:{name:"displayName",type:"text",value:null},valid:!0,errors:[],dataSource:"displayName",value:null,validators:[],filters:[]}]}},behaviour:{rowEvent:function(a,b){var c=Ember.get(e,"dataSource"),f=Ember.get(b,"constructor.typeKey"),g={collection:f,guid:b.get("guid"),displayName:b.get("displayName")};d.set(c,JSON.stringify(g)),a.send("closePopup")}}}}}.property("selectedCollection"),init:function(){var a,b=this,c=b.get("object"),d=b.get("meta"),e=Ember.get(d,"dataSource"),f=c.get(e),g=Ember.get(d,"collections");if("array"!==Ember.typeOf(g)&&(g=[]),Ember.warn("Collection list is empty.",g.length),b.set("collections",g),f)try{f=JSON.parse(f),a=Ember.get(f,"meta.collectionName")||Ember.get(f,"collection"),b.set("selectedCollection",g.findBy("id",a))}catch(h){this.send("backgroundError",h)}else b.set("selectedCollection",g[0])}}),UMI.ObjectRelationLayoutView=Ember.View.extend({classNames:["s-full-height"],templateName:"partials/objectRelationLayout",sideMenu:Ember.View.extend({tagName:"ul",classNames:["side-nav"],templateName:"partials/objectRelationLayout/sideMenu",itemView:Ember.View.extend({tagName:"li",classNameBindings:["isActive:active"],isActive:function(){return this.get("controller.selectedCollection.id")===this.get("item.id")}.property("controller.selectedCollection"),click:function(){this.get("isActive")||this.get("controller").set("selectedCollection",this.get("item"))}})})})}}),define("partials/form/element/singleCollectionObjectRelation/main",["App"],function(UMI){return function(){UMI.FormSingleCollectionObjectRelationElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "singleCollectionObjectRelationElement" object=view.object meta=view.meta}}')}),UMI.SingleCollectionObjectRelationElementView=UMI.ObjectRelationElementView.extend({templateName:"partials/singleCollectionObjectRelationElement",classNames:["row","collapse"],objectIsObservable:!1,popupParams:function(){return{templateParams:{meta:this.get("meta")},viewParams:{title:this.get("meta.label"),popupType:"singleCollectionObjectRelation"}}}.property(),actions:{clearValue:function(){var a=this;a.set("value",""),Ember.set(a.get("meta"),"value","")},showPopup:function(a){this.get("controller").send("showPopup",a)}}}),UMI.SingleCollectionObjectRelationLayoutController=UMI.ObjectRelationLayoutController.extend({tableControlSettings:function(){var a,b=this,c=b.get("selectedCollection.id"),d=b.get("model.meta");a=Ember.get(d,"value");var e=this.getCollectionPropertyLabel("displayName",b.get("collections"),b.get("store"));return{control:{collectionName:c,meta:{defaultFields:["displayName"],activeObjectGuid:a,form:{elements:[{type:"text",tag:"input",id:"displayName",label:e,attributes:{name:"displayName",type:"text",value:null},valid:!0,errors:[],dataSource:"displayName",value:null,validators:[],filters:[]}]}},behaviour:{rowEvent:function(a,b){var c=b.get("guid");Ember.set(d,"value",c),a.send("closePopup")}}}}}.property("selectedCollection"),init:function(){var a=this,b=a.get("meta"),c=Ember.get(b,"collection"),d=[];d=[c],Ember.warn("Collection list is empty.",d.length),a.set("collections",d),a.set("selectedCollection",c)}}),UMI.SingleCollectionObjectRelationLayoutView=UMI.ObjectRelationLayoutView.extend({})}}),define("partials/form/element/passwordWithConfirmation/main",["App"],function(UMI){return function(){UMI.FormPasswordWithConfirmationElementMixin=Ember.Mixin.create(UMI.FormElementMixin,{classNames:["small-12","large-4"],template:Ember.Handlebars.compile('{{view "passwordWithConfirmationElement" object=view.object meta=view.meta}}')}),UMI.PasswordWithConfirmationElementView=UMI.TextElementView.extend({classNames:["umi-element","umi-element-password"],type:"text"})}}),define("partials/form/element/hidden/main",["App"],function(UMI){return function(){UMI.FormHiddenElementMixin=Ember.Mixin.create({classNames:["hide"],template:Ember.Handlebars.compile('{{view "hiddenElement" object=view.object meta=view.meta}}')}),UMI.HiddenElementView=UMI.TextElementView.extend({classNames:["umi-element","umi-element-hidden"],type:"hidden"})}}),define("partials/form/element/fieldset/main",["App"],function(UMI){return function(){UMI.FormFieldsetElementMixin=Ember.Mixin.create(UMI.FormElementsMixin,{tagName:"fieldset",classNameBindings:["elementClass"],isExpanded:!0,layout:Ember.Handlebars.compile('<legend {{action "expand" target="view"}} class="s-unselectable"><i {{bind-attr class=":icon view.isExpanded:icon-bottom:icon-right"}}></i>{{formElement.label}}</legend>{{yield}}'),template:Ember.Handlebars.compile('<div {{bind-attr class="view.isExpanded::hide"}}>{{#each formElement in view.meta.elements}}{{view view.elementView metaBinding="formElement" objectBinding="formElement"}}{{/each}}</div>'),elementClass:function(){return"umi-fieldset-"+this.get("meta.id")}.property("meta.id"),actions:{expand:function(){this.toggleProperty("isExpanded")}}}),UMI.FormFieldsetCollectionElementMixin=Ember.Mixin.create(UMI.FormFieldsetElementMixin,UMI.FormCollectionElementsMixin,{template:Ember.Handlebars.compile('<div {{bind-attr class="view.isExpanded::hide"}}>{{#each formElement in view.meta.elements}}{{view view.elementView metaBinding="formElement" objectBinding="view.object"}}{{/each}}</div>')})}}),define("partials/form/element/submit/main",["App"],function(UMI){return function(){UMI.FormSubmitElementMixin=Ember.Mixin.create({layout:Ember.Handlebars.compile('<span class="button right" {{action "submit" target="view"}}>{{view.meta.label}}</span>'),actions:{submit:function(){this.get("parentView").send("submit",this.$())}}})}}),define("form/element/main",["App","partials/form/element/wysiwyg/main","partials/form/element/select/main","partials/form/element/multi-select/main","partials/form/element/checkbox/main","partials/form/element/radio/main","partials/form/element/text/main","partials/form/element/number/main","partials/form/element/email/main","partials/form/element/password/main","partials/form/element/time/main","partials/form/element/date/main","partials/form/element/datetime/main","partials/form/element/file/main","partials/form/element/image/main","partials/form/element/textarea/main","partials/form/element/checkbox-group/main","partials/form/element/color/main","partials/form/element/permissions/main","partials/form/element/objectRelationElement/main","partials/form/element/singleCollectionObjectRelation/main","partials/form/element/passwordWithConfirmation/main","partials/form/element/hidden/main","partials/form/element/fieldset/main","partials/form/element/submit/main"],function(UMI,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){return function(){a(),b(),c(),d(),e(),f(),g(),h(),i(),j(),k(),l(),m(),n(),o(),p(),q(),r(),s(),t(),u(),v(),w(),x()}}),define("form/main",["App","./toolbox/main","./formControllerMixin","./formViewMixin","./formElementsFactory","./formElementsMixin","./formElementSerializeMixin","./formElementValidateMixin","./formElementMixin","./formSimple/main","./formCollection/main","./element/main"],function(UMI,a,b,c,d,e,f,g,h,i,j,k){a(),b(),c(),d(),e(),f(),g(),h(),i(),j(),k()}),define("form",["form/main"],function(a){return a}),define("notification/main",["App"],function(UMI){UMI.Notification=Ember.Object.extend({settings:{type:"secondary",title:"UMI.CMS",content:"",close:!0,duration:3e3,kind:"default"},create:function(a){var b,c=this.get("settings"),d={};for(b in c)c.hasOwnProperty(b)&&(d[b]=c[b]);if(a)for(b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);d.id=UMI.notificationList.incrementProperty("notificationId");var e=UMI.notificationList.get("content");Ember.run.next(this,function(){e.pushObject(Ember.Object.create(d))})},removeAll:function(){UMI.notificationList.set("content",[])},removeWithKind:function(a){var b=UMI.notificationList.get("content");b=b.filter(function(b){return Ember.get(b,"kind")!==a?!0:void 0}),UMI.notificationList.set("content",b)}}),UMI.notification=UMI.Notification.create({}),UMI.NotificationList=Ember.ArrayController.extend({content:[],sortContent:function(){return this.get("content").sortBy("id")}.property("content.length"),notificationId:0,closeAll:!1,itemCount:function(){var a=this.get("content");if(a.get("length")>1&&!this.get("closeAll")&&(this.set("closeAll",!0),a.pushObject(Ember.Object.create({id:"closeAll",type:"secondary",kind:"closeAll",content:UMI.i18n.getTranslate("Close")+" "+(UMI.i18n.getTranslate("All")||"").toLowerCase()}))),a.get("length")<=2&&this.get("closeAll")){var b=a.findBy("id","closeAll");a.removeObject(b),this.set("closeAll",!1)}}.observes("content.length")}),UMI.notificationList=UMI.NotificationList.create({}),UMI.AlertBox=Ember.View.extend({classNames:["alert-box"],classNameBindings:["content.type"],layoutName:"partials/alert-box",didInsertElement:function(){var a=this.get("content.duration");a&&Ember.run.later(this,function(){var a=this.get("content.id"),b=this.get("controller.content")||[],c=b.findBy("id",a);b.removeObject(c)},a)},actions:{close:function(){var a=this.get("controller.content");a.removeObject(this.get("content"))}}}),UMI.AlertBoxCloseAll=Ember.View.extend({classNames:["alert-box text-center alert-box-close-all"],classNameBindings:["content.type"],layoutName:"partials/alert-box/close-all",click:function(){UMI.notification.removeAll()}}),UMI.NotificationListView=Ember.CollectionView.extend({tagName:"div",classNames:["umi-alert-wrapper"],createChildView:function(a,b){return a="closeAll"===b.content.kind?UMI.AlertBoxCloseAll:UMI.AlertBox,this._super(a,b)},contentBinding:"controller.sortContent",controller:UMI.notificationList})}),define("notification",["notification/main"],function(a){return a}),define("dialog/main",["App"],function(UMI){UMI.DialogController=Ember.ObjectController.extend({deferred:null,open:function(a){this.set("deferred",Ember.RSVP.defer());var b=this.get("deferred");return Ember.get(a,"proposeRemember"),this.set("model",Ember.Object.create(a)),b.promise},actions:{confirm:function(){this.set("model",null);var a=this.get("deferred");a.resolve("loaded")},close:function(){this.set("model",null);var a=this.get("deferred");a.reject("reject")}}}),UMI.dialog=UMI.DialogController.create(),UMI.DialogView=Ember.View.extend({layoutName:"partials/dialog-layout",templateName:"partials/dialog-template",modelBinding:"controller.model",controller:UMI.dialog,hasButtons:Ember.computed.any("model.confirm","model.reject"),showDialog:function(){this.get("model")?($("body").append('<div class="s-blur" />'),setTimeout(function(){$(".umi-main-view").addClass("s-blur")},50),this.append()):this.isVisible&&($(".umi-main-view").removeClass("s-blur"),$(".s-blur").remove(),this.remove())}.observes("model"),didInsertElement:function(){var a=this.$(),b=a.children(".umi-dialog"),c=$(document).height(),d=c>b[0].offsetHeight?-b[0].offsetHeight/2:-b[0].offsetHeight/2+b[0].offsetHeight-c;b.css({marginTop:d}),b.addClass("visible")},actions:{confirm:function(){var a=this.$(),b=a.children(".umi-dialog");return b.removeClass("visible"),this.get("controller").send("confirm")},close:function(){var a=this.$(),b=a.children(".umi-dialog");return b.removeClass("visible"),this.get("controller").send("close")}}});UMI.DialogView.create()}),define("dialog",["dialog/main"],function(a){return a}),define("popup/controller",["App"],function(UMI){return function(){UMI.PopupController=Ember.Controller.extend({templateParams:null,popupType:null})}}),define("popup/view",["App"],function(UMI){return function(){UMI.PopupView=Ember.View.extend({controller:function(){return this.container.lookup("controller:popup")}.property(),classNames:["umi-popup"],popupType:null,title:"",width:800,height:400,contentOverflow:["overflow","hidden"],hasScroll:!1,blur:!1,fade:!1,drag:!0,resize:!0,layoutName:"partials/popup",templateName:function(){return"partials/popup/"+this.get("popupType")}.property("popupType"),didInsertElement:function(){var a=this;a.addOverlay(),a.get("blur")&&a.addBlur(),a.get("fade")&&a.fadeIn(),this.get("drag")&&this.allowDrag(),this.get("resize")&&this.allowResize(),"hidden"!==this.get("contentOverflow")&&"array"===Ember.typeOf(this.get("contentOverflow"))&&$(".umi-popup-content").css(this.get("contentOverflow")[0],this.get("contentOverflow")[1]),this.get("hasScroll")&&this.initScroll(),this.setSize(),this.setPosition()},beforeClose:function(){},afterClose:function(){},actions:{closePopup:function(){this.beforeClose(),this.removeBlur(),this.removeOverlay(),this.get("controller").send("removePopupLayout"),this.afterClose()}},setSize:function(){var a=this.$();a.width(this.get("width")),a.height(this.get("height"))},setPosition:function(){var a=this.$(),b={},c=a.height()/2,d=a.width()/2;b.marginTop=-($(window).height()>c?c:$(window).height()/2-50),b.marginLeft=-($(window).width()>d?d:$(window).width()/2-50),a.css(b)},fadeIn:function(){var a=this;$("body").append('<div class="umi-popup-visible-overlay"></div>'),$("body").on("click.umi.popup",".umi-popup-visible-overlay",function(){a.send("closePopup"),$("body").off("click.umi.popup")})},addOverlay:function(){$("body").append('<div class="umi-popup-invisible-overlay"></div>')},removeOverlay:function(){$(".umi-popup-invisible-overlay").remove()},addBlur:function(){$(".umi-header").addClass("s-blur"),$(".umi-content").addClass("s-blur")},removeBlur:function(){$(".umi-header").removeClass("s-blur"),$(".umi-content").removeClass("s-blur"),$(".umi-popup-visible-overlay").remove()},allowResize:function(){var a=this;$(".umi-popup-resizer").show(),$("body").on("mousedown",".umi-popup-resizer",function(b){if(0===b.button){var c=$(".umi-popup").offset().left,d=$(".umi-popup").offset().top;$("html").addClass("s-unselectable"),$("html").mousemove(function(b){var e=b.pageX-c,f=b.pageY-d;e<a.get("width")&&(e=a.get("width")),f<a.get("height")&&(f=a.get("height")),$(".umi-popup").css({width:e,height:f}),$("html").on("mouseup",function(){$("html").off("mousemove"),$("html").removeClass("s-unselectable")})})}})},allowDrag:function(){var a=this;$(".umi-popup-header").css({cursor:"move"}),$("body").on("mousedown",".umi-popup-header",function(b){$(".umi-popup").css("z-index","10000"),$(this).parent().css("z-index","10001");var c=$(this);if(0===b.button){var d=b.pageX-$(this).offset().left,e=b.pageY-$(this).offset().top,f=$(window).height()-34,g=$(window).width()-34;$("html").addClass("s-unselectable"),$("body").mousemove(function(b){var h=b.pageX-d,i=b.pageY-e;0>=i||i>=f||h<=68-a.width||h>=g||(c.parent().offset({left:h,top:i}),$("body").on("mouseup",function(){$("body").off("mousemove"),$("html").removeClass("s-unselectable")}))})}})},initScroll:function(){var a=this.$(),b=a.find(".s-scroll-wrap"),c=new IScroll(b[0],UMI.config.iScroll);this.set("iScroll",c)},init:function(){this._super();var a=this.get("controller.viewParams");"object"===Ember.typeOf(a)&&this.setProperties(a)}})}}),define("popup/main",["./controller","./view","App"],function(a,b){a(),b()}),define("popup",["popup/main"],function(a){return a}),define("table/view",["App"],function(UMI){return function(){UMI.TableView=Ember.View.extend(UMI.i18nInterface,{dictionaryNamespace:"table",localDictionary:function(){var a=this.get("content.control")||{};return a.i18n}.property("content"),templateName:"partials/table",classNames:["umi-table"],headers:[],rows:[],offset:0,limit:25,totalBinding:"rows.length",error:null,visibleRows:function(){var a,b,c=this,d=c.get("controller"),e=c.get("rows"),f=c.get("offset"),g=parseFloat(c.get("limit"));return a=f?g*f:0,b=a+g,Ember.run.later(c,function(){d.send("hideLoader")},300),e.slice(a,b)}.property("offset","limit"),iScroll:null,iScrollUpdate:function(){var a=this.get("iScroll");a&&setTimeout(function(){a.refresh(),a.scrollTo(0,0)},100)}.observes("visibleRows"),didInsertElement:function(){if(!this.get("error")){var a=this.$(),b=a.find(".s-scroll-wrap")[0],c=a.find(".umi-table-header")[0],d=new IScroll(b,UMI.config.iScroll),e=$(b).find(".umi-table-content-sizer")[0];this.set("iScroll",d),d.on("scroll",function(){c.style.marginLeft=this.x+"px"}),$(window).on("resize.umi.table",function(){setTimeout(function(){c.style.marginLeft=d.x+"px"},100)}),a.on("mousedown.umi.table",".umi-table-header-column-resizer",function(){$("html").addClass("s-unselectable");var a=this;$(a).addClass("on-resize");var b,f=a.parentNode.parentNode,g=$(f).closest("tr").children(".umi-table-td").index(f),h=$(f).offset().left,i=e.querySelectorAll(".umi-table-td")[g];$("body").on("mousemove.umi.table",function(a){a.stopPropagation(),b=a.pageX-h,b>=60&&f.offsetWidth>59&&(f.style.width=i.style.width=b+"px")}),$("body").on("mouseup.umi.table",function(){$("html").removeClass("s-unselectable"),$(a).removeClass("on-resize"),$("body").off("mousemove.umi.table"),$("body").off("mouseup.umi.table"),d.refresh(),c.style.marginLeft=d.x+"px"})})}},willDestroyElement:function(){var a=this.$();$(window).off("resize.umi.table"),this.removeObserver("content"),this.removeObserver("visibleRows"),a.off("mousedown.umi.table")},paginationView:Ember.View.extend({classNames:["s-unselectable","umi-toolbar"],templateName:"partials/table/toolbar",counter:function(){var a=(UMI.i18n.getTranslate("Of")||"").toLowerCase(),b=this.get("parentView.limit"),c=this.get("parentView.offset")+1,d=this.get("parentView.total"),e=c*b,f=e-b+1;return e=d>e?e:d,f+"-"+e+" "+a+" "+d}.property("parentView.limit","parentView.offset","parentView.total"),prevButtonView:Ember.View.extend({classNames:["button","secondary","tiny"],classNameBindings:["isActive::disabled"],isActive:function(){return this.get("parentView.parentView.offset")}.property("parentView.parentView.offset"),click:function(){var a=this,b=a.get("controller");a.get("isActive")&&(b.send("showLoader"),Ember.run.next(a,function(){a.get("parentView.parentView").decrementProperty("offset")}))}}),nextButtonView:Ember.View.extend({classNames:["button","secondary","tiny"],classNameBindings:["isActive::disabled"],isActive:function(){var a=this.get("parentView.parentView.limit"),b=this.get("parentView.parentView.offset")+1,c=this.get("parentView.parentView.total");return c>a*b}.property("parentView.parentView.limit","parentView.parentView.offset","parentView.parentView.total"),click:function(){var a=this,b=a.get("controller");a.get("isActive")&&(b.send("showLoader"),Ember.run.next(a,function(){a.get("parentView.parentView").incrementProperty("offset")}))}}),limitView:Ember.View.extend({tagName:"input",classNames:["s-margin-clear"],attributeBindings:["value","type"],value:function(){return this.get("parentView.parentView.limit")}.property("parentView.parentView.limit"),type:"text",keyDown:function(a){var b=this,c=b.get("controller");13===a.keyCode&&(c.send("showLoader"),Ember.run.next(b,function(){b.get("parentView.parentView").setProperties({offset:0,limit:b.$()[0].value})}))}})})}),UMI.SiteAnalyzeTableView=UMI.TableView.extend({setContent:function(){var a,b,c=this.get("content"),d=Ember.get(c,"control.data.data")||[];if(d.length){a=d.shift(),b=a.indexOf("n/a"),a.splice(b,1);for(var e=0;e<d.length;e++)d[e].splice(b,1);this.setProperties({headers:a,rows:d})}}.observes("content").on("init")}),UMI.BacklinksTableView=UMI.TableView.extend({setContent:function(){var a,b=this.get("content"),c=Ember.get(b,"control.data"),d=[];if("object"===Ember.typeOf(c)&&"error"in c)this.set("error",c.error);else if("array"===Ember.typeOf(c)){a=[Ember.get(b,"control.labels.vs_from")];for(var e=0;e<c.length;e++)d.push([Ember.get(c[e],"vs_from")]);this.setProperties({headers:a,rows:d})}}.observes("content").on("init")}),UMI.YaHostTableView=UMI.TableView.extend({setContent:function(){var a,b=this.get("content.control"),c=[],d=[],e=Ember.get(b,"labels"),f=Ember.get(b,"data");if("object"===Ember.typeOf(e))for(a in e)e.hasOwnProperty(a)&&c.push(e[a]);if("object"===Ember.typeOf(f))for(a in f)if(f.hasOwnProperty(a)){var g=UMI.Utils.getStringValue(f[a]);d.push(g)}this.setProperties({headers:c,rows:[d]})}.observes("content").on("init")}),UMI.YaIndexesTableView=UMI.TableView.extend({setContent:function(){var a,b=this.get("content.control"),c=[],d=[],e=Ember.get(b,"labels"),f=Ember.get(b,"data"),g=Ember.get(f,"last-week-index-urls.url");if(c.push(Ember.get(e,"last-week-index-urls")),"array"===Ember.typeOf(g))for(a=0;a<g.length;a++)d.push([UMI.Utils.getStringValue(g[a])]);this.setProperties({headers:c,rows:d})}.observes("content").on("init")}),UMI.YaTopsTableView=UMI.TableView.extend({setContent:function(){var a,b,c=this.get("content.control"),d=[],e=[],f=Ember.get(c,"labels"),g=Ember.get(c,"data"),h=Ember.get(g,"top-queries.top-clicks.top-info");if(d.push(Ember.get(f,"query")),d.push(Ember.get(f,"count")),d.push(Ember.get(f,"position")),d.push(Ember.get(f,"clicks-top-rank")),"array"===Ember.typeOf(h))for(a=0;a<h.length;a++)b=[],b.push(UMI.Utils.getStringValue(h[a].query)),b.push(UMI.Utils.getStringValue(h[a].count)),b.push(UMI.Utils.getStringValue(h[a].position)),b.push(UMI.Utils.getStringValue(h[a]["clicks-top-rank"])),e.push(b);this.setProperties({headers:d,rows:e})}.observes("content").on("init")}),UMI.TableCountersView=UMI.TableView.extend({rowCount:function(){var a=this.get("rows")||[],b=a[0]||{},c=[];for(var d in b)b.hasOwnProperty(d)&&c.push({});return c}.property("rows"),rowView:Ember.View.extend({tagName:"tr",classNames:["umi-table-content-tr"],cell:function(){var a=this.get("row"),b=[];for(var c in a)a.hasOwnProperty(c)&&b.push({displayName:a[c]})}}),setContent:function(){var a=this.get("content"),b=Ember.get(a,"control.meta.labels"),c=[],d=Ember.get(a,"control.meta.objects");for(var e in b)b.hasOwnProperty(e)&&c.push(b[e]);this.setProperties({headers:c,rows:d})}.observes("content").on("init"),actions:{rowEvent:function(a){this.get("controller").transitionToRoute("context",Ember.get(a,"id"))}}})}}),define("table/main",["./view","App"],function(a){a()}),define("table",["table/main"],function(a){return a}),define("sideMenu/main",["App"],function(UMI){UMI.SideMenuController=Ember.ObjectController.extend({needs:["component"],objects:function(){return this.get("controllers.component.dataSource.objects")}.property("model")}),UMI.SideMenuView=Ember.View.extend({layoutName:"partials/sideMenu"})}),define("sideMenu",["sideMenu/main"],function(a){return a}),define("updateLayout/main",["App"],function(UMI){UMI.UpdateLayoutView=Ember.View.extend(UMI.i18nInterface,{data:null,dictionaryNamespace:"updateLayout",localDictionary:function(){return this.get("data.control.i18n")}.property(),classNames:["row","s-full-height"],templateName:"partials/updateLayout",buttonLabel:function(){var a=this.get("data.control.submitToolbar");return"array"===Ember.typeOf(a)?Ember.get(a[0],"attributes.label"):void 0}.property("data.control.submitToolbar"),actions:{update:function(){var a,b=this,c=b.$().find(".button");try{var d=b.get("container").lookup("controller:component");if(!d)throw new Error("Component controller not found.");a=d.get("settings.actions.update.source"),$.ajax({type:"POST",url:a,global:!1,beforeSend:function(){c.addClass("loading")},success:function(b){if(c.removeClass("loading"),a=Ember.get(b,"result.update"),!a)throw new Error("Update url not found.");window.location.href=a},error:function(a){c.removeClass("loading"),b.get("controller").send("backgroundError",a)}})}catch(e){b.get("controller").send("backgroundError",e)}}}})}),define("updateLayout",["updateLayout/main"],function(a){return a}),define("IScrollExtend/main",["iscroll"],function(){IScroll.prototype.scrollTo=function(a,b,c,d){d=d||IScroll.utils.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn),3==this.options.probeType&&this._execEvent("scroll")}}),define("IScrollExtend",["IScrollExtend/main"],function(a){return a}),define("application/main",["App","topBar","divider","dock","toolbar","tableControl","fileManager","treeSimple","tree","form","notification","dialog","popup","DS","table","sideMenu","updateLayout","Foundation","IScrollExtend"],function(UMI){return function(){UMI.advanceReadiness()}}),require.config({paths:{text:"vendor/requirejs-text/text",App:"application/application",jquery:"vendor/jquery/dist/jquery",jqueryUI:"vendor/jquery-ui/jquery-ui",Modernizr:"vendor/modernizr/modernizr",Handlebars:"vendor/handlebars/handlebars",Ember:"vendor/ember/ember",DS:"vendor/ember-data/ember-data",timepicker:"vendor/jqueryui-timepicker-addon/src/jquery-ui-timepicker-addon",moment:"vendor/momentjs/min/moment-with-langs",FastClick:"vendor/fastclick/lib/fastclick",iscroll:"vendor/iscroll/build/iscroll-probe",ckEditor:"library/ckeditor/ckeditor",elFinder:"library/elFinder/elFinder",Foundation:"library/foundation/foundation"},shim:{Modernizr:{exports:"Modernizr"},jquery:{exports:"jQuery"},jqueryUI:{exports:"jQuery",deps:["jquery"]},elFinder:{exports:"elFinder",deps:["jquery","jqueryUI"]},Ember:{exports:"Ember",deps:["Handlebars","jquery"]},DS:{exports:"DS",deps:["Ember"]},ckEditor:{exports:"ckEditor"},timepicker:{exports:"timepicker",deps:["jquery","jqueryUI"]},Foundation:{exports:"Foundation",deps:["jquery","FastClick"]}},packages:[{name:"accordion",location:"partials/accordion"},{name:"dialog",location:"partials/dialog"},{name:"divider",location:"partials/divider"},{name:"dock",location:"partials/dock"},{name:"fileManager",location:"partials/fileManager"},{name:"form",location:"partials/form"},{name:"notification",location:"partials/notification"},{name:"popup",location:"partials/popup"},{name:"search",location:"partials/search"},{name:"megaIndex",location:"partials/seo/megaIndex"},{name:"sideMenu",location:"partials/sideMenu"},{name:"yandexWebmaster",location:"partials/seo/yandexWebmaster"},{name:"table",location:"partials/table"},{name:"tableControl",location:"partials/tableControl"},{name:"toolbar",location:"partials/toolbar"},{name:"topBar",location:"partials/topBar"},{name:"tree",location:"partials/tree"},{name:"treeSimple",location:"partials/treeSimple"},{name:"updateLayout",location:"partials/updateLayout"},{name:"IScrollExtend",location:"library/IScroll"}]}),require(["jquery"],function(){var a=$.get(window.UmiSettings.authUrl);a.done(function(a){a.result&&$.extend(window.UmiSettings,a.result.auth),require(["application/main"],function(a){a()})}),a.fail(function(a){require(["auth/main"],function(b){b({accessError:a})})})}),define("main",function(){});
//# sourceMappingURL=main.js.map